// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
(function(a,b){var l,e=function(){return"undefined"!==typeof v&&"function"!==typeof v?v:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),k=function(){},h=function(c){for(var a in c)return 0;return 1},d={}.toString,g=function(c){return"[object Function]"==d.call(c)},n=function(c){return"[object String]"==d.call(c)},c=function(c){return"[object Array]"==d.call(c)},f=function(c,a){if(c)for(var f=0;f<c.length;)a(c[f++])},p=function(c,a){for(var f in a)c[f]=a[f];return c},r=function(c,
a){return p(Error(c),{src:"dojoLoader",info:a})},m=1,q=function(){return"_"+m++},t=function(c,a,f){return ka(c,a,f,0,t)},v=e,x=v.document,u=x&&x.createElement("DiV"),w=t.has=function(c){return g(z[c])?z[c]=z[c](v,x,u):z[c]},z=w.cache=b.hasCache;g(a)&&(a=a(e));w.add=function(c,a,f,b){(void 0===z[c]||b)&&(z[c]=a);return f&&w(c)};w.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);w("host-webworker")&&(p(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(c,a){try{importScripts(c),a()}catch(Da){console.info("failed to load resource ("+c+")"),console.error(Da)}}});for(var A in a.has)w.add(A,a.has[A],0,1);t.async=1;var y=w("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");t.eval=function(c,a){return y(c+"\r\n//# sourceURL\x3d"+a)};var B={},D=t.signal=function(a,b){a=B[a];f(a&&a.slice(0),function(a){a.apply(null,
c(b)?b:[b])})};A=t.on=function(c,a){var f=B[c]||(B[c]=[]);f.push(a);return{remove:function(){for(var c=0;c<f.length;c++)if(f[c]===a){f.splice(c,1);break}}}};var C=[],E={},F=[],G={},H=t.map={},O=[],I={},L="",J={},M={},e={},P=0;if(!w("foreign-loader"))var Q=function(c,a){a=!1!==a;var f,b,m,g;for(f in M)b=M[f],(m=f.match(/^url\:(.+)/))?J["url:"+ra(m[1],c)]=b:"*now"==f?g=b:"*noref"!=f&&(m=ba(f,c,!0),J[m.mid]=J["url:"+m.url]=b);g&&g(Z(c));a&&(M={})};var R=function(c){return c.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(c){return"\\"+c})},la=function(c,a){a.splice(0,a.length);for(var f in c)a.push([f,c[f],new RegExp("^"+R(f)+"(/|$)"),f.length]);a.sort(function(c,a){return a[3]-c[3]});return a},sa=function(c,a){f(c,function(c){a.push([n(c[0])?new RegExp("^"+R(c[0])+"$"):c[0],c[1]])})},ga=function(c){var a=c.name;a||(a=c,c={name:a});c=p({main:"main"},c);c.location=c.location?c.location:a;c.packageMap&&(H[a]=c.packageMap);c.main.indexOf("./")||(c.main=c.main.substring(2));G[a]=c},V=[],S=function(c,a,b){for(var m in c){"waitSeconds"==
m&&(t.waitms=1E3*(c[m]||0));"cacheBust"==m&&(L=c[m]?n(c[m])?c[m]:(new Date).getTime()+"":"");if("baseUrl"==m||"combo"==m)t[m]=c[m];c[m]!==z&&(t.rawConfig[m]=c[m],"has"!=m&&w.add("config-"+m,c[m],0,a))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(m in c.has)w.add(m,c.has[m],0,a);f(c.packages,ga);for(var g in c.packagePaths)f(c.packagePaths[g],function(c){var a=g+"/"+c;n(c)&&(c={name:c});c.location=a;ga(c)});la(p(H,c.map),O);f(O,function(c){c[1]=la(c[1],[]);"*"==c[0]&&(O.star=
c)});la(p(E,c.paths),F);sa(c.aliases,C);if(!w("foreign-loader")){if(a)V.push({config:c.config});else for(m in c.config)a=ea(m,b),a.config=p(a.config||{},c.config[m]);c.cache&&(Q(),M=c.cache,Q(0,!!c.cache["*noref"]))}D("config",[c,t.rawConfig])};if(w("dojo-cdn")){var fa=x.getElementsByTagName("script");l=0;for(var N,W,T,X;l<fa.length;)if(N=fa[l++],(T=N.getAttribute("src"))&&(X=T.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(W=X[3]||"",b.baseUrl=b.baseUrl||W,P=N),T=N.getAttribute("data-dojo-config")||N.getAttribute("djConfig"))e=
t.eval("({ "+T+" })","data-dojo-config"),P=N}t.rawConfig={};S(b,1);w("dojo-cdn")&&((G.dojo.location=W)&&(W+="/"),G.dijit.location=W+"../dijit/",G.dojox.location=W+"../dojox/");S(a,1);S(e,1);if(!w("foreign-loader"))var ia=function(c){wa(function(){f(c.deps,Ea)})},ka=function(a,f,m,b,g){var d;if(n(a)){if((d=ea(a,b,!0))&&d.executed)return d.result;throw r("undefinedModule",a);}c(a)||(S(a,0,b),a=f,f=m);if(c(a))if(a.length){m="require*"+q();for(var e,h=[],v=0;v<a.length;)e=a[v++],h.push(ea(e,b));d=p(ha("",
m,0,""),{injected:2,deps:h,def:f||k,require:b?b.require:t,gc:1});I[d.mid]=d;ia(d);var u=ta&&!0;wa(function(){xa(d,u)});d.executed||U.push(d);ya()}else f&&f();return g},Z=function(c){if(!c)return t;var a=c.require;a||(a=function(f,b,m){return ka(f,b,m,c,a)},c.require=p(a,t),a.module=c,a.toUrl=function(a){return ra(a,c)},a.toAbsMid=function(a){return qa(a,c)});return a},U=[],ca=[],Y={},oa=function(c){c.injected=1;Y[c.mid]=1;c.url&&(Y[c.url]=c.pack||1);Ka()},ma=function(c){c.injected=2;delete Y[c.mid];
c.url&&delete Y[c.url];h(Y)&&La()},na=t.idle=function(){return!ca.length&&h(Y)&&!U.length&&!ta};var pa=function(c,a){if(a)for(var f=0;f<a.length;f++)if(a[f][2].test(c))return a[f];return 0},K=function(c){var a=[],f,b;for(c=c.replace(/\\/g,"/").split("/");c.length;)f=c.shift(),".."==f&&a.length&&".."!=b?(a.pop(),b=a[a.length-1]):"."!=f&&a.push(b=f);return a.join("/")},ha=function(c,a,f,b){return{pid:c,mid:a,pack:f,url:b,executed:0,def:0}},aa=function(c,a,b,m,d,n,p,e,q,h){var t,v,u,k;k=/^\./.test(c);
if(/(^\/)|(\:)|(\.js$)/.test(c)||k&&!a)return ha(0,c,0,c);c=K(k?a.mid+"/../"+c:c);if(/^\./.test(c))throw r("irrationalPath",c);h||k||!n.star||(u=pa(c,n.star[1]));!u&&a&&(u=(u=pa(a.mid,n))&&pa(c,u[1]));u&&(c=u[1]+c.substring(u[3]));a=(X=c.match(/^([^\/]+)(\/(.+))?$/))?X[1]:"";(t=b[a])?c=a+"/"+(v=X[3]||t.main):a="";var w=0;f(e,function(a){var f=c.match(a[0]);f&&0<f.length&&(w=g(a[1])?c.replace(a[0],a[1]):a[1])});if(w)return aa(w,0,b,m,d,n,p,e,q);if(b=m[c])return q?ha(b.pid,b.mid,b.pack,b.url):m[c];
m=(u=pa(c,p))?u[1]+c.substring(u[3]):a?("/"===t.location.slice(-1)?t.location.slice(0,-1):t.location)+"/"+v:c;/(^\/)|(\:)/.test(m)||(m=d+m);return ha(a,c,t,K(m+".js"))},ba=function(c,a,f){return aa(c,a,G,I,t.baseUrl,O,F,C,void 0,f)};if(!w("foreign-loader"))var da=function(c,a,f){return c.normalize?c.normalize(a,function(c){return qa(c,f)}):qa(a,f)},ja=0,ea=function(c,a,f){var b,m;(b=c.match(/^(.+?)\!(.*)$/))?(m=ea(b[1],a,f),5!==m.executed||m.load||za(m),m.load?(b=da(m,b[2],a),c=m.mid+"!"+(m.dynamic?
++ja+"!":"")+b):(b=b[2],c=m.mid+"!"+ ++ja+"!waitingForPlugin"),c={plugin:m,mid:c,req:Z(a),prid:b}):c=ba(c,a);return I[c.mid]||!f&&(I[c.mid]=c)};var qa=t.toAbsMid=function(c,a){return ba(c,a).mid},ra=t.toUrl=function(c,a){a=ba(c+"/x",a);var f=a.url;return Fa(0===a.pid?c:f.substring(0,f.length-5))};if(!w("foreign-loader")){var Ga={injected:2,executed:5,def:3,result:3};W=function(c){return I[c]=p({mid:c},Ga)};var Ma=W("require"),Na=W("exports"),Oa=W("module"),ua={},Aa=0,za=function(c){var a=c.result;
c.dynamic=a.dynamic;c.normalize=a.normalize;c.load=a.load;return c},Pa=function(c){var a={};f(c.loadQ,function(f){var b=da(c,f.prid,f.req.module),m=c.dynamic?f.mid.replace(/waitingForPlugin$/,b):c.mid+"!"+b,b=p(p({},f),{mid:m,prid:b,injected:0});I[m]&&I[m].injected||Ha(I[m]=b);a[f.mid]=I[m];ma(f);delete I[f.mid]});c.loadQ=0;var b=function(c){for(var f=c.deps||[],b=0;b<f.length;b++)(c=a[f[b].mid])&&(f[b]=c)},m;for(m in I)b(I[m]);f(U,b)},Ba=function(c){t.trace("loader-finish-exec",[c.mid]);c.executed=
5;c.defOrder=Aa++;c.loadQ&&(za(c),Pa(c));for(l=0;l<U.length;)U[l]===c?U.splice(l,1):l++;/^require\*/.test(c.mid)&&delete I[c.mid]},Qa=[],xa=function(c,a){if(4===c.executed)return t.trace("loader-circular-dependency",[Qa.concat(c.mid).join("-\x3e")]),!c.def||a?ua:c.cjs&&c.cjs.exports;if(!c.executed){if(!c.def)return ua;var f=c.mid,b=c.deps||[],m,d=[],n=0;for(c.executed=4;m=b[n++];){m=m===Ma?Z(c):m===Na?c.cjs.exports:m===Oa?c.cjs:xa(m,a);if(m===ua)return c.executed=0,t.trace("loader-exec-module",["abort",
f]),ua;d.push(m)}t.trace("loader-run-factory",[c.mid]);a=c.def;d=g(a)?a.apply(null,d):a;c.result=void 0===d&&c.cjs?c.cjs.exports:d;Ba(c)}return c.result},ta=0,wa=function(c){try{ta++,c()}catch(Ja){throw Ja;}finally{ta--}na()&&D("idle",[])},ya=function(){ta||wa(function(){for(var c,a,f=0;f<U.length;)c=Aa,a=U[f],xa(a),c!=Aa?f=0:f++})}}var Fa="function"==typeof a.fixupUrl?a.fixupUrl:function(c){c+="";return c+(L?(/\?/.test(c)?"\x26":"?")+L:"")};void 0===w("dojo-loader-eval-hint-url")&&w.add("dojo-loader-eval-hint-url",
1);var Ha=function(c){var a=c.plugin;5!==a.executed||a.load||za(a);var f=function(a){c.result=a;ma(c);Ba(c);ya()};a.load?a.load(c.prid,c.req,f):a.loadQ?a.loadQ.push(c):(a.loadQ=[c],U.unshift(a),Ea(a))},va=0,Ra=function(c,a){w("config-stripStrict")&&(c=c.replace(/(["'])use strict\1/g,""));c===va?va.call(null):t.eval(c,w("dojo-loader-eval-hint-url")?a.url:a.mid)},Ea=function(c){var a=c.mid,f=c.url;if(!(c.executed||c.injected||Y[a]||c.url&&(c.pack&&Y[c.url]===c.pack||1==Y[c.url])))if(oa(c),c.plugin)Ha(c);
else{var b=function(){Sa(c);if(2!==c.injected){if(w("dojo-enforceDefine")){D("error",r("noDefine",c));return}ma(c);p(c,Ga);t.trace("loader-define-nonmodule",[c.url])}ya()};(va=J[a]||J["url:"+c.url])?(t.trace("loader-inject",["cache",c.mid,f]),Ra(va,c),b()):(t.trace("loader-inject",["script",c.mid,f]),t.injectUrl(Fa(f),b,c))}},Ia=function(c,a,f){t.trace("loader-define-module",[c.mid,a]);if(2===c.injected)return D("error",r("multipleDefine",c)),c;p(c,{deps:a,def:f,cjs:{id:c.mid,uri:c.url,exports:c.result=
{},setExports:function(a){c.cjs.exports=a},config:function(){return c.config}}});for(var b=0;a[b];b++)a[b]=ea(a[b],c);ma(c);g(f)||a.length||(c.result=f,Ba(c));return c},Sa=function(c,a){for(var b=[],m,g;ca.length;)g=ca.shift(),a&&(g[0]=a.shift()),m=g[0]&&ea(g[0])||c,b.push([m,g[1],g[2]]);Q(c);f(b,function(c){ia(Ia.apply(null,c))})},La=k,Ka=k;w("dom");if(w("dom")){var Ca=function(c,a,f,b){c.addEventListener(a,b,!1);return function(){c.removeEventListener(a,b,!1)}},Ta=Ca(window,"load","onload",function(){t.pageLoaded=
1;try{"complete"!=x.readyState&&(x.readyState="complete")}catch(Ua){}Ta()}),fa=x.getElementsByTagName("script");for(l=0;!P;)/^dojo/.test((N=fa[l++])&&N.type)||(P=N);t.injectUrl=function(c,a,f){f=f.node=x.createElement("script");var b=Ca(f,"load","onreadystatechange",function(c){c=c||window.event;var f=c.target||c.srcElement;if("load"===c.type||/complete|loaded/.test(f.readyState))b(),m(),a&&a()}),m=Ca(f,"error","onerror",function(a){b();m();D("error",r("scriptError: "+c,[c,a]))});f.type="text/javascript";
f.charset="utf-8";f.src=c;P.parentNode.insertBefore(f,P);return f}}t.log=k;t.trace=k;w("foreign-loader")?N=k:(N=function(c,a,f){var b=arguments.length,m=["require","exports","module"],d=[0,c,a];1==b?d=[0,g(c)?m:[],c]:2==b&&n(c)?d=[c,g(a)?m:[],a]:3==b&&(d=[c,a,f]);t.trace("loader-define",d.slice(0,2));(b=d[0]&&ea(d[0]))&&!Y[b.mid]?ia(Ia(b,d[1],d[2])):ca.push(d)},N.amd={vendor:"dojotoolkit.org"});p(p(t,b.loaderPatch),a.loaderPatch);A("error",function(c){try{if(console.error(c),c instanceof Error){for(var a in c)console.log(a+
":",c[a]);console.log(".")}}catch(Da){}});p(t,{uid:q,cache:J,packs:G});v.define||(v.define=N,v.require=t,w("foreign-loader")||(f(V,function(c){S(c)}),N=e.deps||a.deps||b.deps,a=e.callback||a.callback||b.callback,t.boot=N||a?[N||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"https://js.arcgis.com/4.12/dojo",
hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",
main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette",main:"dist/maquette.umd",name:"maquette"},{location:"../maquette-css-transitions",
main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"dojo/domReady":function(){define(["./global","./has"],function(a,b){function l(c){n.push(c);g&&e()}function e(){if(!c){for(c=!0;n.length;)try{n.shift()(k)}catch(m){console.error(m,"in domReady callback",m.stack)}c=!1;l._onQEmpty()}}var k=document,h={loaded:1,complete:1},d="string"!=typeof k.readyState,g=!!h[k.readyState],n=[],c;l.load=function(c,a,f){l(f)};l._Q=n;l._onQEmpty=function(){};d&&(k.readyState="loading");if(!g){var f=[],p=function(c){c=c||a.event;g||"readystatechange"==
c.type&&!h[k.readyState]||(d&&(k.readyState="complete"),g=1,e())};b=function(c,a){c.addEventListener(a,p,!1);n.push(function(){c.removeEventListener(a,p,!1)})};b(k,"DOMContentLoaded");b(a,"load");"onreadystatechange"in k?b(k,"readystatechange"):d||f.push(function(){return h[k.readyState]});if(f.length){var r=function(){if(!g){for(var c=f.length;c--;)if(f[c]()){p("poller");return}setTimeout(r,30)}};r()}}return l})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==
typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],function(a,b,l){var e=b.has||function(){};if(!e("dojo-has-api")){var k=(b="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,h=k&&k.createElement("DiV"),d=l.config&&l.config()||{},e=function(b){return"function"==typeof d[b]?d[b]=d[b](a,k,h):d[b]};
e.cache=d;e.add=function(a,b,c,f){("undefined"==typeof d[a]||f)&&(d[a]=b);return c&&e(a)};e.add("host-browser",b);e.add("dom",b)}e("host-browser")&&(e.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),e.add("touch-events","ontouchstart"in document),e.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),e.add("device-width",screen.availWidth||innerWidth),l=document.createElement("form"),
e.add("dom-attributes-specified-flag",0<l.attributes.length&&40>l.attributes.length));e.clearElement=function(a){a.innerHTML="";return a};e.normalize=function(a,b){var c=a.match(/[\?:]|[^:\?]*/g),f=0,d=function(a){var b=c[f++];if(":"==b)return 0;if("?"==c[f++]){if(!a&&e(b))return d();d(!0);return d(a)}return b||0};return(a=d())&&b(a)};e.load=function(a,b,c){a?b([a],c):c()};return e})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),
function(a){return a})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(a,b,l,e,k){var h=0,d=[],g=0;b=function(){h=1;a._postLoad=a.config.afterOnLoad=!0;n()};var n=function(){if(!g){for(g=1;h&&(!e||0==e._Q.length)&&(l.idle?l.idle():1)&&d.length;){var c=d.shift();try{c()}catch(r){if(r.info=r.message,l.signal)l.signal("error",r);else throw r;}}g=0}};l.on&&l.on("idle",n);e&&(e._onQEmpty=n);var c=a.ready=a.addOnLoad=function(c,
f,b){var m=k._toArray(arguments);"number"!=typeof c?(b=f,f=c,c=1E3):m.shift();b=b?k.hitch.apply(a,m):function(){f()};b.priority=c;for(m=0;m<d.length&&c>=d[m].priority;m++);d.splice(m,0,b);n()},f=a.config.addOnLoad;if(f)c[k.isArray(f)?"apply":"call"](a,f);e?e(b):b();return c})},"dojo/_base/kernel":function(){define(["../global","../has","./config","require","module"],function(a,b,l,e,k){var h,d={},g={},n={config:l,global:a,dijit:d,dojox:g},d={dojo:["dojo",n],dijit:["dijit",d],dojox:["dojox",g]};k=
e.map&&e.map[k.id.match(/[^\/]+/)[0]];for(h in k)d[h]?d[h][0]=k[h]:d[h]=[k[h],{}];for(h in d)k=d[h],k[1]._scopeName=k[0],l.noGlobals||(a[k[0]]=k[1]);n.scopeMap=d;n.baseUrl=n.config.baseUrl=e.baseUrl;n.isAsync=e.async;n.locale=l.locale;a="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);n.version={major:1,minor:14,patch:2,flag:"",revision:a?a[0]:NaN,toString:function(){var c=n.version;return c.major+"."+c.minor+"."+c.patch+c.flag+" ("+c.revision+")"}};b("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(n);
n.exit=function(){};b("host-webworker");"undefined"!=typeof console||(console={});a="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var c;for(b=0;c=a[b++];)console[c]?console[c]=Function.prototype.bind.call(console[c],console):function(){var a=c+"";console[a]="log"in console?function(){var c=Array.prototype.slice.call(arguments);c.unshift(a+":");console.log(c.join(" "))}:function(){};console[a]._fake=!0}();n.deprecated=n.experimental=
function(){};n._hasResource={};return n})},"dojo/_base/config":function(){define(["../global","../has","require"],function(a,b,l){a={};l=l.rawConfig;for(var e in l)a[e]=l[e];!a.locale&&"undefined"!=typeof navigator&&(e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(a.locale=e.toLowerCase());return a})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(a,b){var l=function(b,d,c){c||(c=b[0]&&a.scopeMap[b[0]]?
a.scopeMap[b.shift()][1]:a.global);try{for(var f=0;f<b.length;f++){var g=b[f];if(!(g in c))if(d)c[g]={};else return;c=c[g]}return c}catch(r){}},e=Object.prototype.toString,k=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},h=/\{([^\}]+)\}/g,d={_extraNames:[],_mixin:function(a,b,c){var f,d,g={};for(f in b)d=b[f],f in a&&(a[f]===d||f in g&&g[f]===d)||(a[f]=c?c(d):d);return a},mixin:function(a,b){a||(a={});for(var c=1,f=arguments.length;c<f;c++)d._mixin(a,arguments[c]);return a},
setObject:function(a,b,c){var f=a.split(".");a=f.pop();return(c=l(f,!0,c))&&a?c[a]=b:void 0},getObject:function(a,b,c){return a?l(a.split("."),b,c):c},exists:function(a,b){return void 0!==d.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||function(a){return"[object Array]"==e.call(a)},isFunction:function(a){return"[object Function]"===e.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||d.isArray(a)||d.isFunction(a))},
isArrayLike:function(a){return!!a&&!d.isString(a)&&!d.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(d.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!d.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,b){for(var c=1,f=arguments.length;c<f;c++)d._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(b,n){var c=d._toArray(arguments,2),f=d.isString(n);return function(){var g=d._toArray(arguments),e=f?(b||a.global)[n]:n;return e&&e.apply(b||
this,c.concat(g))}},hitch:function(b,n){if(2<arguments.length)return d._hitchArgs.apply(a,arguments);n||(n=b,b=null);if(d.isString(n)){b=b||a.global;if(!b[n])throw['lang.hitch: scope["',n,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[n].apply(b,arguments||[])}}return b?function(){return n.apply(b,arguments||[])}:n},delegate:function(){function a(){}return function(b,c){a.prototype=b;b=new a;a.prototype=null;c&&d._mixin(b,c);return b}}(),_toArray:b("ie")?function(){function a(a,
c,b){b=b||[];for(c=c||0;c<a.length;c++)b.push(a[c]);return b}return function(b){return(b.item?a:k).apply(this,arguments)}}():k,partial:function(b){return d.hitch.apply(a,[null].concat(d._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||d.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var b,c,f;if(d.isArray(a))for(b=[],c=0,f=a.length;c<f;++c)c in a&&(b[c]=d.clone(a[c]));
else b=a.constructor?new a.constructor:{};return d._mixin(b,a,d.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,c){return a.replace(c||h,d.isFunction(b)?b:function(c,a){return d.getObject(a,!1,b)})}};d.mixin(a,d);return d})},"dojo/sniff":function(){define(["./has"],function(a){if(a("host-browser")){var b=navigator,l=b.userAgent,b=b.appVersion,e=parseFloat(b);a.add("edge",parseFloat(l.split("Edge/")[1])||
void 0);a.add("webkit",!a("edge")&&parseFloat(l.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&!0&&parseFloat(l.split("Chrome/")[1])||void 0);a.add("safari",0<=b.indexOf("Safari")&&!a("chrome")&&!a("edge")?parseFloat(b.split("Version/")[1]):void 0);a.add("mac",0<=b.indexOf("Macintosh"));if(l.match(/(iPhone|iPod|iPad)/)){var k=RegExp.$1.replace(/P/,"p"),h=l.match(/OS ([\d_]+)/)?RegExp.$1:"1",h=parseFloat(h.replace(/_/,".").replace(/_/g,""));a.add(k,h);a.add("ios",h)}a.add("trident",parseFloat(b.split("Trident/")[1])||
void 0);a("webkit")||(0<=l.indexOf("Opera")&&a.add("opera",9.8<=e?parseFloat(l.split("Version/")[1])||e:e),0<=l.indexOf("Gecko")&&!a("trident")&&!a("edge")&&a.add("mozilla",e),a("mozilla")&&a.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0),document.all&&!a("opera")&&(l=parseFloat(b.split("MSIE ")[1])||void 0,(b=document.documentMode)&&5!=b&&Math.floor(l)!=b&&(l=b),a.add("ie",l)))}return a})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),
function(a,b,l,e,k,h,d,g){function n(c,f,d,n,p){n=g.hitch(d,n);if(!c||!c.addEventListener&&!c.attachEvent)return e.after(c||a.global,f,n,!0);"string"==typeof f&&"on"==f.substring(0,2)&&(f=f.substring(2));c||(c=a.global);if(!p)switch(f){case "keypress":f=m;break;case "mouseenter":f=h.enter;break;case "mouseleave":f=h.leave}return b(c,f,n,p)}function c(c){c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}d.add("events-keypress-typed",function(){var c={charCode:0};
try{c=document.createEvent("KeyboardEvent"),(c.initKeyboardEvent||c.initKeyEvent).call(c,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(v){}return 0==c.charCode&&!d("opera")});var f={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},p=d("mac")?"metaKey":"ctrlKey",r=function(a,b){b=g.mixin({},a,b);c(b);b.preventDefault=function(){a.preventDefault()};b.stopPropagation=function(){a.stopPropagation()};return b},m;m=d("events-keypress-typed")?function(c,
a){var m=b(c,"keydown",function(c){var b=c.keyCode,m=13!=b&&32!=b&&(27!=b||!d("ie"))&&(48>b||90<b)&&(96>b||111<b)&&(186>b||192<b)&&(219>b||222<b)&&229!=b;if(m||c.ctrlKey){m=m?0:b;if(c.ctrlKey){if(3==b||13==b)return a.call(c.currentTarget,c);m=95<m&&106>m?m-48:!c.shiftKey&&65<=m&&90>=m?m+32:f[m]||m}b=r(c,{type:"keypress",faux:!0,charCode:m});a.call(c.currentTarget,b);if(d("ie"))try{c.keyCode=b.keyCode}catch(y){}}}),g=b(c,"keypress",function(c){var b=c.charCode;c=r(c,{charCode:32<=b?b:0,faux:!0});return a.call(this,
c)});return{remove:function(){m.remove();g.remove()}}}:d("opera")?function(c,a){return b(c,"keypress",function(c){var b=c.which;3==b&&(b=99);b=32>b&&!c.shiftKey?0:b;c.ctrlKey&&!c.shiftKey&&65<=b&&90>=b&&(b+=32);return a.call(this,r(c,{charCode:b}))})}:function(a,f){return b(a,"keypress",function(a){c(a);return f.call(this,a)})};var q={_keypress:m,connect:function(c,a,b,f,m){var d=arguments,g=[],p=0;g.push("string"==typeof d[0]?null:d[p++],d[p++]);var e=d[p+1];g.push("string"==typeof e||"function"==
typeof e?d[p++]:null,d[p++]);for(e=d.length;p<e;p++)g.push(d[p]);return n.apply(this,g)},disconnect:function(c){c&&c.remove()},subscribe:function(c,a,b){return l.subscribe(c,g.hitch(a,b))},publish:function(c,a){return l.publish.apply(l,[c].concat(a))},connectPublisher:function(c,a,b){var f=function(){q.publish(c,arguments)};return b?q.connect(a,b,f):q.connect(a,f)},isCopyKey:function(c){return c[p]}};q.unsubscribe=q.disconnect;g.mixin(a,q);return q})},"dojo/on":function(){define(["require","./_base/kernel",
"./sniff"],function(a,b,l){function e(c,a,b,n,p){if(n=a.match(/(.*):(.*)/))return a=n[2],n=n[1],d.selector(n,a).call(p,c,b);l("touch")&&g.test(a)&&(b=r(b));if(c.addEventListener){var m=a in f,e=m?f[a]:a;c.addEventListener(e,b,m);return{remove:function(){c.removeEventListener(e,b,m)}}}throw Error("Target must be an event emitter");}function k(){this.cancelable=!1;this.defaultPrevented=!0}function h(){this.bubbles=!1}l("dom")&&l("touch");var d=function(c,a,b,f){return"function"!=typeof c.on||"function"==
typeof a||c.nodeType?d.parse(c,a,b,e,f,this):c.on(a,b)};d.pausable=function(c,a,b,f){var m;c=d(c,a,function(){if(!m)return b.apply(this,arguments)},f);c.pause=function(){m=!0};c.resume=function(){m=!1};return c};d.once=function(c,a,b,f){var m=d(c,a,function(){m.remove();return b.apply(this,arguments)});return m};d.parse=function(c,a,b,f,g,n){var m;if(a.call)return a.call(n,c,b);a instanceof Array?m=a:-1<a.indexOf(",")&&(m=a.split(/\s*,\s*/));if(m){var p=[];a=0;for(var e;e=m[a++];)p.push(d.parse(c,
e,b,f,g,n));p.remove=function(){for(var c=0;c<p.length;c++)p[c].remove()};return p}return f(c,a,b,g,n)};var g=/^touch/;d.matches=function(c,a,f,d,g){g=g&&"function"==typeof g.matches?g:b.query;d=!1!==d;1!=c.nodeType&&(c=c.parentNode);for(;!g.matches(c,a,f);)if(c==f||!1===d||!(c=c.parentNode)||1!=c.nodeType)return!1;return c};d.selector=function(c,a,b){return function(f,m){function g(a){return d.matches(a,c,f,b,n)}var n="function"==typeof c?{matches:c}:this,p=a.bubble;return p?d(f,p(g),m):d(f,a,function(c){var a=
g(c.target);if(a)return c.selectorTarget=a,m.call(a,c)})}};var n=[].slice,c=d.emit=function(c,a,b){var f=n.call(arguments,2),m="on"+a;if("parentNode"in c){var d=f[0]={},g;for(g in b)d[g]=b[g];d.preventDefault=k;d.stopPropagation=h;d.target=c;d.type=a;b=d}do c[m]&&c[m].apply(c,f);while(b&&b.bubbles&&(c=c.parentNode));return b&&b.cancelable&&b},f={};d.emit=function(a,b,f){if(a.dispatchEvent&&document.createEvent){var m=(a.ownerDocument||document).createEvent("HTMLEvents");m.initEvent(b,!!f.bubbles,
!!f.cancelable);for(var g in f)g in m||(m[g]=f[g]);return a.dispatchEvent(m)&&m}return c.apply(d,arguments)};if(l("touch"))var p=window.orientation,r=function(c){return function(a){var b=a.corrected;if(!b){var f=a.type;try{delete a.type}catch(w){}if(a.type){var b={},m;for(m in a)b[m]=a[m];b.preventDefault=function(){a.preventDefault()};b.stopPropagation=function(){a.stopPropagation()}}else b=a,b.type=f;a.corrected=b;if("resize"==f){if(p==window.orientation)return null;p=window.orientation;b.type=
"orientationchange";return c.call(this,b)}"rotation"in b||(b.rotation=0,b.scale=1);if(window.TouchEvent&&a instanceof TouchEvent){var f=b.changedTouches[0],d;for(d in f)delete b[d],b[d]=f[d]}}return c.call(this,b)}};return d})},"dojo/topic":function(){define(["./Evented"],function(a){var b=new a;return{publish:function(a,e){return b.emit.apply(b,arguments)},subscribe:function(a,e){return b.on.apply(b,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(a,b){function l(){}
var e=a.after;l.prototype={on:function(a,h){return b.parse(this,a,h,function(a,b){return e(a,"on"+b,h,!0)})},emit:function(a,e){var d=[this];d.push.apply(d,arguments);return b.emit.apply(b,d)}};return l})},"dojo/aspect":function(){define([],function(){function a(a,b,n,c){var f=a[b],d="around"==b,g;if(d){var m=n(function(){return f.advice(this,arguments)});g={remove:function(){m&&(m=a=n=null)},advice:function(c,a){return m?m.apply(c,a):f.advice(c,a)}}}else g={remove:function(){if(g.advice){var c=g.previous,
f=g.next;f||c?(c?c.next=f:a[b]=f,f&&(f.previous=c)):delete a[b];a=n=g.advice=null}},id:a.nextId++,advice:n,receiveArguments:c};if(f&&!d)if("after"==b){for(;f.next&&(f=f.next););f.next=g;g.previous=f}else"before"==b&&(a[b]=g,g.next=f,f.previous=g);else a[b]=g;return g}function b(b){return function(d,n,c,f){var g=d[n],e;g&&g.target==d||(d[n]=e=function(){for(var c=e.nextId,a=arguments,b=e.before;b;)b.advice&&(a=b.advice.apply(this,a)||a),b=b.next;if(e.around)var f=e.around.advice(this,a);for(b=e.after;b&&
b.id<c;){if(b.advice)if(b.receiveArguments)var d=b.advice.apply(this,a),f=d===l?f:d;else f=b.advice.call(this,f,a);b=b.next}return f},g&&(e.around={advice:function(c,a){return g.apply(c,a)}}),e.target=d,e.nextId=e.nextId||0);d=a(e||g,b,c,f);c=null;return d}}var l,e=b("after"),k=b("before"),h=b("around");return{before:k,around:h,after:e}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(a,b,l,e){if(b._fixEvent){var k=b._fixEvent;b._fixEvent=function(a,
b){(a=k(a,b))&&e.normalizeEvent(a);return a}}l={fix:function(a,d){return b._fixEvent?b._fixEvent(a,d):a},stop:function(a){a.preventDefault();a.stopPropagation()}};a.fixEvent=l.fix;a.stopEvent=l.stop;return l})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(a,b,l,e){function k(c,a,b,d,m,g){g=g||"px";c=c.style;isNaN(a)||(c.left=a+g);isNaN(b)||(c.top=b+g);0<=d&&(c.width=d+g);0<=m&&(c.height=m+g)}function h(c){return"button"==c.tagName.toLowerCase()||
"input"==c.tagName.toLowerCase()&&"button"==(c.getAttribute("type")||"").toLowerCase()}function d(c){return"border-box"==g.boxModel||"table"==c.tagName.toLowerCase()||h(c)}var g={boxModel:"content-box"};a("ie")&&(g.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");g.getPadExtents=function(c,a){c=l.byId(c);var b=a||e.getComputedStyle(c),f=e.toPixelValue;a=f(c,b.paddingLeft);var m=f(c,b.paddingTop),d=f(c,b.paddingRight);c=f(c,b.paddingBottom);return{l:a,t:m,r:d,b:c,w:a+d,h:m+c}};
g.getBorderExtents=function(c,a){c=l.byId(c);var b=e.toPixelValue,f=a||e.getComputedStyle(c);a="none"!=f.borderLeftStyle?b(c,f.borderLeftWidth):0;var m="none"!=f.borderTopStyle?b(c,f.borderTopWidth):0,d="none"!=f.borderRightStyle?b(c,f.borderRightWidth):0;c="none"!=f.borderBottomStyle?b(c,f.borderBottomWidth):0;return{l:a,t:m,r:d,b:c,w:a+d,h:m+c}};g.getPadBorderExtents=function(c,a){c=l.byId(c);var b=a||e.getComputedStyle(c);a=g.getPadExtents(c,b);c=g.getBorderExtents(c,b);return{l:a.l+c.l,t:a.t+
c.t,r:a.r+c.r,b:a.b+c.b,w:a.w+c.w,h:a.h+c.h}};g.getMarginExtents=function(c,a){c=l.byId(c);var b=a||e.getComputedStyle(c),f=e.toPixelValue;a=f(c,b.marginLeft);var m=f(c,b.marginTop),d=f(c,b.marginRight);c=f(c,b.marginBottom);return{l:a,t:m,r:d,b:c,w:a+d,h:m+c}};g.getMarginBox=function(c,b){c=l.byId(c);b=b||e.getComputedStyle(c);b=g.getMarginExtents(c,b);var f=c.offsetLeft-b.l,d=c.offsetTop-b.t,m=c.parentNode,n=e.toPixelValue;8==a("ie")&&m&&(m=e.getComputedStyle(m),f-="none"!=m.borderLeftStyle?n(c,
m.borderLeftWidth):0,d-="none"!=m.borderTopStyle?n(c,m.borderTopWidth):0);return{l:f,t:d,w:c.offsetWidth+b.w,h:c.offsetHeight+b.h}};g.getContentBox=function(c,b){c=l.byId(c);var f=b||e.getComputedStyle(c);b=c.clientWidth;var d,m=g.getPadExtents(c,f);d=g.getBorderExtents(c,f);var f=c.offsetLeft+m.l+d.l,n=c.offsetTop+m.t+d.t;b?d=c.clientHeight:(b=c.offsetWidth-d.w,d=c.offsetHeight-d.h);if(8==a("ie")){var h=c.parentNode,v=e.toPixelValue;h&&(h=e.getComputedStyle(h),f-="none"!=h.borderLeftStyle?v(c,h.borderLeftWidth):
0,n-="none"!=h.borderTopStyle?v(c,h.borderTopWidth):0)}return{l:f,t:n,w:b-m.w,h:d-m.h}};g.setContentSize=function(c,a,b){c=l.byId(c);var f=a.w;a=a.h;d(c)&&(b=g.getPadBorderExtents(c,b),0<=f&&(f+=b.w),0<=a&&(a+=b.h));k(c,NaN,NaN,f,a)};var n={l:0,t:0,w:0,h:0};g.setMarginBox=function(c,b,p){c=l.byId(c);var f=p||e.getComputedStyle(c);p=b.w;var m=b.h,q=d(c)?n:g.getPadBorderExtents(c,f),f=g.getMarginExtents(c,f);if(a("webkit")&&h(c)){var t=c.style;0<=p&&!t.width&&(t.width="4px");0<=m&&!t.height&&(t.height=
"4px")}0<=p&&(p=Math.max(p-q.w-f.w,0));0<=m&&(m=Math.max(m-q.h-f.h,0));k(c,b.l,b.t,p,m)};g.isBodyLtr=function(c){c=c||b.doc;return"ltr"==(b.body(c).dir||c.documentElement.dir||"ltr").toLowerCase()};g.docScroll=function(c){c=c||b.doc;var a=b.doc.parentWindow||b.doc.defaultView;return"pageXOffset"in a?{x:a.pageXOffset,y:a.pageYOffset}:(a=c.documentElement)&&{x:g.fixIeBiDiScrollLeft(a.scrollLeft||0,c),y:a.scrollTop||0}};g.getIeDocumentElementOffset=function(c){return{x:0,y:0}};g.fixIeBiDiScrollLeft=
function(c,f){f=f||b.doc;var d=a("ie");if(d&&!g.isBodyLtr(f)){f=f.documentElement;var n=b.global;6==d&&n.frameElement&&f.scrollHeight>f.clientHeight&&(c+=f.clientLeft);return 8>d?c+f.clientWidth-f.scrollWidth:-c}return c};g.position=function(c,f){c=l.byId(c);b.body(c.ownerDocument);var d=c.getBoundingClientRect(),d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};9>a("ie")&&(d.x-=0,d.y-=0);f&&(c=g.docScroll(c.ownerDocument),d.x+=c.x,d.y+=c.y);return d};g.getMarginSize=function(c,a){c=l.byId(c);
a=g.getMarginExtents(c,a||e.getComputedStyle(c));c=c.getBoundingClientRect();return{w:c.right-c.left+a.w,h:c.bottom-c.top+a.h}};g.normalizeEvent=function(c){"layerX"in c||(c.layerX=c.offsetX,c.layerY=c.offsetY);if(!("pageX"in c)){var a=c.target,a=a&&a.ownerDocument||document,b=a.documentElement;c.pageX=c.clientX+g.fixIeBiDiScrollLeft(b.scrollLeft||0,a);c.pageY=c.clientY+(b.scrollTop||0)}};return g})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(a,b,l){var e={global:a.global,
doc:a.global.document||null,body:function(b){b=b||a.doc;return b.body||b.getElementsByTagName("body")[0]},setContext:function(b,h){a.global=e.global=b;a.doc=e.doc=h},withGlobal:function(b,h,d,g){var n=a.global;try{return a.global=e.global=b,e.withDoc.call(null,b.document,h,d,g)}finally{a.global=e.global=n}},withDoc:function(b,h,d,g){var n=e.doc,c=l("ie"),f,p,r;try{return a.doc=e.doc=b,a.isQuirks=0,l("ie")&&(r=b.parentWindow)&&r.navigator&&(f=parseFloat(r.navigator.appVersion.split("MSIE ")[1])||void 0,
(p=b.documentMode)&&5!=p&&Math.floor(f)!=p&&(f=p),a.isIE=l.add("ie",f,!0,!0)),d&&"string"==typeof h&&(h=d[h]),h.apply(d,g||[])}finally{a.doc=e.doc=n,a.isQuirks=0,a.isIE=l.add("ie",c,!0,!0)}}};b.mixin(a,e);return e})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(a,b,l){if(7>=a("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(h){}var e={};a("ie")?e.byId=function(a,d){if("string"!=typeof a)return a;var g=d||b.doc;d=a&&g.getElementById(a);if(!d||
d.attributes.id.value!=a&&d.id!=a){g=g.all[a];if(!g||g.nodeName)g=[g];for(var n=0;d=g[n++];)if(d.attributes&&d.attributes.id&&d.attributes.id.value==a||d.id==a)return d}else return d}:e.byId=function(a,d){return("string"==typeof a?(d||b.doc).getElementById(a):a)||null};l=l.global.document||null;a.add("dom-contains",!(!l||!l.contains));e.isDescendant=a("dom-contains")?function(a,b){return!(!(b=e.byId(b))||!b.contains(e.byId(a)))}:function(a,b){try{for(a=e.byId(a),b=e.byId(b);a;){if(a==b)return!0;a=
a.parentNode}}catch(g){}return!1};a.add("css-user-select",function(a,b,g){if(!g)return!1;a=g.style;b=["Khtml","O","Moz","Webkit"];g=b.length;var d="userSelect";do if("undefined"!==typeof a[d])return d;while(g--&&(d=b[g]+"UserSelect"));return!1});var k=a("css-user-select");e.setSelectable=k?function(a,b){e.byId(a).style[k]=b?"":"none"}:function(a,b){a=e.byId(a);var d=a.getElementsByTagName("*"),n=d.length;if(b)for(a.removeAttribute("unselectable");n--;)d[n].removeAttribute("unselectable");else for(a.setAttribute("unselectable",
"on");n--;)d[n].setAttribute("unselectable","on")};return e})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(a,b,l){function e(c,a,b){a=a.toLowerCase();if("auto"==b){if("height"==a)return c.offsetHeight;if("width"==a)return c.offsetWidth}if("fontweight"==a)switch(b){case 700:return"bold";default:return"normal"}a in f||(f[a]=p.test(a));return f[a]?d(c,b):b}var k,h={};k=a("webkit")?function(c){var a;if(1==c.nodeType){var b=c.ownerDocument.defaultView;a=b.getComputedStyle(c,
null);!a&&c.style&&(c.style.display="",a=b.getComputedStyle(c,null))}return a||{}}:a("ie")&&9>a("ie")?function(c){return 1==c.nodeType&&c.currentStyle?c.currentStyle:{}}:function(c){if(1===c.nodeType){var a=c.ownerDocument.defaultView;return(a.opener?a:l.global.window).getComputedStyle(c,null)}return{}};h.getComputedStyle=k;var d;d=a("ie")?function(c,a){if(!a)return 0;if("medium"==a)return 4;if(a.slice&&"px"==a.slice(-2))return parseFloat(a);var b=c.style,f=c.runtimeStyle,m=b.left,d=f.left;f.left=
c.currentStyle.left;try{b.left=a,a=b.pixelLeft}catch(w){a=0}b.left=m;f.left=d;return a}:function(c,a){return parseFloat(a)||0};h.toPixelValue=d;var g=function(c,a){try{return c.filters.item("DXImageTransform.Microsoft.Alpha")}catch(t){return a?{}:null}},n=9>a("ie")||(a("ie"),0)?function(c){try{return g(c).Opacity/100}catch(q){return 1}}:function(c){return k(c).opacity},c=9>a("ie")||(a("ie"),0)?function(a,b){""===b&&(b=1);var f=100*b;1===b?(a.style.zoom="",g(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,
""))):(a.style.zoom=1,g(a)?g(a,1).Opacity=f:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+f+")",g(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&c(a,b);return b}:function(c,a){return c.style.opacity=a},f={left:!0,top:!0},p=/margin|padding|width|height|max|min|offset/,r={cssFloat:1,styleFloat:1,"float":1};h.get=function(c,a){var f=b.byId(c),d=arguments.length;if(2==d&&"opacity"==a)return n(f);a=r[a]?"cssFloat"in
f.style?"cssFloat":"styleFloat":a;var m=h.getComputedStyle(f);return 1==d?m:e(f,a,m[a]||f.style[a])};h.set=function(a,f,d){var m=b.byId(a),g=arguments.length,n="opacity"==f;f=r[f]?"cssFloat"in m.style?"cssFloat":"styleFloat":f;if(3==g)return n?c(m,d):m.style[f]=d;for(var e in f)h.set(a,e,f[e]);return h.getComputedStyle(m)};return h})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(a,b,l,e,k){function h(a,g){var d=function(c,f){return b(c,a,function(a){if(g)return g(a,
f);if(!e.isDescendant(a.relatedTarget,c))return f.call(this,a)})};d.bubble=function(c){return h(a,function(a,b){var f=c(a.target),d=a.relatedTarget;if(f&&f!=(d&&1==d.nodeType&&c(d)))return b.call(f,a)})};return d}l={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,b){return a.button==b},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};a.mouseButtons=l;return{_eventHandler:h,enter:h("mouseover"),leave:h("mouseout"),wheel:"mousewheel",
isLeft:l.isLeft,isMiddle:l.isMiddle,isRight:l.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(a,b,l){if(!l("host-browser"))return l;a._name="browser";b.mixin(a,{isBrowser:!0,isFF:l("ff"),isIE:l("ie"),isKhtml:0,isWebKit:l("webkit"),isMozilla:l("mozilla"),isMoz:l("mozilla"),isOpera:l("opera"),isSafari:l("safari"),isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return l})},"dojo/keys":function(){define(["./_base/kernel",
"./sniff"],function(a,b){return a.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:b("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,
NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:b("mac")?b("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(a,b,l){var e=window,k={addOnWindowUnload:function(h,d){a.windowUnloaded||l(e,"unload",a.windowUnloaded=function(){});l(e,"unload",b.hitch(h,
d))},addOnUnload:function(a,d){l(e,"beforeunload",b.hitch(a,d))}};a.addOnWindowUnload=k.addOnWindowUnload;a.addOnUnload=k.addOnUnload;return k})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(a,b,l,e,k,h,d,g){a.byId=b.byId;a.isDescendant=b.isDescendant;a.setSelectable=b.setSelectable;a.getAttr=e.get;a.setAttr=e.set;a.hasAttr=e.has;a.removeAttr=e.remove;a.getNodeProp=e.getNodeProp;a.attr=
function(a,c,b){return 2==arguments.length?e["string"==typeof c?"get":"set"](a,c):e.set(a,c,b)};a.hasClass=h.contains;a.addClass=h.add;a.removeClass=h.remove;a.toggleClass=h.toggle;a.replaceClass=h.replace;a._toDom=a.toDom=d.toDom;a.place=d.place;a.create=d.create;a.empty=function(a){d.empty(a)};a._destroyElement=a.destroy=function(a){d.destroy(a)};a._getPadExtents=a.getPadExtents=g.getPadExtents;a._getBorderExtents=a.getBorderExtents=g.getBorderExtents;a._getPadBorderExtents=a.getPadBorderExtents=
g.getPadBorderExtents;a._getMarginExtents=a.getMarginExtents=g.getMarginExtents;a._getMarginSize=a.getMarginSize=g.getMarginSize;a._getMarginBox=a.getMarginBox=g.getMarginBox;a.setMarginBox=g.setMarginBox;a._getContentBox=a.getContentBox=g.getContentBox;a.setContentSize=g.setContentSize;a._isBodyLtr=a.isBodyLtr=g.isBodyLtr;a._docScroll=a.docScroll=g.docScroll;a._getIeDocumentElementOffset=a.getIeDocumentElementOffset=g.getIeDocumentElementOffset;a._fixIeBiDiScrollLeft=a.fixIeBiDiScrollLeft=g.fixIeBiDiScrollLeft;
a.position=g.position;a.marginBox=function(a,c){return c?g.setMarginBox(a,c):g.getMarginBox(a)};a.contentBox=function(a,c){return c?g.setContentSize(a,c):g.getContentBox(a)};a.coords=function(d,c){a.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");d=b.byId(d);var f=l.getComputedStyle(d),f=g.getMarginBox(d,f);d=g.position(d,c);f.x=d.x;f.y=d.y;return f};a.getProp=k.get;a.setProp=k.set;a.prop=function(a,c,b){return 2==arguments.length?k["string"==typeof c?"get":"set"](a,c):k.set(a,
c,b)};a.getStyle=l.get;a.setStyle=l.set;a.getComputedStyle=l.getComputedStyle;a.__toPixelValue=a.toPixelValue=l.toPixelValue;a.style=function(a,c,b){switch(arguments.length){case 1:return l.get(a);case 2:return l["string"==typeof c?"get":"set"](a,c)}return l.set(a,c,b)};return a})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(a,b,l,e,k,h){function d(a,b){a=a.getAttributeNode&&a.getAttributeNode(b);return!!a&&a.specified}var g={innerHTML:1,
textContent:1,className:1,htmlFor:b("ie"),value:1},n={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};a.has=function(a,b){var c=b.toLowerCase();return g[h.names[c]||b]||d(e.byId(a),n[c]||b)};a.get=function(a,b){a=e.byId(a);var c=b.toLowerCase(),f=h.names[c]||b,m=a[f];if(g[f]&&"undefined"!=typeof m)return m;if("textContent"==f)return h.get(a,f);if("href"!=f&&("boolean"==typeof m||l.isFunction(m)))return m;b=n[c]||b;return d(a,b)?a.getAttribute(b):null};a.set=function(c,b,d){c=
e.byId(c);if(2==arguments.length){for(var f in b)a.set(c,f,b[f]);return c}f=b.toLowerCase();var m=h.names[f]||b,p=g[m];if("style"==m&&"string"!=typeof d)return k.set(c,d),c;if(p||"boolean"==typeof d||l.isFunction(d))return h.set(c,b,d);c.setAttribute(n[f]||b,d);return c};a.remove=function(a,b){e.byId(a).removeAttribute(n[b.toLowerCase()]||b)};a.getNodeProp=function(a,b){a=e.byId(a);var c=b.toLowerCase(),f=h.names[c]||b;if(f in a&&"href"!=f)return a[f];b=n[c]||b;return d(a,b)?a.getAttribute(b):null}})},
"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(a,b,l,e,k,h,d,g){var n={},c=1,f=b._scopeName+"attrid";a.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};a.get=function(c,b){c=k.byId(c);var f=b.toLowerCase();return c[a.names[f]||b]};a.set=function(b,r,m){b=
k.byId(b);if(2==arguments.length&&"string"!=typeof r){for(var p in r)a.set(b,p,r[p]);return b}p=r.toLowerCase();p=a.names[p]||r;if("style"==p&&"string"!=typeof m)return h.set(b,m),b;if("innerHTML"==p)return l("ie")&&b.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(d.empty(b),b.appendChild(d.toDom(m,b.ownerDocument))):b[p]=m,b;if(e.isFunction(m)){var t=b[f];t||(t=c++,b[f]=t);n[t]||(n[t]={});var v=n[t][p];if(v)g.disconnect(v);else try{delete b[p]}catch(x){}m?
n[t][p]=g.connect(b,p,m):b[p]=null;return b}b[p]=m;return b}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(a,b,l,e,k,h){function d(a,c){var b=c.parentNode;b&&b.insertBefore(a,c)}function g(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(w){}for(var c;c=a.lastChild;)a.removeChild(c)}var n={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table",
"thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},c=/<\s*([\w\:]+)/,f={},p=0,r="__"+b._scopeName+"ToDomId",m;for(m in n)n.hasOwnProperty(m)&&(b=n[m],b.pre="option"==m?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+b.join("\x3e\x3c")+"\x3e",b.post="\x3c/"+b.reverse().join("\x3e\x3c/")+"\x3e");var q;8>=l("ie")&&(q=function(a){a.__dojo_html5_tested="yes";var c=t("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==
c.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(c){a.createElement(c)});v(c)});a.toDom=function(a,b){b=b||e.doc;var d=b[r];d||(b[r]=d=++p+"",f[d]=b.createElement("div"));8>=l("ie")&&!b.__dojo_html5_tested&&b.body&&q(b);a+="";var m=a.match(c),g=m?m[1].toLowerCase():"",d=f[d];if(m&&n[g])for(m=n[g],d.innerHTML=m.pre+a+m.post,a=m.length;a;--a)d=d.firstChild;else d.innerHTML=
a;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(a=b.createDocumentFragment();b=d.firstChild;)a.appendChild(b);return a};a.place=function(c,b,f){b=k.byId(b);"string"==typeof c&&(c=/^\s*</.test(c)?a.toDom(c,b.ownerDocument):k.byId(c));if("number"==typeof f){var m=b.childNodes;!m.length||m.length<=f?b.appendChild(c):d(c,m[0>f?0:f])}else switch(f){case "before":d(c,b);break;case "after":f=c;(m=b.parentNode)&&(m.lastChild==b?m.appendChild(f):m.insertBefore(f,b.nextSibling));break;case "replace":b.parentNode.replaceChild(c,
b);break;case "only":a.empty(b);b.appendChild(c);break;case "first":if(b.firstChild){d(c,b.firstChild);break}default:b.appendChild(c)}return c};var t=a.create=function(c,b,f,d){var m=e.doc;f&&(f=k.byId(f),m=f.ownerDocument);"string"==typeof c&&(c=m.createElement(c));b&&h.set(c,b);f&&a.place(c,f,d);return c};a.empty=function(a){g(k.byId(a))};var v=a.destroy=function(a){if(a=k.byId(a)){var c=a;a=a.parentNode;c.firstChild&&g(c);a&&(l("ie")&&a.canHaveChildren&&"removeNode"in c?c.removeNode(!1):a.removeChild(c))}}})},
"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(a,b,l){function e(a){if("string"==typeof a||a instanceof String){if(a&&!h.test(a))return d[0]=a,d;a=a.split(h);a.length&&!a[0]&&a.shift();a.length&&!a[a.length-1]&&a.pop();return a}return a?b.filter(a,function(a){return a}):[]}var k,h=/\s+/,d=[""],g={};return k={contains:function(a,c){return 0<=(" "+l.byId(a).className+" ").indexOf(" "+c+" ")},add:function(a,c){a=l.byId(a);c=e(c);var b=a.className,d,b=b?" "+b+" ":
" ";d=b.length;for(var g=0,m=c.length,n;g<m;++g)(n=c[g])&&0>b.indexOf(" "+n+" ")&&(b+=n+" ");d<b.length&&(a.className=b.substr(1,b.length-2))},remove:function(b,c){b=l.byId(b);var f;if(void 0!==c){c=e(c);f=" "+b.className+" ";for(var d=0,g=c.length;d<g;++d)f=f.replace(" "+c[d]+" "," ");f=a.trim(f)}else f="";b.className!=f&&(b.className=f)},replace:function(a,c,b){a=l.byId(a);g.className=a.className;k.remove(g,b);k.add(g,c);a.className!==g.className&&(a.className=g.className)},toggle:function(a,c,
b){a=l.byId(a);if(void 0===b){c=e(c);for(var f=0,d=c.length,m;f<d;++f)m=c[f],k[k.contains(a,m)?"remove":"add"](a,m)}else k[b?"add":"remove"](a,c);return b}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(a,b,l){function e(a){return d[a]=new Function("item","index","array",a)}function k(a){var c=!a;return function(b,f,m){var g=0,n=b&&b.length||0,p;n&&"string"==typeof b&&(b=b.split(""));"string"==typeof f&&(f=d[f]||e(f));if(m)for(;g<n;++g){if(p=!f.call(m,b[g],g,b),a^
p)return!p}else for(;g<n;++g)if(p=!f(b[g],g,b),a^p)return!p;return c}}function h(a){var c=1,b=0,d=0;a||(c=b=d=-1);return function(f,e,p,h){if(h&&0<c)return n.lastIndexOf(f,e,p);h=f&&f.length||0;var m=a?h+d:b;p===g?p=a?b:h+d:0>p?(p=h+p,0>p&&(p=b)):p=p>=h?h+d:p;for(h&&"string"==typeof f&&(f=f.split(""));p!=m;p+=c)if(f[p]==e)return p;return-1}}var d={},g,n={every:k(!1),some:k(!0),indexOf:h(!0),lastIndexOf:h(!1),forEach:function(a,b,g){var c=0,f=a&&a.length||0;f&&"string"==typeof a&&(a=a.split(""));"string"==
typeof b&&(b=d[b]||e(b));if(g)for(;c<f;++c)b.call(g,a[c],c,a);else for(;c<f;++c)b(a[c],c,a)},map:function(a,b,g,n){var c=0,f=a&&a.length||0;n=new (n||Array)(f);f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=d[b]||e(b));if(g)for(;c<f;++c)n[c]=b.call(g,a[c],c,a);else for(;c<f;++c)n[c]=b(a[c],c,a);return n},filter:function(a,b,g){var c=0,f=a&&a.length||0,n=[],p;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=d[b]||e(b));if(g)for(;c<f;++c)p=a[c],b.call(g,p,c,a)&&n.push(p);
else for(;c<f;++c)p=a[c],b(p,c,a)&&n.push(p);return n},clearCache:function(){d={}}};l.mixin(a,n);return n})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(a,b,l){b=b.NodeList;var e=b.prototype;e.connect=b._adaptAsForEach(function(){return a.connect.apply(this,arguments)});e.coords=b._adaptAsMap(a.coords);b.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
l.forEach(b.events,function(a){var b="on"+a;e[b]=function(a,g){return this.connect(b,a,g)}});return a.NodeList=b})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(a,b,l,e,k,h,d,g){function n(a,c){var b=function(b,f){if("string"==typeof f&&(f=l.byId(f),!f))return new c([]);b="string"==typeof b?a(b,f):b?b.end&&b.on?b:[b]:[];return b.end&&b.on?b:new c(b)};b.matches=a.match||function(a,c,f){return 0<
b.filter([a],c,f).length};b.filter=a.filter||function(a,c,f){return b(c,f).filter(function(c){return-1<k.indexOf(a,c)})};if("function"!=typeof a){var f=a.search;a=function(a,c){return f(c||document,a)}}return b}var c=Array.prototype,f=c.slice,p=c.concat,r=k.forEach,m=function(c,b,d){b=[0].concat(f.call(b,0));d=d||a.global;return function(a){b[0]=a;return c.apply(d,b)}},q=function(a){var c=this instanceof t&&1;"number"==typeof a&&(a=Array(a));var b=a&&"length"in a?a:arguments;if(c||!b.sort){for(var f=
c?this:[],d=f.length=b.length,m=0;m<d;m++)f[m]=b[m];if(c)return f;b=f}h._mixin(b,v);b._NodeListCtor=function(a){return t(a)};return b},t=q,v=t.prototype=[];t._wrap=v._wrap=function(a,c,b){a=new (b||this._NodeListCtor||t)(a);return c?a._stash(c):a};t._adaptAsMap=function(a,c){return function(){return this.map(m(a,arguments,c))}};t._adaptAsForEach=function(a,c){return function(){this.forEach(m(a,arguments,c));return this}};t._adaptAsFilter=function(a,c){return function(){return this.filter(m(a,arguments,
c))}};t._adaptWithCondition=function(c,b,f){return function(){var d=arguments,g=m(c,d,f);if(b.call(f||a.global,d))return this.map(g);this.forEach(g);return this}};r(["slice","splice"],function(a){var b=c[a];v[a]=function(){return this._wrap(b.apply(this,arguments),"slice"==a?this:null)}});r(["indexOf","lastIndexOf","every","some"],function(c){var b=k[c];v[c]=function(){return b.apply(a,[this].concat(f.call(arguments,0)))}});h.extend(q,{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},
_stash:function(a){this._parent=a;return this},on:function(a,c){var b=this.map(function(b){return e(b,a,c)});b.remove=function(){for(var a=0;a<b.length;a++)b[a].remove()};return b},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var c=f.call(this,0),b=k.map(arguments,function(a){return f.call(a,0)});return this._wrap(p.apply(c,b),this)},map:function(a,c){return this._wrap(k.map(this,a,c),this)},forEach:function(a,c){r(this,a,c);return this},filter:function(a){var c=
arguments,b=this,f=0;if("string"==typeof a){b=x._filterResult(this,c[0]);if(1==c.length)return b._stash(this);f=1}return this._wrap(k.filter(b,c[f],c[f+1]),this)},instantiate:function(a,c){var b=h.isFunction(a)?a:h.getObject(a);c=c||{};return this.forEach(function(a){new b(c,a)})},at:function(){var a=new this._NodeListCtor(0);r(arguments,function(c){0>c&&(c=this.length+c);this[c]&&a.push(this[c])},this);return a._stash(this)}});var x=n(g,q);a.query=n(g,function(a){return q(a)});x.load=function(a,
c,b){d.load(a,c,function(a){b(n(a,q))})};a._filterQueryResult=x._filterResult=function(a,c,b){return new q(x.filter(a,c,b))};a.NodeList=x.NodeList=q;return x})},"dojo/selector/_loader":function(){define(["../has","require"],function(a,b){"undefined"!==typeof document&&document.createElement("div");var l;return{load:function(e,k,h,d){if(d&&d.isBuild)h();else{d=b;e="default"==e?a("config-selectorEngine")||"css3":e;e="css2"==e||"lite"==e?"./lite":"css2.1"==e?"./lite":"css3"==e?"./lite":"acme"==e?"./acme":
(d=k)&&e;if("?"==e.charAt(e.length-1)){e=e.substring(0,e.length-1);var g=!0}if(g&&(a("dom-compliant-qsa")||l))return h(l);d([e],function(a){"./lite"!=e&&(l=a);h(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(a,b){var l=document.createElement("div"),e=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,k=l.querySelectorAll,h=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,d=function(e,c){var f=c?c.ownerDocument||
c:b.doc||document,n=(k?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(e);c=c||f;if(n){var h=(a("ie"),null!==c.parentNode&&9!==c.nodeType&&c.parentNode===f);if(n[2]&&h){var m=b.byId?b.byId(n[2],f):f.getElementById(n[2]);if(!m||n[1]&&n[1]!=m.tagName.toLowerCase())return[];if(c!=f)for(e=m;e!=c;)if(e=e.parentNode,!e)return[];return n[3]?d(n[3],m):[m]}if(n[3]&&c.getElementsByClassName)return c.getElementsByClassName(n[4]);if(n[5])if(m=
c.getElementsByTagName(n[5]),n[4]||n[6])e=(n[4]||"")+n[6];else return m}if(k)return 1===c.nodeType&&"object"!==c.nodeName.toLowerCase()?g(c,e,c.querySelectorAll):c.querySelectorAll(e);m||(m=c.getElementsByTagName("*"));n=[];f=0;for(h=m.length;f<h;f++){var q=m[f];1==q.nodeType&&(void 0)(q,e,c)&&n.push(q)}return n},g=function(a,c,b){var f=a,d=a.getAttribute("id"),m=d||"__dojo__",g=a.parentNode,e=/^\s*[+~]/.test(c);if(e&&!g)return[];d?m=m.replace(/'/g,"\\$\x26"):a.setAttribute("id",m);e&&g&&(a=a.parentNode);
c=c.match(h);for(g=0;g<c.length;g++)c[g]="[id\x3d'"+m+"'] "+c[g];c=c.join(",");try{return b.call(a,c)}finally{d||f.removeAttribute("id")}};d.match=e?function(a,c,b){return b&&9!=b.nodeType?g(b,c,function(c){return e.call(a,c)}):e.call(a,c)}:void 0;return d})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(a,b,l,e,k,h,d,g,n){function c(a){return function(c,b,f){return 2==
arguments.length?a["string"==typeof b?"get":"set"](c,b):a.set(c,b,f)}}var f=function(a){return 1==a.length&&"string"==typeof a[0]},p=function(a){var c=a.parentNode;c&&c.removeChild(a)},r=b.NodeList,m=r._adaptWithCondition,q=r._adaptAsForEach,t=r._adaptAsMap;e.extend(r,{_normalize:function(c,b){var f=!0===c.parse;if("string"==typeof c.template){var d=c.templateFunc||a.string&&a.string.substitute;c=d?d(c.template,c):c}d=typeof c;"string"==d||"number"==d?(c=h.toDom(c,b&&b.ownerDocument),c=11==c.nodeType?
e._toArray(c.childNodes):[c]):e.isArrayLike(c)?e.isArray(c)||(c=e._toArray(c)):c=[c];f&&(c._runParse=!0);return c},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(c,b,f,d){if(1==b.nodeType||"only"!=f)for(var m,g=c.length,e=g-1;0<=e;e--){var n=d?this._cloneNode(c[e]):c[e];if(c._runParse&&a.parser&&a.parser.parse)for(m||(m=b.ownerDocument.createElement("div")),m.appendChild(n),a.parser.parse(m),n=m.firstChild;m.firstChild;)m.removeChild(m.firstChild);e==g-1?h.place(n,b,f):b.parentNode.insertBefore(n,
b);b=n}},position:t(d.position),attr:m(c(g),f),style:m(c(n),f),addClass:q(k.add),removeClass:q(k.remove),toggleClass:q(k.toggle),replaceClass:q(k.replace),empty:q(h.empty),removeAttr:q(g.remove),marginBox:t(d.getMarginBox),place:function(a,c){var f=b(a)[0];return this.forEach(function(a){h.place(a,f,c)})},orphan:function(a){return(a?b._filterResult(this,a):this).forEach(p)},adopt:function(a,c){return b(a).place(this[0],c)._stash(this)},query:function(a){if(!a)return this;var c=new r;this.map(function(f){b(a,
f).forEach(function(a){void 0!==a&&c.push(a)})});return c._stash(this)},filter:function(a){var c=arguments,f=this,d=0;if("string"==typeof a){f=b._filterResult(this,c[0]);if(1==c.length)return f._stash(this);d=1}return this._wrap(l.filter(f,c[d],c[d+1]),this)},addContent:function(a,c){a=this._normalize(a,this[0]);for(var b=0,f;f=this[b];b++)a.length?this._place(a,f,c,0<b):h.empty(f);return this}});return r})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t){a._xhrObj=q._create;var v=a.config;a.objectToQuery=e.objectToQuery;a.queryToObject=e.queryToObject;a.fieldToObject=h.fieldToObject;a.formToObject=h.toObject;a.formToQuery=h.toQuery;a.formToJson=h.toJson;a._blockAsync=!1;var x=a._contentHandlers=a.contentHandlers={text:function(a){return a.responseText},json:function(a){return n.fromJson(a.responseText||null)},"json-comment-filtered":function(a){g.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var c=a.indexOf("/*"),b=a.lastIndexOf("*/");if(-1==c||-1==b)throw Error("JSON was not comment filtered");return n.fromJson(a.substring(c+2,b))},javascript:function(c){return a.eval(c.responseText)},xml:function(a){var c=a.responseXML;c&&!c.querySelectorAll&&(c=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(b("ie")&&(!c||!c.documentElement)){var d=function(a){return"MSXML"+a+".DOMDocument"},d=["Microsoft.XMLDOM",d(6),d(4),d(3),d(2)];f.some(d,function(b){try{var f=
new ActiveXObject(b);f.async=!1;f.loadXML(a.responseText);c=f}catch(F){return!1}return!0})}return c},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?x["json-comment-filtered"](a):x.json(a)}};x.arraybuffer=x.blob=x.document=function(a,c){return a.response};a._ioSetArgs=function(b,f,m,g){var n={args:b,url:b.url},p=null;if(b.form){var p=k.byId(b.form),q=p.getAttributeNode("action");n.url=n.url||(q?q.value:a.doc?a.doc.URL:null);p=h.toObject(p)}q={};p&&c.mixin(q,
p);b.content&&c.mixin(q,b.content);b.preventCache&&(q["dojo.preventCache"]=(new Date).valueOf());n.query=e.objectToQuery(q);n.handleAs=b.handleAs||"text";var r=new d(function(a){a.canceled=!0;f&&f(a);var c=a.ioArgs.error;c||(c=Error("request cancelled"),c.dojoType="cancel",a.ioArgs.error=c);return c});r.addCallback(m);var t=b.load;t&&c.isFunction(t)&&r.addCallback(function(a){return t.call(b,a,n)});var u=b.error;u&&c.isFunction(u)&&r.addErrback(function(a){return u.call(b,a,n)});var w=b.handle;w&&
c.isFunction(w)&&r.addBoth(function(a){return w.call(b,a,n)});r.addErrback(function(a){return g(a,r)});v.ioPublish&&a.publish&&!1!==n.args.ioPublish&&(r.addCallbacks(function(c){a.publish("/dojo/io/load",[r,c]);return c},function(c){a.publish("/dojo/io/error",[r,c]);return c}),r.addBoth(function(c){a.publish("/dojo/io/done",[r,c]);return c}));r.ioArgs=n;return r};var u=function(a){a=x[a.ioArgs.handleAs](a.ioArgs.xhr,a.ioArgs);return void 0===a?null:a},w=function(a,c){c.ioArgs.args.failOk||console.error(a);
return a},z=function(c){0>=A&&(A=0,v.ioPublish&&a.publish&&(!c||c&&!1!==c.ioArgs.args.ioPublish)&&a.publish("/dojo/io/stop"))},A=0;r.after(m,"_onAction",function(){--A});r.after(m,"_onInFlight",z);a._ioCancelAll=m.cancelAll;a._ioNotifyStart=function(c){v.ioPublish&&a.publish&&!1!==c.ioArgs.args.ioPublish&&(A||a.publish("/dojo/io/start"),A+=1,a.publish("/dojo/io/send",[c]))};a._ioWatch=function(a,b,f,d){a.ioArgs.options=a.ioArgs.args;c.mixin(a,{response:a.ioArgs,isValid:function(c){return b(a)},isReady:function(c){return f(a)},
handleResponse:function(c){return d(a)}});m(a);z(a)};a._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};a.xhr=function(c,b,f){var d,m=a._ioSetArgs(b,function(a){d&&d.cancel()},u,w),g=m.ioArgs;"postData"in b?g.query=b.postData:"putData"in b?g.query=b.putData:"rawBody"in b?g.query=b.rawBody:(2<arguments.length&&!f||-1==="POST|PUT".indexOf(c.toUpperCase()))&&a._ioAddQueryToUrl(g);var e={method:c,handleAs:{arraybuffer:1,blob:1,document:1}[b.handleAs]?
b.handleAs:"text",responseType:b.responseType,timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:g};"undefined"!==typeof b.headers&&(e.headers=b.headers);"undefined"!==typeof b.contentType&&(e.headers||(e.headers={}),e.headers["Content-Type"]=b.contentType);"undefined"!==typeof g.query&&(e.data=g.query);"undefined"!==typeof b.sync&&(e.sync=b.sync);a._ioNotifyStart(m);try{d=q(g.url,e,!0)}catch(H){return m.cancel(),m}m.ioArgs.xhr=d.response.xhr;d.then(function(){m.resolve(m)}).otherwise(function(a){g.error=
a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);m.reject(a)});return m};a.xhrGet=function(c){return a.xhr("GET",c)};a.rawXhrPost=a.xhrPost=function(c){return a.xhr("POST",c,!0)};a.rawXhrPut=a.xhrPut=function(c){return a.xhr("PUT",c,!0)};a.xhrDelete=function(c){return a.xhr("DELETE",c)};a._isDocumentOk=function(a){return t.checkStatus(a.status)};a._getText=function(c){var b;a.xhrGet({url:c,sync:!0,load:function(a){b=a}});return b};c.mixin(a.xhr,{_xhrObj:a._xhrObj,
fieldToObject:h.fieldToObject,formToObject:h.toObject,objectToQuery:e.objectToQuery,formToQuery:h.toQuery,formToJson:h.toJson,queryToObject:e.queryToObject,contentHandlers:x,_ioSetArgs:a._ioSetArgs,_ioCancelAll:a._ioCancelAll,_ioNotifyStart:a._ioNotifyStart,_ioWatch:a._ioWatch,_ioAddQueryToUrl:a._ioAddQueryToUrl,_isDocumentOk:a._isDocumentOk,_getText:a._getText,get:a.xhrGet,post:a.xhrPost,put:a.xhrPut,del:a.xhrDelete});return a.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(a){var b=
{};return{objectToQuery:function(l){var e=encodeURIComponent,k=[],h;for(h in l){var d=l[h];if(d!=b[h]){var g=e(h)+"\x3d";if(a.isArray(d))for(var n=0,c=d.length;n<c;++n)k.push(g+e(d[n]));else k.push(g+e(d))}}return k.join("\x26")},queryToObject:function(b){var e=decodeURIComponent;b=b.split("\x26");for(var k={},h,d,g=0,n=b.length;g<n;++g)if(d=b[g],d.length){var c=d.indexOf("\x3d");0>c?(h=e(d),d=""):(h=e(d.slice(0,c)),d=e(d.slice(c+1)));"string"==typeof k[h]&&(k[h]=[k[h]]);a.isArray(k[h])?k[h].push(d):
k[h]=d}return k}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(a,b,l,e){var k={fieldToObject:function(a){var d=null;if(a=b.byId(a)){var g=a.name,e=(a.type||"").toLowerCase();if(g&&e&&!a.disabled)if("radio"==e||"checkbox"==e)a.checked&&(d=a.value);else if(a.multiple)for(d=[],a=[a.firstChild];a.length;)for(g=a.pop();g;g=g.nextSibling)if(1==g.nodeType&&"option"==g.tagName.toLowerCase())g.selected&&d.push(g.value);else{g.nextSibling&&a.push(g.nextSibling);
g.firstChild&&a.push(g.firstChild);break}else d=a.value}return d},toObject:function(e){var d={};e=b.byId(e).elements;for(var g=0,n=e.length;g<n;++g){var c=e[g],f=c.name,p=(c.type||"").toLowerCase();if(f&&p&&0>"file|submit|image|reset|button".indexOf(p)&&!c.disabled){var h=d,m=f,c=k.fieldToObject(c);if(null!==c){var q=h[m];"string"==typeof q?h[m]=[q,c]:a.isArray(q)?q.push(c):h[m]=c}"image"==p&&(d[f+".x"]=d[f+".y"]=d[f].x=d[f].y=0)}}return d},toQuery:function(a){return l.objectToQuery(k.toObject(a))},
toJson:function(a,b){return e.stringify(k.toObject(a),null,b?4:0)}};return k})},"dojo/json":function(){define(["./has"],function(a){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(a,b,l,e,k,h,d){var g=function(){},n=Object.freeze||function(){},c=a.Deferred=function(a){function f(a){if(q)throw Error("This deferred has already been resolved");m=a;q=!0;d()}function d(){for(var a;!a&&w;){var c=
w;w=w.next;if(a=c.progress==g)q=!1;var f=x?c.error:c.resolved;k("config-useDeferredInstrumentation")&&x&&b.instrumentRejected&&b.instrumentRejected(m,!!f);if(f)try{var d=f(m);d&&"function"===typeof d.then?d.then(h.hitch(c.deferred,"resolve"),h.hitch(c.deferred,"reject"),h.hitch(c.deferred,"progress")):(f=a&&void 0===d,a&&!f&&(x=d instanceof Error),c.deferred[f&&x?"reject":"resolve"](f?m:d))}catch(E){c.deferred.reject(E)}else x?c.deferred.reject(m):c.deferred.resolve(m)}}var m,q,t,v,x,u,w,z=this.promise=
new l;this.isResolved=z.isResolved=function(){return 0==v};this.isRejected=z.isRejected=function(){return 1==v};this.isFulfilled=z.isFulfilled=function(){return 0<=v};this.isCanceled=z.isCanceled=function(){return t};this.resolve=this.callback=function(a){this.fired=v=0;this.results=[a,null];f(a)};this.reject=this.errback=function(a){x=!0;this.fired=v=1;k("config-useDeferredInstrumentation")&&b.instrumentRejected&&b.instrumentRejected(a,!!w);f(a);this.results=[null,a]};this.progress=function(a){for(var c=
w;c;){var b=c.progress;b&&b(a);c=c.next}};this.addCallbacks=function(a,c){this.then(a,c,g);return this};z.then=this.then=function(a,b,f){var m=f==g?this:new c(z.cancel);a={resolved:a,error:b,progress:f,deferred:m};w?u=u.next=a:w=u=a;q&&d();return m.promise};var A=this;z.cancel=this.cancel=function(){if(!q){var c=a&&a(A);q||(c instanceof Error||(c=new e(c)),c.log=!1,A.reject(c))}t=!0};n(z)};h.extend(c,{addCallback:function(c){return this.addCallbacks(h.hitch.apply(a,arguments))},addErrback:function(c){return this.addCallbacks(null,
h.hitch.apply(a,arguments))},addBoth:function(c){var b=h.hitch.apply(a,arguments);return this.addCallbacks(b,b)},fired:-1});c.when=a.when=d;return c})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(a,b,l,e,k){var h=Object.freeze||function(){},d=function(c,b,d,e,n){a("config-deferredInstrumentation")&&2===b&&f.instrumentRejected&&0===c.length&&f.instrumentRejected(d,!1,
e,n);for(n=0;n<c.length;n++)g(c[n],b,d,e)},g=function(b,d,m,g){var e=b[d],p=b.deferred;if(e)try{var q=e(m);if(0===d)"undefined"!==typeof q&&c(p,d,q);else{if(q&&"function"===typeof q.then){b.cancel=q.cancel;q.then(n(p,1),n(p,2),n(p,0));return}c(p,1,q)}}catch(u){c(p,2,u)}else c(p,d,m);a("config-deferredInstrumentation")&&2===d&&f.instrumentRejected&&f.instrumentRejected(m,!!e,g,p.promise)},n=function(a,b){return function(f){c(a,b,f)}},c=function(a,c,b){if(!a.isCanceled())switch(c){case 0:a.progress(b);
break;case 1:a.resolve(b);break;case 2:a.reject(b)}},f=function(c){var b=this.promise=new e,m=this,n,p,k,x=!1,u=[];a("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(m,f),Error.captureStackTrace(b,f));this.isResolved=b.isResolved=function(){return 1===n};this.isRejected=b.isRejected=function(){return 2===n};this.isFulfilled=b.isFulfilled=function(){return!!n};this.isCanceled=b.isCanceled=function(){return x};this.progress=function(a,c){if(n){if(!0===c)throw Error("This deferred has already been fulfilled.");
return b}d(u,0,a,null,m);return b};this.resolve=function(a,c){if(n){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}d(u,n=1,p=a,null,m);u=null;return b};var w=this.reject=function(c,f){if(n){if(!0===f)throw Error("This deferred has already been fulfilled.");return b}a("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(k={},w);d(u,n=2,p=c,k,m);u=null;return b};this.then=b.then=function(a,c,d){var m=[d,a,c];m.cancel=b.cancel;m.deferred=new f(function(a){return m.cancel&&
m.cancel(a)});n&&!u?g(m,n,p,k):u.push(m);return m.deferred.promise};this.cancel=b.cancel=function(a,b){if(!n){c&&(b=c(a),a="undefined"===typeof b?a:b);x=!0;if(!n)return"undefined"===typeof a&&(a=new l),w(a),a;if(2===n&&p===a)return a}else if(!0===b)throw Error("This deferred has already been fulfilled.");};h(b)};f.prototype.toString=function(){return"[object Deferred]"};k&&k(f);return f})},"dojo/errors/CancelError":function(){define(["./create"],function(a){return a("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(a){return function(b,l,e,k){e=e||Error;var h=function(a){if(e===Error){Error.captureStackTrace&&Error.captureStackTrace(this,h);var b=Error.call(this,a),d;for(d in b)b.hasOwnProperty(d)&&(this[d]=b[d]);this.message=a;this.stack=b.stack}else e.apply(this,arguments);l&&l.apply(this,arguments)};h.prototype=a.delegate(e.prototype,k);h.prototype.name=b;return h.prototype.constructor=h}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(a){function b(){throw new TypeError("abstract");}return a.extend(function(){},{then:function(a,e,k){b()},cancel:function(a,e){b()},isResolved:function(){b()},isRejected:function(){b()},isFulfilled:function(){b()},isCanceled:function(){b()},always:function(a){return this.then(a,a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(a,b){return function(l,e,k,h){var d=l&&"function"===typeof l.then,g=d&&l instanceof b;if(!d)return 1<arguments.length?e?e(l):l:(new a).resolve(l);g||(d=new a(l.cancel),l.then(d.resolve,d.reject,d.progress),l=d.promise);return e||k||h?l.then(e,k,h):l}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(a,b){a.fromJson=function(a){return eval("("+a+")")};a._escapeString=b.stringify;a.toJsonIndentStr="\t";a.toJson=
function(l,e){return b.stringify(l,function(a,b){return b&&(a=b.__json__||b.json,"function"==typeof a)?a.call(b):b},e&&a.toJsonIndentStr)};return a})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(a,b,l,e,k,h){function d(){for(var a=+new Date,d=0,e;d<c.length&&(e=c[d]);d++){var m=e.response,q=m.options;e.isCanceled&&e.isCanceled()||
e.isValid&&!e.isValid(m)?(c.splice(d--,1),g._onAction&&g._onAction()):e.isReady&&e.isReady(m)?(c.splice(d--,1),e.handleResponse(m),g._onAction&&g._onAction()):e.startTime&&e.startTime+(q.timeout||0)<a&&(c.splice(d--,1),e.cancel(new b("Timeout exceeded",m)),g._onAction&&g._onAction())}g._onInFlight&&g._onInFlight(e);c.length||(clearInterval(n),n=null)}function g(a){a.response.options.timeout&&(a.startTime=+new Date);a.isFulfilled()||(c.push(a),n||(n=setInterval(d,50)),a.response.options.sync&&d())}
var n=null,c=[];g.cancelAll=function(){try{e.forEach(c,function(a){try{a.cancel(new l("All requests canceled."))}catch(p){}})}catch(f){}};k&&h&&k.doc.attachEvent&&h(k.global,"unload",function(){g.cancelAll()});return g})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),function(a,b,l,e,k,h,d,g,n){function c(a){return p(a)}function f(a){return void 0!==a.data?a.data:
a.text}a.deepCopy=function(c,b){for(var f in b){var d=c[f],m=b[f];d!==m&&(d&&"object"===typeof d&&m&&"object"===typeof m?m instanceof Date?c[f]=new Date(m):a.deepCopy(d,m):c[f]=m)}return c};a.deepCreate=function(c,b){b=b||{};var f=d.delegate(c),m,g;for(m in c)(g=c[m])&&"object"===typeof g&&(f[m]=a.deepCreate(g,b[m]));return a.deepCopy(f,b)};var p=Object.freeze||function(a){return a};a.deferred=function(n,m,q,h,k,x){var r=new e(function(a){m&&m(r,n);return a&&(a instanceof b||a instanceof l)?a:new l("Request canceled",
n)});r.response=n;r.isValid=q;r.isReady=h;r.handleResponse=k;q=r.then(c).otherwise(function(a){a.response=n;throw a;});a.notify&&q.then(d.hitch(a.notify,"emit","load"),d.hitch(a.notify,"emit","error"));h=q.then(f);k=new g;for(var t in h)h.hasOwnProperty(t)&&(k[t]=h[t]);k.response=q;p(k);x&&r.then(function(a){x.call(r,a)},function(a){x.call(r,n,a)});r.promise=k;r.then=k.then;return r};a.addCommonMethods=function(a,c){h.forEach(c||["GET","POST","PUT","DELETE"],function(c){a[("DELETE"===c?"DEL":c).toLowerCase()]=
function(b,f){f=d.delegate(f||{});f.method=c;return a(b,f)}})};a.parseArgs=function(a,c,b){var f=c.data,d=c.query;!f||b||"object"!==typeof f||f instanceof ArrayBuffer||f instanceof Blob||(c.data=k.objectToQuery(f));d?("object"===typeof d&&(d=k.objectToQuery(d)),c.preventCache&&(d+=(d?"\x26":"")+"request.preventCache\x3d"+ +new Date)):c.preventCache&&(d="request.preventCache\x3d"+ +new Date);a&&d&&(a+=(~a.indexOf("?")?"\x26":"?")+d);return{url:a,options:c,getHeader:function(a){return null}}};a.checkStatus=
function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(a){return a("RequestError",function(a,l){this.response=l})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(a,b){return a("RequestTimeoutError",null,b,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(a,b,l,e,k){function h(c,b){var f=
c.xhr;c.status=c.xhr.status;try{c.text=f.responseText}catch(w){}"xml"===c.options.handleAs&&(c.data=f.responseXML);var d;if(b)this.reject(b);else{try{l(c)}catch(w){d=w}e.checkStatus(f.status)?d?this.reject(d):this.resolve(c):(b=d?new a("Unable to load "+c.url+" status: "+f.status+" and an error in handleAs: transformation of response",c):new a("Unable to load "+c.url+" status: "+f.status,c),this.reject(b))}}function d(a){return this.xhr.getResponseHeader(a)}function g(t,v,l){var u=v&&v.data&&v.data instanceof
FormData,w=e.parseArgs(t,e.deepCreate(q,v),u);t=w.url;v=w.options;var x=!v.data&&"POST"!==v.method&&"PUT"!==v.method;10>=k("ie")&&(t=t.split("#")[0]);var A,y=e.deferred(w,r,c,f,h,function(){A&&A()}),B=w.xhr=g._create();if(!B)return y.cancel(new a("XHR was not created")),l?y:y.promise;w.getHeader=d;p&&(A=p(B,y,w,v.uploadProgress));var D="undefined"===typeof v.data?null:v.data,C=!v.sync,E=v.method;try{B.open(E,t,C,v.user||m,v.password||m);v.withCredentials&&(B.withCredentials=v.withCredentials);v.handleAs in
n&&(B.responseType=n[v.handleAs]);var F=v.headers;t=u||x?!1:"application/x-www-form-urlencoded";if(F)for(var G in F)"content-type"===G.toLowerCase()?t=F[G]:F[G]&&B.setRequestHeader(G,F[G]);t&&!1!==t&&B.setRequestHeader("Content-Type",t);F&&"X-Requested-With"in F||B.setRequestHeader("X-Requested-With","XMLHttpRequest");e.notify&&e.notify.emit("send",w,y.promise.cancel);B.send(D)}catch(H){y.reject(H)}b(y);B=null;return l?y:y.promise}k.add("dojo-force-activex-xhr",function(){return 0});var n={blob:"blob",
document:"document",arraybuffer:"arraybuffer"},c,f,p,r;c=function(a){return!this.isFulfilled()};r=function(a,c){c.xhr.abort()};p=function(c,b,f,d){function m(a){b.handleResponse(f)}function g(c){c=new a("Unable to load "+f.url+" status: "+c.target.status,f);b.handleResponse(f,c)}function e(a,c){f.transferType=a;c.lengthComputable?(f.loaded=c.loaded,f.total=c.total,b.progress(f)):3===f.xhr.readyState&&(f.loaded="loaded"in c?c.loaded:c.position,b.progress(f))}function n(a){return e("download",a)}function p(a){return e("upload",
a)}c.addEventListener("load",m,!1);c.addEventListener("error",g,!1);c.addEventListener("progress",n,!1);d&&c.upload&&c.upload.addEventListener("progress",p,!1);return function(){c.removeEventListener("load",m,!1);c.removeEventListener("error",g,!1);c.removeEventListener("progress",n,!1);c.upload.removeEventListener("progress",p,!1);c=null}};var m,q={data:null,query:null,sync:!1,method:"GET"};g._create=function(){throw Error("XMLHTTP not available");};k("dojo-force-activex-xhr")||(g._create=function(){return new XMLHttpRequest});
e.addCommonMethods(g);return g})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(a,b,l,e){function k(a){var b=h[a.options.handleAs];a.data=b?b(a):a.data||a.text;return a}l=function(a){return a.xhr.response};var h={javascript:function(a){return b.eval(a.text||"")},json:function(b){return a.parse(b.text||null)},xml:void 0,blob:l,arraybuffer:l,document:l};k.register=function(a,b){h[a]=b};return k})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(a,b,l,e,k,h,d,g,n){var c=l.mixin,f={},p=f._Line=function(a,c){this.start=a;this.end=c};p.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var r=f.Animation=function(a){c(this,a);l.isArray(this.curve)&&(this.curve=new p(this.curve[0],this.curve[1]))};r.prototype=new e;l.extend(r,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,c=this.easing;return c?c(a):a},_fire:function(a,c){c=c||[];if(this[a])if(b.debugAtAllCosts)this[a].apply(this,
c);else try{this[a].apply(this,c)}catch(z){console.error("exception in animation handler for:",a),console.error(z)}return this},play:function(a,c){this._delayTimer&&this._clearTimer();if(c)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);a=a||this.delay;c=l.hitch(this,"_play",c);if(0<a)return this._delayTimer=setTimeout(c,a),this;c();return this},_play:function(a){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,c){this._stopTimer();this._active=this._paused=!0;this._percent=a;c&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=
(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var m=0,q=null,t={run:function(){}};l.extend(r,{_startTimer:function(){this._timer||(this._timer=h.after(t,"run",l.hitch(this,"_cycle"),!0),m++);q||(q=setInterval(l.hitch(t,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,m--);0>=m&&(clearInterval(q),q=null,m=0)}});var v=d("ie")?function(a){var c=a.style;c.width.length||"auto"!=n.get(a,"width")||(c.width="auto")}:function(){};
f._fade=function(a){a.node=g.byId(a.node);var b=c({properties:{}},a);a=b.properties.opacity={};a.start="start"in b?b.start:function(){return+n.get(b.node,"opacity")||0};a.end=b.end;a=f.animateProperty(b);h.after(a,"beforeBegin",l.partial(v,b.node),!0);return a};f.fadeIn=function(a){return f._fade(c({end:1},a))};f.fadeOut=function(a){return f._fade(c({end:0},a))};f._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var x=function(a){this._properties=a;for(var c in a){var b=a[c];b.start instanceof
k&&(b.tempColor=new k)}};x.prototype.getValue=function(a){var c={},b;for(b in this._properties){var f=this._properties[b],d=f.start;d instanceof k?c[b]=k.blendColors(d,f.end,a,f.tempColor).toCss():l.isArray(d)||(c[b]=(f.end-d)*a+d+("opacity"!=b?f.units||"px":0))}return c};f.animateProperty=function(b){var f=b.node=g.byId(b.node);b.easing||(b.easing=a._defaultEasing);b=new r(b);h.after(b,"beforeBegin",l.hitch(b,function(){var a={},b;for(b in this.properties){var d=function(a,c){var b={height:a.offsetHeight,
width:a.offsetWidth}[c];if(void 0!==b)return b;b=n.get(a,c);return"opacity"==c?+b:g?b:parseFloat(b)};if("width"==b||"height"==b)this.node.display="block";var m=this.properties[b];l.isFunction(m)&&(m=m(f));m=a[b]=c({},l.isObject(m)?m:{end:m});l.isFunction(m.start)&&(m.start=m.start(f));l.isFunction(m.end)&&(m.end=m.end(f));var g=0<=b.toLowerCase().indexOf("color");"end"in m?"start"in m||(m.start=d(f,b)):m.end=d(f,b);g?(m.start=new k(m.start),m.end=new k(m.end)):m.start="opacity"==b?+m.start:parseFloat(m.start)}this.curve=
new x(a)}),!0);h.after(b,"onAnimate",l.hitch(n,"set",b.node),!0);return b};f.anim=function(a,c,b,d,m,g){return f.animateProperty({node:a,duration:b||r.prototype.duration,properties:c,easing:d,onEnd:m}).play(g||0)};c(a,f);a._Animation=r;return f})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(a,b,l,e){var k=a.Color=function(a){a&&this.setColor(a)};k.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,
0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:e.transparentColor||[0,0,0,0]};b.extend(k,{r:255,g:255,b:255,a:1,_set:function(a,b,g,e){this.r=a;this.g=b;this.b=g;this.a=e},setColor:function(a){b.isString(a)?k.fromString(a,this):b.isArray(a)?k.fromArray(a,this):(this._set(a.r,a.g,a.b,a.a),a instanceof k||this.sanitize());return this},sanitize:function(){return this},
toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var b=this.r+", "+this.g+", "+this.b;return(a?"rgba("+b+", "+this.a:"rgb("+b)+")"},toString:function(){return this.toCss(!0)}});k.blendColors=a.blendColors=function(a,b,g,e){e=e||new k;e.r=Math.round(a.r+(b.r-a.r)*g);e.g=Math.round(a.g+(b.g-a.g)*g);e.b=Math.round(a.b+
(b.b-a.b)*g);e.a=a.a+(b.a-a.a)*g;return e.sanitize()};k.fromRgb=a.colorFromRgb=function(a,b){return(a=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&k.fromArray(a[1].split(/\s*,\s*/),b)};k.fromHex=a.colorFromHex=function(a,b){var d=b||new k,e=4==a.length?4:8,c=(1<<e)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;l.forEach(["b","g","r"],function(b){var f=a&c;a>>=e;d[b]=4==e?17*f:f});d.a=1;return d};k.fromArray=a.colorFromArray=function(a,b){b=b||new k;b._set(Number(a[0]),Number(a[1]),Number(a[2]),
Number(a[3]));isNaN(b.a)&&(b.a=1);return b.sanitize()};k.fromString=a.colorFromString=function(a,b){var d=k.named[a];return d&&k.fromArray(d,b)||k.fromRgb(a,b)||k.fromHex(a,b)};return k})},"dojo/request":function(){define(["./request/default!"],function(a){return a})},"dojo/request/default":function(){define(["exports","require","../has"],function(a,b,l){var e=l("config-requestProvider"),k;if(l("host-browser")||l("host-webworker"))k="./xhr";e||(e=k);a.getPlatformDefaultId=function(){return k};a.load=
function(a,d,g,n){b(["platform"==a?k:e],function(a){g(a)})}})},"esri/Map":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/Logger ./core/accessorSupport/decorators ./support/basemapUtils ./support/groundUtils ./support/LayersMixin".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r,m){var q=c.getLogger("esri.Map");return function(a){function c(c){c=a.call(this)||this;
c.basemap=null;c.ground=new h;c._basemapCache=p.createCache();return c}l(c,a);Object.defineProperty(c.prototype,"allLayers",{get:function(){return new g({root:this,rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:function(a){return a.layers}})},enumerable:!0,configurable:!0});c.prototype.castBasemap=function(a){return p.ensureType(a,this._basemapCache)};c.prototype.castGround=function(a){a=r.ensureType(a);return a?a:(q.error("Map.ground may not be set to null or undefined"),
this._get("ground"))};e([f.property({readOnly:!0})],c.prototype,"allLayers",null);e([f.property({type:k})],c.prototype,"basemap",void 0);e([f.cast("basemap")],c.prototype,"castBasemap",null);e([f.property({type:h,nonNullable:!0})],c.prototype,"ground",void 0);e([f.cast("ground")],c.prototype,"castGround",null);return c=e([f.subclass("esri.Map")],c)}(f.declared(d,n,m))})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(a,b){return function(a,b){a.__bases__=
b.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(a,b,l,e){var k=arguments.length,h=3>k?b:null===e?e=Object.getOwnPropertyDescriptor(b,l):e,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(a,b,l,e);else for(var g=a.length-1;0<=g;g--)if(d=a[g])h=(3>k?d(h):3<k?d(b,l,h):d(b,l))||h;return 3<k&&h&&Object.defineProperty(b,l,h),h}})},"esri/Basemap":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/asyncUtils ./core/collectionUtils ./core/compilerUtils ./core/Evented ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators ./layers/support/LayerCollection ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z){var A=0,y=m.getLogger("esri.Basemap");return function(c){function b(a){var b=c.call(this)||this;b.id=null;b.portalItem=null;b.thumbnailUrl=null;b.title="Basemap";b.id=Date.now().toString(16)+"-basemap-"+A++;b.baseLayers=new x.default;b.referenceLayers=new x.default;var f=function(a){a.parent&&a.parent!==b&&"remove"in a.parent&&a.parent.remove(a);a.parent=b;"elevation"===a.type&&y.error("Layer '"+a.title+", id:"+a.id+"' of type '"+a.type+"' is not supported as a basemap layer and will therefore be ignored.")};
b.baseLayers.on("after-add",function(a){return f(a.item)});b.referenceLayers.on("after-add",function(a){return f(a.item)});b.baseLayers.on("after-remove",function(a){a.item.parent=null});b.referenceLayers.on("after-remove",function(a){a.item.parent=null});return b}e(b,c);m=b;b.prototype.initialize=function(){var a=this;this.when().catch(function(c){y.error("#load()","Failed to load basemap (title: '"+a.title+"', id: '"+a.id+"')",c)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};
b.prototype.normalizeCtorArgs=function(a){a&&"resourceInfo"in a&&(this._set("resourceInfo",a.resourceInfo),a=l({},a),delete a.resourceInfo);return a};Object.defineProperty(b.prototype,"baseLayers",{set:function(a){this._set("baseLayers",d.referenceSetter(a,this._get("baseLayers"),x.default))},enumerable:!0,configurable:!0});b.prototype.writeBaseLayers=function(a,c,b,f){var d=[];a&&(f=l({},f,{layerContainerType:"basemap"}),this.baseLayers.forEach(function(a){if("write"in a){var c={};g.typeCast(a)().write(c,
f)&&d.push(c)}}),this.referenceLayers.forEach(function(a){if("write"in a&&a.write){var c={isReference:!0};a.write(c,f)&&d.push(c)}}));c[b]=d};Object.defineProperty(b.prototype,"referenceLayers",{set:function(a){this._set("referenceLayers",d.referenceSetter(a,this._get("referenceLayers"),x.default))},enumerable:!0,configurable:!0});b.prototype.writeTitle=function(a,c){c.title=a||"Basemap"};b.prototype.load=function(a){this.addResolvingPromise(this._loadFromSource(a));return this.when()};b.prototype.loadAll=
function(){var a=this;return h.safeCast(r.loadAll(this,function(c){c(a.baseLayers,a.referenceLayers)}))};b.prototype.clone=function(){var a={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(a.loadStatus="loaded");return(new m({resourceInfo:this.resourceInfo})).set(a)};b.prototype.read=function(a,c){this.resourceInfo||this._set("resourceInfo",{data:a,context:c});this.inherited(arguments)};b.prototype.write=
function(a,c){a=a||{};c&&c.origin||(c=l({origin:"web-map"},c));this.inherited(arguments,[a,c]);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(a.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(function(a){a=f.clone(a);a.url&&t.isProtocolRelative(a.url)&&(a.url="https:"+a.url);a.templateUrl&&t.isProtocolRelative(a.templateUrl)&&(a.templateUrl="https:"+a.templateUrl);return a}));return a};b.prototype._loadFromSource=function(a){var c=this.resourceInfo,b=this.portalItem;
return c?this._loadLayersFromJSON(c.data,c.context?c.context.url:null,a):b?this._loadFromItem(b,a):q.resolve(null)};b.prototype._loadLayersFromJSON=function(c,b,f){var d=this,m=this.resourceInfo&&this.resourceInfo.context,g=this.portalItem&&this.portalItem.portal||m&&m.portal||null,e=m&&"web-scene"===m.origin?"web-scene":"web-map";return q.create(function(c){return a(["./portal/support/layersCreator"],c)}).then(function(a){var m=[];q.throwIfAborted(f);if(c.baseMapLayers&&Array.isArray(c.baseMapLayers)){var n=
{context:{origin:e,url:b,portal:g,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},p=a.populateOperationalLayers(d.baseLayers,c.baseMapLayers.filter(function(a){return!a.isReference}),n);m.push(h.safeCast(p));a=a.populateOperationalLayers(d.referenceLayers,c.baseMapLayers.filter(function(a){return a.isReference}),n);m.push(h.safeCast(a))}return q.eachAlways(m)}).then(function(){})};b.prototype._loadFromItem=function(a,c){var b=this;return a.load(c).then(function(a){return a.fetchData("json",
c)}).then(function(f){var d=t.urlToObject(a.itemUrl);b._set("resourceInfo",{data:f.baseMap,context:{origin:"web-map",portal:a.portal||u.getDefault(),url:d}});b.read(b.resourceInfo.data,b.resourceInfo.context);b.read({title:a.title,thumbnailUrl:a.thumbnailUrl},{origin:"portal-item",portal:a.portal||u.getDefault(),url:d});return b._loadLayersFromJSON(b.resourceInfo.data,d,c)})};b.fromId=function(a){return(a=z[a])?m.fromJSON(a):null};var m;k([v.property({type:x.default,json:{write:{ignoreOrigin:!0,target:"baseMapLayers"}}}),
v.cast(d.castForReferenceSetter)],b.prototype,"baseLayers",null);k([v.writer("baseLayers")],b.prototype,"writeBaseLayers",null);k([v.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"id",void 0);k([v.property({type:w})],b.prototype,"portalItem",void 0);k([v.property({type:x.default}),v.cast(d.castForReferenceSetter)],b.prototype,"referenceLayers",null);k([v.property({readOnly:!0})],b.prototype,"resourceInfo",void 0);k([v.property()],b.prototype,"thumbnailUrl",void 0);k([v.property({type:String,
json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],b.prototype,"title",void 0);k([v.writer("title")],b.prototype,"writeTitle",null);return b=m=k([v.subclass("esri.Basemap")],b)}(v.declared(c,n,p))})},"esri/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(a){for(var b,l=1,e=arguments.length;l<e;l++){b=arguments[l];for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(a[k]=b[k])}return a}})},"esri/core/asyncUtils":function(){define(["require","exports",
"./tsSupport/generatorHelper","./tsSupport/awaiterHelper","./promiseUtils"],function(a,b,l,e,k){Object.defineProperty(b,"__esModule",{value:!0});b.forEach=function(a,b,g){return k.eachAlways(a.map(function(a,c){return b.apply(g,[a,c])}))};b.map=function(a,b,g){return k.eachAlways(a.map(function(a,c){return b.apply(g,[a,c])})).then(function(a){return a.map(function(a){return a.value})})};b.result=function(a){return a.then(function(a){return{ok:!0,value:a}}).catch(function(a){return{ok:!1,error:a}})};
b.assertResult=function(a){if(!0===a.ok)return a.value;throw a.error;};b.safeCast=function(a){return a};b.safeCastFunction=function(a){return a}})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(a,b){function l(a){return function(c){return e([a,c])}}function e(c){if(h)throw new TypeError("Generator is already executing.");for(;k;)try{if(h=1,d&&(g=c[0]&2?d["return"]:c[0]?d["throw"]||((g=d["return"])&&g.call(d),0):d.next)&&!(g=g.call(d,c[1])).done)return g;if(d=
0,g)c=[c[0]&2,g.value];switch(c[0]){case 0:case 1:g=c;break;case 4:return k.label++,{value:c[1],done:!1};case 5:k.label++;d=c[1];c=[0];continue;case 7:c=k.ops.pop();k.trys.pop();continue;default:if(!(g=k.trys,g=0<g.length&&g[g.length-1])&&(6===c[0]||2===c[0])){k=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3]))k.label=c[1];else if(6===c[0]&&k.label<g[1])k.label=g[1],g=c;else if(g&&k.label<g[2])k.label=g[2],k.ops.push(c);else{g[2]&&k.ops.pop();k.trys.pop();continue}}c=b.call(a,k)}catch(f){c=[6,f],
d=0}finally{h=g=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var k={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,d,g,n;return n={next:l(0),"throw":l(1),"return":l(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(a){return function(b,l,e,k){var h=null;return a.create(function(d,g){function e(a){try{f(k.next(a))}catch(r){g(r)}}function c(a){try{f(k["throw"](a))}catch(r){g(r)}}
function f(b){b.done?(h=a.when(b.value),h.then(d,g)):(h=a.when(b.value),h.then(e,c))}f((k=k.apply(b,l||[])).next())},function(a){h&&h.cancel(a)})}})},"esri/core/promiseUtils":function(){define("require exports @dojo/framework/shim/AbortController dojo/Deferred dojo/promise/all ./Error ./events ./maybe ./has @dojo/framework/shim/Promise".split(" "),function(a,b,l,e,k,h,d,g,n){function c(a){return n("esri-native-promise")?Promise.all(a):k(a)}function f(a,c){if(n("esri-native-promise"))return new Promise(a);
var b=new e(c);try{a(function(a){return A(a).then(b.resolve)},b.reject)}catch(C){b.reject(C)}return b.promise}function p(a){void 0===a&&(a="Aborted");a=new h("AbortError",a);a.dojoType="cancel";return a}function r(){return new l.default}function m(a){if(t(a))throw p();}function q(a){return g.isSome(a)?"aborted"in a?a:a.signal:a}function t(a){a=q(a);return g.isSome(a)&&a.aborted}function v(a){return a&&("AbortError"===a.name||"cancel"===a.dojoType)}function x(a){var c=null;a=f(function(a,b){c={resolve:a,
reject:b}},a);c.promise=a;c.cancel=function(){c.reject(p())};return c}function u(a){if(a){if("function"!==typeof a.forEach){var c=Object.keys(a),b=c.map(function(c){return a[c]});return u(b).then(function(a){var b={};c.forEach(function(c,f){return b[c]=a[f]});return b})}var d=null,m=w;return f(function(c,b){var f=[],g=a.length;0===g&&c(f);a.forEach(function(a){var e={promise:a||m(a)};f.push(e);e.promise.then(function(a){e.value=a}).catch(function(a){e.error=a}).then(function(){--g;0===g&&(d?b(p()):
c(f))})})},function(c){d=c||"Invocation cancellation";a.forEach(function(a){"cancel"in a&&a.cancel(c)})})}}function w(a){void 0===a&&(a=void 0);if(n("esri-native-promise"))return Promise.resolve(a);var c=new e;c.resolve(a);return c.promise}function z(a,c){void 0===c&&(c=void 0);var b=0;return f(function(f){b=setTimeout(function(){f(c)},a)},function(){b&&(clearTimeout(b),b=0)})}function A(a){return a&&"object"===typeof a&&"then"in a&&"function"===typeof a.then?a:w(a)}Object.defineProperty(b,"__esModule",
{value:!0});n.add("esri-native-promise",!1);b.all=c;b.filter=function(a,b){var f=a.slice();return c(a.map(function(a,c){return b(a,c)})).then(function(a){return f.filter(function(c,b){return a[b]})})};b.create=f;b.createAbortError=p;b.createAbortController=r;b.throwIfAborted=m;b.isAborted=t;b.throwIfAbortError=function(a){if(v(a))throw a;};b.onAbort=function(a,c){a=q(a);if(!g.isNone(a))if(a.aborted)c();else return d.once(a,"abort",c)};b.onAbortOrThrow=function(a,c){a=q(a);if(!g.isNone(a))return m(a),
d.once(a,"abort",c)};b.isAbortError=v;b.createDeferred=x;b.eachAlways=u;b.eachAlwaysValues=function(a){return u(a).then(function(a){return a.filter(function(a){return!!a.value}).map(function(a){return a.value})})};b.first=function(a){return a&&a.length?f(function(c,b){for(var f=0;f<a.length;f++)a[f].then(c,b)}):w()};b.reject=function(a){if(n("esri-native-promise"))return Promise.reject(a);var c=new e;c.reject(a);return c.promise};b.resolve=w;b.after=z;b.timeout=function(a,c,b,f){var d=setTimeout(function(){d=
0;b&&b.abort()},c),m=function(){throw f||new h("promiseUtils:timeout","The wrapped promise did not resolve within "+c+" ms");};return a.then(function(a){if(0===d)throw m();clearTimeout(d);return a},function(a){clearTimeout(d);throw 0===d?m():a;})};b.wrapCallback=function(a){var c=!1;return f(function(){a(function(a){c||w(a)})},function(){return c=!0})};b.isThenable=function(a){return a&&"function"===typeof a.then};b.when=A;b.debounce=function(a,c){void 0===c&&(c=-1);var b,f,d,m,g=null,e=function(){for(var n=
[],q=0;q<arguments.length;q++)n[q]=arguments[q];if(b)return f=n,m&&m.reject(p()),m=x(),n=m.promise,g&&(q=g,g=null,q.abort()),n;d=m||x();m=null;if(0<c){var h=r(),t=b=A(a.apply(void 0,n.concat([h.signal])));z(c).then(function(){b===t&&(m?h.abort():g=h)})}else b=A(a.apply(void 0,n));var n=function(){var a=f;f=d=b=g=null;null!=a&&e.apply(void 0,a)},q=b,k=d;q.then(n,n);q.then(k.resolve,k.reject);return k.promise};return e};b.createResolver=function(a){var c,b;a=f(function(a,f){c=a;b=f},a);var d=function(a){c(a)};
d.resolve=function(a){return c(a)};d.reject=function(a){return b(a)};d.promise=a;return d};b.always=function(a,c){return a.then(c,c)}})},"@dojo/framework/shim/AbortController":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=a("./global"),
e=a("../has/has"),k=a("./array");b.ShimAbortSignal=l.default.AbortSignal;e.default("abort-signal")||(l.default.AbortSignal=b.ShimAbortSignal=function(){function a(){this._aborted=!1;this.listeners={}}Object.defineProperty(a.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});a.prototype.addEventListener=function(a,b){a in this.listeners||(this.listeners[a]=[]);this.listeners[a].push(b)};a.prototype.removeEventListener=function(a,b){if(a in this.listeners){var d=
k.findIndex(this.listeners[a],function(a){return a===b});0<=d&&this.listeners[a].splice(d,1)}};a.prototype.dispatchEvent=function(a){var b=this,d=a.type;"abort"===d&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,a));if(!(d in this.listeners))return!1;this.listeners[d].forEach(function(c){setTimeout(function(){return c.call(b,a)},0)});return!a.preventDefault};return a}());b.ShimAbortController=l.default.AbortController;e.default("abort-controller")||(l.default.AbortController=
b.ShimAbortController=function(){function a(){this.signal=new b.ShimAbortSignal}a.prototype.abort=function(){var a;try{a=new Event("abort")}catch(g){"undefined"!==typeof document?(a=document.createEvent("Event"),a.initEvent("abort",!1,!1)):a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)};return a}());b.default=b.ShimAbortController})},"@dojo/framework/shim/global":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==
a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();b.default=a})},"@dojo/framework/has/has":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&
define.amd&&define(["require","exports","tslib","../shim/global"],a)})(function(a,b){function l(a){a=a.toLowerCase();return!!(a in g||a in b.testCache||b.testFunctions[a])}function e(a,f,d){void 0===d&&(d=!1);var c=a.toLowerCase();if(l(c)&&!d&&!(c in g))throw new TypeError('Feature "'+a+'" exists and overwrite not true.');"function"===typeof f?b.testFunctions[c]=f:(b.testCache[c]=f,delete b.testFunctions[c])}function k(a){var c=a.toLowerCase();if(c in g)a=g[c];else if(b.testFunctions[c])a=b.testCache[c]=
b.testFunctions[c].call(null),delete b.testFunctions[c];else if(c in b.testCache)a=b.testCache[c];else throw new TypeError('Attempt to detect unregistered has feature "'+a+'"');return a}Object.defineProperty(b,"__esModule",{value:!0});var h=a("tslib"),d=a("../shim/global");b.testCache={};b.testFunctions={};a=(d.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in d.default&&delete d.default.DojoHasEnvironment;var g=a?"function"===typeof a?a.apply(d.default):a:{};b.load=function(a,
b,d,g){a?b([a],d):d()};b.normalize=function(a,b){function c(a){var b=f[d++];if(":"===b)return null;if("?"===f[d++]){if(!a&&k(b))return c();c(!0);return c(a)}return b}var f=a.match(/[\?:]|[^:\?]*/g)||[],d=0;return(a=c())&&b(a)};b.exists=l;b.add=e;b.default=k;e("public-path",void 0);e("dojo-debug",!1);e("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);e("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});
e("fetch","fetch"in d.default&&"function"===typeof d.default.fetch,!0);e("es6-array",function(){return["from","of"].every(function(a){return a in d.default.Array})&&["findIndex","find","copyWithin"].every(function(a){return a in d.default.Array.prototype})},!0);e("es6-array-fill",function(){return"fill"in d.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);e("es7-array",function(){return"includes"in d.default.Array.prototype},!0);e("es6-map",function(){if("function"===typeof d.default.Map)try{var a=
new d.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&k("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(f){}return!1},!0);e("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof d.default.Math[a]})},!0);e("es6-math-imul",function(){return"imul"in d.default.Math?-5===Math.imul(4294967295,5):!1},!0);e("es6-object",function(){return k("es6-symbol")&&
["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof d.default.Object[a]})},!0);e("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof d.default.Object[a]})},!0);e("es-observable",function(){return"undefined"!==typeof d.default.Observable},!0);e("es6-promise",function(){return"undefined"!==typeof d.default.Promise&&k("es6-symbol")},!0);e("es2018-promise-finally",function(){return k("es6-promise")&&
"undefined"!==typeof d.default.Promise.prototype.finally},!0);e("es6-set",function(){if("function"===typeof d.default.Set){var a=new d.default.Set([1]);return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&k("es6-symbol")}return!1},!0);e("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof d.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===typeof d.default.String.prototype[a]})},
!0);e("es6-string-raw",function(){function a(a){for(var c=1;c<arguments.length;c++);c=h.__spread(a);c.raw=a.raw;return c}if("raw"in d.default.String){var b=a(n||(n=h.__makeTemplateObject(["a\n",""],["a\\n",""])),1);b.raw=["a\\n"];return"a\\n"===d.default.String.raw(b,42)}return!1},!0);e("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof d.default.String.prototype[a]})},!0);e("es6-symbol",function(){return"undefined"!==typeof d.default.Symbol&&"symbol"===
typeof Symbol()},!0);e("es6-weakmap",function(){if("undefined"!==typeof d.default.WeakMap){var a={},b={},g=new d.default.WeakMap([[a,1]]);Object.freeze(a);return 1===g.get(a)&&g.set(b,2)===g&&k("es6-symbol")}return!1},!0);e("microtasks",function(){return k("es6-promise")||0||k("dom-mutationobserver")},!0);e("postmessage",function(){return"undefined"!==typeof d.default.window&&"function"===typeof d.default.postMessage},!0);e("raf",function(){return"function"===typeof d.default.requestAnimationFrame},
!0);e("setimmediate",function(){return"undefined"!==typeof d.default.setImmediate},!0);e("dom-mutationobserver",function(){if(k("host-browser")&&(d.default.MutationObserver||d.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (d.default.MutationObserver||d.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);e("dom-webanimation",function(){return k("host-browser")&&void 0!==
d.default.Animation&&void 0!==d.default.KeyframeEffect},!0);e("abort-controller",function(){return"undefined"!==typeof d.default.AbortController});e("abort-signal",function(){return"undefined"!==typeof d.default.AbortSignal});e("dom-intersection-observer",function(){return k("host-browser")&&void 0!==d.default.IntersectionObserver},!0);e("dom-resize-observer",function(){return k("host-browser")&&void 0!==d.default.ResizeObserver},!0);e("dom-pointer-events",function(){return k("host-browser")&&void 0!==
d.default.onpointerdown},!0);e("build-elide",!1);var n})},"tslib/tslib":function(){var a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u;(function(a){function c(a,c){a!==b&&("function"===typeof Object.create?Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(b,f){return a[b]=c?c(b,f):f}}var b="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(f){a(c(b,c(f)))}):"object"===
typeof module&&"object"===typeof module.exports?a(c(b,c(module.exports))):a(c(b))})(function(w){var z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};a=function(a,c){function b(){this.constructor=a}z(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};b=Object.assign||function(a){for(var c,b=1,f=arguments.length;b<f;b++){c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,
d)&&(a[d]=c[d])}return a};l=function(a,c){var b={},f;for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&0>c.indexOf(f)&&(b[f]=a[f]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var d=0;for(f=Object.getOwnPropertySymbols(a);d<f.length;d++)0>c.indexOf(f[d])&&(b[f[d]]=a[f[d]])}return b};e=function(a,c,b,f){var d=arguments.length,m=3>d?c:null===f?f=Object.getOwnPropertyDescriptor(c,b):f,g;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)m=Reflect.decorate(a,c,b,f);
else for(var e=a.length-1;0<=e;e--)if(g=a[e])m=(3>d?g(m):3<d?g(c,b,m):g(c,b))||m;return 3<d&&m&&Object.defineProperty(c,b,m),m};k=function(a,c){return function(b,f){c(b,f,a)}};h=function(a,c){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,c)};d=function(a,c,b,f){return new (b||(b=Promise))(function(d,m){function g(a){try{n(f.next(a))}catch(I){m(I)}}function e(a){try{n(f["throw"](a))}catch(I){m(I)}}function n(a){a.done?d(a.value):(new b(function(c){c(a.value)})).then(g,
e)}n((f=f.apply(a,c||[])).next())})};g=function(a,c){function b(a){return function(c){return f([a,c])}}function f(b){if(m)throw new TypeError("Generator is already executing.");for(;d;)try{if(m=1,g&&(e=b[0]&2?g["return"]:b[0]?g["throw"]||((e=g["return"])&&e.call(g),0):g.next)&&!(e=e.call(g,b[1])).done)return e;if(g=0,e)b=[b[0]&2,e.value];switch(b[0]){case 0:case 1:e=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++;g=b[1];b=[0];continue;case 7:b=d.ops.pop();d.trys.pop();continue;
default:if(!(e=d.trys,e=0<e.length&&e[e.length-1])&&(6===b[0]||2===b[0])){d=0;continue}if(3===b[0]&&(!e||b[1]>e[0]&&b[1]<e[3]))d.label=b[1];else if(6===b[0]&&d.label<e[1])d.label=e[1],e=b;else if(e&&d.label<e[2])d.label=e[2],d.ops.push(b);else{e[2]&&d.ops.pop();d.trys.pop();continue}}b=c.call(a,d)}catch(I){b=[6,I],g=0}finally{m=e=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var d={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},m,g,e,n;return n={next:b(0),
"throw":b(1),"return":b(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};n=function(a,c){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])};c=function(a){var c="function"===typeof Symbol&&a[Symbol.iterator],b=0;return c?c.call(a):{next:function(){a&&b>=a.length&&(a=void 0);return{value:a&&a[b++],done:!a}}}};f=function(a,c){var b="function"===typeof Symbol&&a[Symbol.iterator];if(!b)return a;a=b.call(a);var f,d=[],m;try{for(;(void 0===c||0<c--)&&!(f=a.next()).done;)d.push(f.value)}catch(F){m=
{error:F}}finally{try{f&&!f.done&&(b=a["return"])&&b.call(a)}finally{if(m)throw m.error;}}return d};p=function(){for(var a=[],c=0;c<arguments.length;c++)a=a.concat(f(arguments[c]));return a};r=function(a){return this instanceof r?(this.v=a,this):new r(a)};m=function(a,c,b){function f(a){n[a]&&(p[a]=function(c){return new Promise(function(b,f){1<q.push([a,c,b,f])||d(a,c)})})}function d(a,c){try{var b=n[a](c);b.value instanceof r?Promise.resolve(b.value.v).then(m,g):e(q[0][2],b)}catch(P){e(q[0][3],
P)}}function m(a){d("next",a)}function g(a){d("throw",a)}function e(a,c){(a(c),q.shift(),q.length)&&d(q[0][0],q[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=b.apply(a,c||[]),p,q=[];return p={},f("next"),f("throw"),f("return"),p[Symbol.asyncIterator]=function(){return this},p};q=function(a){function c(c,d){b[c]=a[c]?function(b){return(f=!f)?{value:r(a[c](b)),done:"return"===c}:d?d(b):b}:d}var b,f;return b={},c("next"),c("throw",function(a){throw a;
}),c("return"),b[Symbol.iterator]=function(){return this},b};t=function(a){function b(c){m[c]=a[c]&&function(b){return new Promise(function(d,m){b=a[c](b);f(d,m,b.done,b.value)})}}function f(a,c,b,f){Promise.resolve(f).then(function(c){a({value:c,done:b})},c)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a[Symbol.asyncIterator],m;return d?d.call(a):(a="function"===typeof c?c(a):a[Symbol.iterator](),m={},b("next"),b("throw"),b("return"),m[Symbol.asyncIterator]=
function(){return this},m)};v=function(a,c){Object.defineProperty?Object.defineProperty(a,"raw",{value:c}):a.raw=c;return a};x=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c};u=function(a){return a&&a.__esModule?a:{"default":a}};w("__extends",a);w("__assign",b);w("__rest",l);w("__decorate",e);w("__param",k);w("__metadata",h);w("__awaiter",d);w("__generator",g);w("__exportStar",n);w("__values",c);w("__read",
f);w("__spread",p);w("__await",r);w("__asyncGenerator",m);w("__asyncDelegator",q);w("__asyncValues",t);w("__makeTemplateObject",v);w("__importStar",x);w("__importDefault",u)})},"@dojo/framework/shim/array":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),a)})(function(a,b){Object.defineProperty(b,
"__esModule",{value:!0});var l=a("tslib"),e=a("./global"),k=a("./iterator"),h=a("./number"),d=a("../has/has");a=a("./support/util");if(d.default("es6-array")&&d.default("es6-array-fill"))b.from=e.default.Array.from,b.of=e.default.Array.of,b.copyWithin=a.wrapNative(e.default.Array.prototype.copyWithin),b.fill=a.wrapNative(e.default.Array.prototype.fill),b.find=a.wrapNative(e.default.Array.prototype.find),b.findIndex=a.wrapNative(e.default.Array.prototype.findIndex);else{var g=function(a){if(isNaN(a))return 0;
a=Number(a);isFinite(a)&&(a=Math.floor(a));return Math.min(Math.max(a,0),h.MAX_SAFE_INTEGER)},n=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},c=function(a,c){return 0>a?Math.max(c+a,0):Math.min(a,c)};b.from=function(a,c,b){if(null==a)throw new TypeError("from: requires an array-like object");c&&b&&(c=c.bind(b));b=g(a.length);var f="function"===typeof this?Object(new this(b)):Array(b);if(!k.isArrayLike(a)&&!k.isIterable(a))return f;if(k.isArrayLike(a)){if(0===
b)return[];for(var d=0;d<a.length;d++)f[d]=c?c(a[d],d):a[d]}else{d=0;try{for(var e=l.__values(a),n=e.next();!n.done;n=e.next()){var p=n.value;f[d]=c?c(p,d):p;d++}}catch(z){h={error:z}}finally{try{n&&!n.done&&(r=e.return)&&r.call(e)}finally{if(h)throw h.error;}}}void 0!==a.length&&(f.length=b);return f;var h,r};b.of=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return Array.prototype.slice.call(a)};b.copyWithin=function(a,b,d,m){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");
var f=g(a.length);b=c(n(b),f);d=c(n(d),f);m=c(void 0===m?f:n(m),f);m=Math.min(m-d,f-b);f=1;b>d&&b<d+m&&(f=-1,d+=m-1,b+=m-1);for(;0<m;)d in a?a[b]=a[d]:delete a[b],b+=f,d+=f,m--;return a};b.fill=function(a,b,d,m){var f=g(a.length);d=c(n(d),f);for(m=c(void 0===m?f:n(m),f);d<m;)a[d++]=b;return a};b.find=function(a,c,d){c=b.findIndex(a,c,d);return-1!==c?a[c]:void 0};b.findIndex=function(a,c,b){var f=g(a.length);if(!c)throw new TypeError("find: second argument must be a function");b&&(c=c.bind(b));for(b=
0;b<f;b++)if(c(a[b],b,a))return b;return-1}}d.default("es7-array")?b.includes=a.wrapNative(e.default.Array.prototype.includes):b.includes=function(a,c,b){void 0===b&&(b=0);var f;f=a.length;f=Number(f);isNaN(f)?f=0:(isFinite(f)&&(f=Math.floor(f)),f=Math.min(Math.max(f,0),h.MAX_SAFE_INTEGER));for(;b<f;++b){var d=a[b];if(c===d||c!==c&&d!==d)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==
a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],a)})(function(a,b){function l(a){return a&&"function"===typeof a[Symbol.iterator]}function e(a){return a&&"number"===typeof a.length}function k(a){if(l(a))return a[Symbol.iterator]();if(e(a))return new g(a)}Object.defineProperty(b,"__esModule",{value:!0});a("./Symbol");var h=a("./string"),d={done:!0,value:void 0},g=function(){function a(a){this._nextIndex=-1;l(a)?this._nativeIterator=
a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:d:d};a.prototype[Symbol.iterator]=function(){return this};return a}();b.ShimIterator=g;b.isIterable=l;b.isArrayLike=e;b.get=k;b.forOf=function(a,c,b){function f(){d=!0}var d=!1;if(e(a)&&"string"===typeof a)for(var m=a.length,g=0;g<m;++g){var n=a[g];if(g+1<m){var v=n.charCodeAt(0);v>=h.HIGH_SURROGATE_MIN&&
v<=h.HIGH_SURROGATE_MAX&&(n+=a[++g])}c.call(b,n,a,f);if(d)break}else if(m=k(a))for(g=m.next();!g.done;){c.call(b,g.value,a,f);if(d)break;g=m.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],a)})(function(a,b){function l(a){return a&&("symbol"===typeof a||"Symbol"===
a["@@toStringTag"])||!1}Object.defineProperty(b,"__esModule",{value:!0});var e=a("../has/has"),k=a("./global"),h=a("./support/util");b.Symbol=k.default.Symbol;if(!e.default("es6-symbol")){var d=function(a){if(!l(a))throw new TypeError(a+" is not a symbol");return a},g=Object.defineProperties,n=Object.defineProperty,c=Object.create,f=Object.prototype,p={},r=function(){var a=c(null);return function(c){for(var b=0,d;a[String(c)+(b||"")];)++b;c+=String(b||"");a[c]=!0;d="@@"+c;Object.getOwnPropertyDescriptor(f,
d)||n(f,d,{set:function(a){n(this,d,h.getValueDescriptor(a))}});return d}}(),m=function t(a){if(this instanceof m)throw new TypeError("TypeError: Symbol is not a constructor");return t(a)};b.Symbol=k.default.Symbol=function v(a){if(this instanceof v)throw new TypeError("TypeError: Symbol is not a constructor");var c=Object.create(m.prototype);a=void 0===a?"":String(a);return g(c,{__description__:h.getValueDescriptor(a),__name__:h.getValueDescriptor(r(a))})};n(b.Symbol,"for",h.getValueDescriptor(function(a){return p[a]?
p[a]:p[a]=b.Symbol(String(a))}));g(b.Symbol,{keyFor:h.getValueDescriptor(function(a){var c;d(a);for(c in p)if(p[c]===a)return c}),hasInstance:h.getValueDescriptor(b.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:h.getValueDescriptor(b.Symbol.for("isConcatSpreadable"),!1,!1),iterator:h.getValueDescriptor(b.Symbol.for("iterator"),!1,!1),match:h.getValueDescriptor(b.Symbol.for("match"),!1,!1),observable:h.getValueDescriptor(b.Symbol.for("observable"),!1,!1),replace:h.getValueDescriptor(b.Symbol.for("replace"),
!1,!1),search:h.getValueDescriptor(b.Symbol.for("search"),!1,!1),species:h.getValueDescriptor(b.Symbol.for("species"),!1,!1),split:h.getValueDescriptor(b.Symbol.for("split"),!1,!1),toPrimitive:h.getValueDescriptor(b.Symbol.for("toPrimitive"),!1,!1),toStringTag:h.getValueDescriptor(b.Symbol.for("toStringTag"),!1,!1),unscopables:h.getValueDescriptor(b.Symbol.for("unscopables"),!1,!1)});g(m.prototype,{constructor:h.getValueDescriptor(b.Symbol),toString:h.getValueDescriptor(function(){return this.__name__},
!1,!1)});g(b.Symbol.prototype,{toString:h.getValueDescriptor(function(){return"Symbol ("+d(this).__description__+")"}),valueOf:h.getValueDescriptor(function(){return d(this)})});n(b.Symbol.prototype,b.Symbol.toPrimitive,h.getValueDescriptor(function(){return d(this)}));n(b.Symbol.prototype,b.Symbol.toStringTag,h.getValueDescriptor("Symbol",!1,!1,!0));n(m.prototype,b.Symbol.toPrimitive,h.getValueDescriptor(b.Symbol.prototype[b.Symbol.toPrimitive],!1,!1,!0));n(m.prototype,b.Symbol.toStringTag,h.getValueDescriptor(b.Symbol.prototype[b.Symbol.toStringTag],
!1,!1,!0))}b.isSymbol=l;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(a){b.Symbol[a]||Object.defineProperty(b.Symbol,a,h.getValueDescriptor(b.Symbol.for(a),!1,!1))});b.default=b.Symbol})},"@dojo/framework/shim/support/util":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&
define(["require","exports"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.getValueDescriptor=function(a,b,k,h){void 0===b&&(b=!1);void 0===k&&(k=!0);void 0===h&&(h=!0);return{value:a,enumerable:b,writable:k,configurable:h}};b.wrapNative=function(a){return function(b){for(var e=[],h=1;h<arguments.length;h++)e[h-1]=arguments[h];return a.apply(b,e)}}})},"@dojo/framework/shim/string":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,
exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=a("tslib"),e=a("./global"),k=a("../has/has");a=a("./support/util");b.HIGH_SURROGATE_MIN=55296;b.HIGH_SURROGATE_MAX=56319;b.LOW_SURROGATE_MIN=56320;b.LOW_SURROGATE_MAX=57343;if(k.default("es6-string")&&k.default("es6-string-raw"))b.fromCodePoint=e.default.String.fromCodePoint,
b.raw=e.default.String.raw,b.codePointAt=a.wrapNative(e.default.String.prototype.codePointAt),b.endsWith=a.wrapNative(e.default.String.prototype.endsWith),b.includes=a.wrapNative(e.default.String.prototype.includes),b.normalize=a.wrapNative(e.default.String.prototype.normalize),b.repeat=a.wrapNative(e.default.String.prototype.repeat),b.startsWith=a.wrapNative(e.default.String.prototype.startsWith);else{var h=function(a,b,e,c,f){void 0===f&&(f=!1);if(null==b)throw new TypeError("string."+a+" requires a valid string to search against.");
a=b.length;return[b,String(e),Math.min(Math.max(c!==c?f?a:0:c,0),a)]};b.fromCodePoint=function(){for(var a=0;a<arguments.length;a++);a=arguments.length;if(!a)return"";for(var g=String.fromCharCode,e=[],c=-1,f="";++c<a;){var p=Number(arguments[c]);if(!(isFinite(p)&&Math.floor(p)===p&&0<=p&&1114111>=p))throw RangeError("string.fromCodePoint: Invalid code point "+p);65535>=p?e.push(p):(p-=65536,e.push((p>>10)+b.HIGH_SURROGATE_MIN,p%1024+b.LOW_SURROGATE_MIN));if(c+1===a||16384<e.length)f+=g.apply(null,
e),e.length=0}return f};b.raw=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];var d=a.raw,c="",f=b.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var e=0,h=d.length;e<h;e++)c+=d[e]+(e<f&&e<h-1?b[e]:"");return c};b.codePointAt=function(a,e){void 0===e&&(e=0);if(null==a)throw new TypeError("string.codePointAt requries a valid string.");var d=a.length;e!==e&&(e=0);if(!(0>e||e>=d)){var c=a.charCodeAt(e);return c>=
b.HIGH_SURROGATE_MIN&&c<=b.HIGH_SURROGATE_MAX&&d>e+1&&(a=a.charCodeAt(e+1),a>=b.LOW_SURROGATE_MIN&&a<=b.LOW_SURROGATE_MAX)?1024*(c-b.HIGH_SURROGATE_MIN)+a-b.LOW_SURROGATE_MIN+65536:c}};b.endsWith=function(a,b,e){if(""===b)return!0;if("undefined"===typeof e)e=a.length;else if(null===e||isNaN(e))return!1;e=l.__read(h("endsWith",a,b,e,!0),3);a=e[0];b=e[1];e=e[2];var c=e-b.length;return 0>c?!1:a.slice(c,e)===b};b.includes=function(a,b,e){void 0===e&&(e=0);e=l.__read(h("includes",a,b,e),3);a=e[0];b=e[1];
e=e[2];return-1!==a.indexOf(b,e)};b.repeat=function(a,b){void 0===b&&(b=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");b!==b&&(b=0);if(0>b||Infinity===b)throw new RangeError("string.repeat requires a non-negative finite count.");for(var d="";b;)b%2&&(d+=a),1<b&&(a+=a),b>>=1;return d};b.startsWith=function(a,b,e){void 0===e&&(e=0);b=String(b);e=l.__read(h("startsWith",a,b,e),3);a=e[0];b=e[1];e=e[2];var c=e+b.length;return c>a.length?!1:a.slice(e,c)===b}}k.default("es2017-string")?
(b.padEnd=a.wrapNative(e.default.String.prototype.padEnd),b.padStart=a.wrapNative(e.default.String.prototype.padStart)):(b.padEnd=function(a,e,n){void 0===n&&(n=" ");if(null===a||void 0===a)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;a=String(a);e-=a.length;0<e&&(a+=b.repeat(n,Math.floor(e/n.length))+n.slice(0,e%n.length));return a},b.padStart=function(a,e,
n){void 0===n&&(n=" ");if(null===a||void 0===a)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;a=String(a);e-=a.length;0<e&&(a=b.repeat(n,Math.floor(e/n.length))+n.slice(0,e%n.length)+a);return a})})},"@dojo/framework/shim/number":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=
a)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],a)})(function(a,b){function l(a){return"number"===typeof a&&k.default.isFinite(a)}function e(a){return l(a)&&Math.floor(a)===a}Object.defineProperty(b,"__esModule",{value:!0});var k=a("./global");b.EPSILON=1;b.MAX_SAFE_INTEGER=Math.pow(2,53)-1;b.MIN_SAFE_INTEGER=-b.MAX_SAFE_INTEGER;b.isNaN=function(a){return"number"===typeof a&&k.default.isNaN(a)};b.isFinite=l;b.isInteger=e;b.isSafeInteger=function(a){return e(a)&&
Math.abs(a)<=b.MAX_SAFE_INTEGER}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(a,b,l,e){var k=a.some;return function(a){var d,g;b.isArray(a)?g=a:a&&"object"===typeof a&&(d=a);var n,c=[];if(d){g=[];for(var f in d)Object.hasOwnProperty.call(d,f)&&(c.push(f),g.push(d[f]));n={}}else g&&(n=[]);if(!g||!g.length)return(new l).resolve(n);var p=new l;p.promise.always(function(){n=c=null});var h=g.length;k(g,function(a,b){d||c.push(b);e(a,function(a){p.isFulfilled()||
(n[c[b]]=a,0===--h&&p.resolve(n))},p.reject);return p.isFulfilled()});return p.promise}})},"esri/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./lang","./Message"],function(a,b,l,e,k){a=function(a){function b(d,e,c){var f=a.call(this,d,e,c)||this;return f instanceof b?f:new b(d,e,c)}l(b,a);b.prototype.toJSON=function(){return{name:this.name,message:this.message,details:e.clone(this.details),dojoType:this.dojoType}};b.fromJSON=function(a){var d=new b(a.name,a.message,
a.details);null!=a.dojoType&&(d.dojoType=a.dojoType);return d};return b}(k);a.prototype.type="error";return a})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var b in l)l.hasOwnProperty(b)&&(a[b]=l[b])};return function(b,l){function e(){this.constructor=b}a(b,l);b.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}()})},"esri/core/lang":function(){define(["require",
"exports","./typedArrayUtil"],function(a,b,l){function e(a,b){var d;if(b)for(d in a)a.hasOwnProperty(d)&&(void 0===a[d]?delete a[d]:a[d]instanceof Object&&e(a[d],!0));else for(d in a)a.hasOwnProperty(d)&&void 0===a[d]&&delete a[d];return a}function k(a){return a&&"object"===typeof a&&"function"!==typeof a?l.isInt8Array(a)||l.isUint8Array(a)||l.isUint8ClampedArray(a)||l.isInt16Array(a)||l.isUint16Array(a)||l.isInt32Array(a)||l.isUint32Array(a)||l.isFloat32Array(a)||l.isFloat64Array(a)?l.slice(a):a instanceof
Date?new Date(a.getTime()):a instanceof ArrayBuffer?a.slice(0,a.byteLength):"function"===typeof a.clone?a.clone():"function"===typeof a.map&&"function"===typeof a.forEach?a.map(k):"function"===typeof a.notifyChange&&"function"===typeof a.watch?a.clone():h({},a,k):a}function h(a,b,e){var c,f,d={};for(c in b){f=b[c];var g=!(c in d)||d[c]!==f;if(!(c in a)||a[c]!==f&&g)a[c]=e?e(f):f}return a}Object.defineProperty(b,"__esModule",{value:!0});b.fixJson=e;b.clone=k;b.equals=function(a,b){return a===b||"number"===
typeof a&&isNaN(a)&&"number"===typeof b&&isNaN(b)||"function"===typeof(a||{}).getTime&&"function"===typeof(b||{}).getTime&&a.getTime()===b.getTime()||!1};b.mixin=function(a){void 0===a&&(a={});for(var b=1;b<arguments.length;b++);for(var b=1,d=arguments.length;b<d;b++)h(a,arguments[b]);return a}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.forEach=function(a,b){if(a.forEach)a.forEach(b);else for(var e=0;e<a.length;e++)b(a[e],
e,a)};b.slice=function(a,b,k){if(a.slice)return a.slice(b,k);void 0===b?b=0:(0>b&&(b+=a.length),b=Math.min(a.length,Math.max(0,b)));void 0===k?k=a.length:(0>k&&(k+=a.length),k=Math.min(a.length,Math.max(0,k)));k=Math.max(0,k-b);for(var e=new a.constructor(k),d=0;d<k;d++)e[d]=a[b+d];return e};b.isArrayBuffer=function(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};b.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&"Int8Array"===a.constructor.name};
b.isUint8Array=function(a){return a instanceof Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};b.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};b.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===a.constructor.name};b.isUint16Array=function(a){return a instanceof Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};b.isInt32Array=function(a){return a instanceof
Int32Array||a&&a.constructor&&"Int32Array"===a.constructor.name};b.isUint32Array=function(a){return a instanceof Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};b.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};b.isFloat64Array=function(a){return a instanceof Float64Array||a&&a.constructor&&"Float64Array"===a.constructor.name};b.toArray=function(a){for(var b=Array(a.length),k=0;k<a.length;k++)b[k]=a[k];return b}})},
"esri/core/Message":function(){define(["require","exports","./object"],function(a,b,l){function e(a,b){return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,e,n){if(""===e)return"$";a=l.getDeepValue(e,b);a=null==a?"":a;if("undefined"===typeof a)throw Error('could not find key "'+e+'" in template');return a.toString()})}return function(){function a(b,d,g){this instanceof a&&(this.name=b,this.message=d&&e(d,g)||"",this.details=g)}a.prototype.toString=function(){return"["+this.name+"]: "+
this.message};return a}()})},"esri/core/object":function(){define(["require","exports"],function(a,b){function l(a,b,h){for(var d=0;d<a.length;d++){var e=a[d];if(null==h)return;if(!(e in h))if(b)h[e]={};else return;h=h[e]}return h}Object.defineProperty(b,"__esModule",{value:!0});b.getDeepValue=function(a,b){if(null!=b)return b[a]||l(a.split("."),!1,b)};b.setDeepValue=function(a,b,h){var d=a.split(".");a=d.pop();(h=l(d,!0,h))&&a&&(h[a]=b)}})},"esri/core/events":function(){define(["require","exports"],
function(a,b){function l(a){return a&&("function"===typeof a.on||"function"===typeof a.addEventListener)}function e(a,b,d){if(!l(a))throw new TypeError("target is not a Evented or EventTarget object");if("on"in a)return a.on(b,d);if(Array.isArray(b)){for(var e=b.slice(),n=0;n<e.length;n++)a.addEventListener(e[n],d);return{remove:function(){for(var b=0;b<e.length;b++)a.removeEventListener(e[b],d)}}}a.addEventListener(b,d);return{remove:function(){a.removeEventListener(b,d)}}}Object.defineProperty(b,
"__esModule",{value:!0});b.isEventTarget=l;b.on=e;b.once=function(a,b,d){if(!l(a))throw new TypeError("target is not a Evented or EventTarget object");if("once"in a)return a.once(b,d);var g=e(a,b,function(b){g.remove();d.call(a,b)});return{remove:function(){g.remove()}}};b.pausable=function(a,b,d){var g=!1,n=e(a,b,function(b){g||d.call(a,b)});return{resume:function(){g=!1},pause:function(){g=!0},remove:function(){n.remove()}}};b.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};b.eventKey=function(a){a=a.key;return b.ieKeyNormalizationMap[a]||a}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(a,b,l){function e(a,b,d){return null!=a?d(a):b}Object.defineProperty(b,"__esModule",{value:!0});b.isSome=function(a){return null!=a};b.isNone=function(a){return null==a};b.applySome=function(a,b){return null!=
a?b(a):null};b.unwrap=function(a){return a};b.unwrapOr=function(a,b){return null!=a?a:"function"===typeof b?b():b};b.expect=function(a){return a};b.mapSome=function(a,b){var d=[];a.forEach(function(a){a=b(a);null!=a&&d.push(a)});return d};b.mapMany=function(a,b){for(var d=[],g=0;g<a.length;g++)d.push(e(a[g],null,b));return d};b.forEachSome=function(a,b){for(var d=0;d<a.length;d++)e(a[d],null,b)};b.mapOr=e;b.andThen=function(a,b){return null!=a?b(a):null};b.mapSomeFirst=function(a,b){for(var d=0;d<
a.length;d++){var e=b(a[d]);if(null!=e)return e}return null};b.get=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];for(var d=a,e=0;e<b.length&&d;)d=d[b[e++]];return d}})},"esri/core/has":function(){define(["require","exports","dojo/sniff","./global","../views/webgl/context-util"],function(a,b,l,e,k){function h(){if(g)return g;g={available:!1,version:0,majorPerformanceCaveat:!1,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,
supportsInstancedArrays:!1,supportsTextureFloat:!1,maxTextureSize:0};var a=document.createElement("canvas");if(!a)return g;var b=k.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!b&&(b=k.createContext(a,{},"webgl"))&&(g.majorPerformanceCaveat=!0);if(!b)return g;a=b.getParameter(b.VERSION);if(!a)return g;if(a=a.match(/^WebGL\s+([\d.]*)/)){g.version=parseFloat(a[1]);g.available=.94<=g.version;if(a=b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT))g.supportsHighPrecisionFragment=
0<a.precision;g.supportsVertexShaderSamplers=0<b.getParameter(b.MAX_VERTEX_TEXTURE_IMAGE_UNITS);g.supportsElementIndexUint=null!==b.getExtension("OES_element_index_uint");g.supportsStandardDerivatives=null!==b.getExtension("OES_standard_derivatives");g.supportsInstancedArrays=null!==b.getExtension("ANGLE_instanced_arrays");g.supportsTextureFloat=null!==b.getExtension("OES_texture_float")}g.maxTextureSize=b.getParameter(b.MAX_TEXTURE_SIZE);return g}function d(){if(n)return n;n={available:!1,version:0};
var a=document.createElement("canvas");if(!a)return n;a=k.createContext(a,{},"webgl2");if(!a)return n;n.available=!0;a=a.getParameter(a.VERSION);if(!a)return n;if(a=a.match(/^WebGL\s+([\d.]*)/))n.version=parseFloat(a[1]);return n}(function(){var a=navigator.userAgent,b=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);b&&l.add("esri-mobile",b);a&&l.add("esri-iPhone",a);l.add("esri-geolocation",function(){return!!navigator.geolocation});l.add("esri-canvas-svg-support",
function(){return!(l("trident")||l("ie"))});l.add("esri-secure-context",function(){if("isSecureContext"in e)return e.isSecureContext;if(e.location&&e.location.origin)return 0===e.location.origin.indexOf("https:")});l.add("esri-wasm","WebAssembly"in e);l.add("esri-shared-array-buffer","SharedArrayBuffer"in e);l.add("esri-workers","Worker"in e);l("host-webworker")||(l.add("esri-abortable-fetch","fetch"in e&&"signal"in new Request("https://www.arcgis.com")),l.add("esri-image-decode",function(){if("decode"in
new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';a.decode().then(function(){l.add("esri-image-decode",!0,!0,!0)}).catch(function(){l.add("esri-image-decode",!1,!0,!0)})}else return!1}),l.add("esri-url-encodes-apostrophe",function(){var a=e.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),l.add("esri-webgl",function(){return h().available}),l.add("esri-webgl-high-precision-fragment",
function(){return h().supportsHighPrecisionFragment}),l.add("esri-webgl-vertex-shader-samplers",function(){return h().supportsVertexShaderSamplers}),l.add("esri-webgl-element-index-uint",function(){return h().supportsElementIndexUint}),l.add("esri-webgl-standard-derivatives",function(){return h().supportsStandardDerivatives}),l.add("esri-webgl-texture-float",function(){return h().supportsTextureFloat}),l.add("esri-webgl-instanced-arrays",function(){return h().supportsInstancedArrays}),l.add("esri-webgl-major-performance-caveat",
function(){return h().majorPerformanceCaveat}),l.add("esri-featurelayer-webgl",!0),l.add("esri-featurelayer-webgl-labeling",!0),l.add("esri-webgl2",function(){return d().available}),l.add("esri-webgl-max-texture-size",function(){return h().maxTextureSize}))})();var g=null,n=null;return l})},"esri/core/global":function(){define(["require","exports"],function(a,b){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},
"esri/views/webgl/context-util":function(){define(["require","exports"],function(a,b){function l(a,b,e){void 0===b&&(b={});var c;switch(e){case "webgl":c=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":c=["webgl2"];break;default:c=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}e=null;for(var f=0;f<c.length;f++){var d=c[f];try{e=a.getContext(d,b)}catch(r){}if(e)break}return e}function e(a,b){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
b+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(b,"__esModule",{value:!0});b.createContextOrErrorHTML=function(a,b,n){void 0===b&&(b={});if(!window.WebGLRenderingContext)return e(a,k),null;b=l(a,b,n);return b?b:(e(a,h),null)};b.createContext=l;var k='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',h='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"@dojo/framework/shim/Promise":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=a("tslib"),e=a("./global"),k=a("./support/queue");a("./Symbol");a=a("../has/has");b.ShimPromise=e.default.Promise;b.isThenable=function(a){return a&&
"function"===typeof a.then};a.default("es6-promise")||(e.default.Promise=b.ShimPromise=(h=function(){function a(d){var e=this;this.state=1;this[Symbol.toStringTag]="Promise";var c=!1,f=[],g=function(a){f&&f.push(a)},h=function(a,b){1===e.state&&(e.state=a,e.resolvedValue=b,g=k.queueMicroTask,f&&0<f.length&&k.queueMicroTask(function(){if(f){for(var a=f.length,b=0;b<a;++b)f[b].call(null);f=null}}))},m=function(a,f){1!==e.state||c||(b.isThenable(f)?(f.then(h.bind(null,0),h.bind(null,2)),c=!0):h(a,f))};
this.then=function(b,c){return new a(function(a,f){g(function(){var d=2===e.state?c:b;if("function"===typeof d)try{a(d(e.resolvedValue))}catch(w){f(w)}else 2===e.state?f(e.resolvedValue):a(e.resolvedValue)})})};try{d(m.bind(null,0),m.bind(null,2))}catch(q){h(2,q)}}a.all=function(d){return new this(function(e,c){function f(a,b){n[a]=b;++m;h||m<q||e(n)}function g(d,m){++q;b.isThenable(m)?m.then(f.bind(null,d),c):a.resolve(m).then(f.bind(null,d))}var n=[],m=0,q=0,h=!0,k=0;try{for(var x=l.__values(d),
u=x.next();!u.done;u=x.next())g(k,u.value),k++}catch(A){w={error:A}}finally{try{u&&!u.done&&(z=x.return)&&z.call(x)}finally{if(w)throw w.error;}}(h=!1,m<q)||e(n);var w,z})};a.race=function(b){return new this(function(d,c){try{for(var f=l.__values(b),e=f.next();!e.done;e=f.next()){var g=e.value;g instanceof a?g.then(d,c):a.resolve(g).then(d)}}catch(t){m={error:t}}finally{try{e&&!e.done&&(n=f.return)&&n.call(f)}finally{if(m)throw m.error;}}var m,n})};a.reject=function(a){return new this(function(b,
c){c(a)})};a.resolve=function(a){return new this(function(b){b(a)})};a.prototype.catch=function(a){return this.then(void 0,a)};return a}(),h[Symbol.species]=b.ShimPromise,h));a.default("es2018-promise-finally")||(e.default.Promise.prototype.finally=function(a){return this.then(a&&function(b){return Promise.resolve(a()).then(function(){return b})},a&&function(b){return Promise.resolve(a()).then(function(){throw b;})})});b.default=b.ShimPromise;var h})},"@dojo/framework/shim/support/queue":function(){(function(a){"object"===
typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],a)})(function(a,b){function l(a){a&&a.isActive&&a.callback&&a.callback()}function e(a,b){return{destroy:function(){this.destroy=function(){};a.isActive=!1;a.callback=null;b&&b()}}}Object.defineProperty(b,"__esModule",{value:!0});var k=a("../global"),h=a("../../has/has"),d,g;b.queueTask=function(){function a(a){a=
{isActive:!0,callback:a};var c=g(a);return e(a,b&&function(){b(c)})}var b,g;if(h.default("postmessage")){var n=[];k.default.addEventListener("message",function(a){a.source===k.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),n.length&&l(n.shift()))});g=function(a){n.push(a);k.default.postMessage("dojo-queue-message","*")}}else h.default("setimmediate")?(b=k.default.clearImmediate,g=function(a){return setImmediate(l.bind(null,a))}):(b=k.default.clearTimeout,g=function(a){return setTimeout(l.bind(null,
a),0)});return h.default("microtasks")?a:function(b){d();return a(b)}}();if(!h.default("microtasks")){var n=!1;g=[];d=function(){n||(n=!0,b.queueTask(function(){n=!1;if(g.length)for(var a=void 0;a=g.shift();)l(a)}))}}b.queueAnimationTask=function(){function a(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(l.bind(null,a));return e(a,function(){cancelAnimationFrame(b)})}return h.default("raf")?h.default("microtasks")?a:function(b){d();return a(b)}:b.queueTask}();b.queueMicroTask=function(){var a;
if(h.default("host-node"))a=function(a){k.default.process.nextTick(l.bind(null,a))};else if(h.default("es6-promise"))a=function(a){k.default.Promise.resolve(a).then(l)};else if(h.default("dom-mutationobserver")){var b=k.default.MutationObserver||k.default.WebKitMutationObserver,n=document.createElement("div"),r=[];(new b(function(){for(;0<r.length;){var a=r.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(n,{attributes:!0});a=function(a){r.push(a);n.setAttribute("queueStatus","1")}}else a=
function(a){d();g.push(a)};return function(b){b={isActive:!0,callback:b};a(b);return e(b)}}()})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.referenceSetter=function(a,b,h){void 0===h&&(h=l);b||(b=new h);if(b===a)return b;b.removeAll();a&&(Array.isArray(a)||a.isInstanceOf&&a.isInstanceOf(l))?b.addMany(a):a&&b.add(a);return b};b.castForReferenceSetter=function(a){return a}})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r){function m(a){return a?a.isInstanceOf&&a.isInstanceOf(D):!1}function q(a){return a?m(a)?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function t(a){if(a&&a.length)return a[0]}function v(a,b,c,f){b&&b.forEach(function(b,d,m){a.push(b);v(a,c.call(f,b,d,m),c,f)})}a=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=
!1;this.item=a};return a}();var x=function(){},u=new c(a,!0,function(a){a.item=null;a.target=null}),w=new Set,z=new Set,A=new Set,y=new Map,B=0,D=function(a){function b(b){b=a.call(this,b)||this;b._boundDispatch=b._dispatchColChange.bind(b);b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:B++});return b}l(b,a);c=b;b.ofType=function(a){if(!a)return c;if(y.has(a))return y.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;
else if(a.base)b=a.base.prototype.declaredClass;else for(var f in a.typeMap){var d=a.typeMap[f].prototype.declaredClass;b=b?b+(" | "+d):d}b=c.createSubclass({declaredClass:"esri.core.Collection\x3c"+b+"\x3e"});b.isCollection=m;f={Type:a,ensureType:"function"===typeof a?r.ensureType(a):r.ensureOneOfType(a)};Object.defineProperty(b.prototype,"itemType",{value:f});y.set(a,b);return b};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||m(a)?{items:a}:a:{}};Object.defineProperty(b.prototype,
"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges()||(this._splice.apply(this,[0,this.length].concat(q(a))),this._emitAfterChanges())},enumerable:!0,configurable:!0});b.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,f={removed:!1,callback:b};c.push(f);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=x;f.removed=!0;c.splice(c.indexOf(f),1)}}}return this._emitter.on(a,
b)};b.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};b.prototype.add=function(a,b){if(this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges();return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(q(a)));this._emitAfterChanges();return this};
b.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges())return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges();return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(n.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(q);return this._createNewInstance({items:(c=this._items).concat.apply(c,a)})};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges()){for(var c=
this._splice(0,this.length),f=c.length,d=0;d<f;d++)a.call(b,c[d],d,c);this._emitAfterChanges()}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){return d.find(this._items,a,b)};b.prototype.findIndex=function(a,b){return d.findIndex(this._items,a,b)};b.prototype.flatten=function(a,b){var f=[];v(f,this,a,
b);return new c(f)};b.prototype.forEach=function(a,b){return this._items.forEach(a,b)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};
b.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,b){a=this._items.map(a,b);return new c({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges())return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges()}return a}};b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var a=
t(this._splice(this.length-1,1));this._emitAfterChanges();return a}};b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges();return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,
b):c.reduceRight(a)};b.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges()))return a=t(this._splice(a,1)),this._emitAfterChanges(),a};b.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges())return[];a=m(a)?a.toArray():a;for(var b=this._items,c=[],f=a.length,d=0;d<f;d++){var e=b.indexOf(a[d]);if(-1<e){for(var g=d+1,n=e+1,p=Math.min(a.length-g,b.length-n),q=0;q<p&&a[g+q]===b[n+
q];)q++;g=1+q;(e=this._splice(e,g))&&0<e.length&&c.push.apply(c,e);d+=g-1}}this._emitAfterChanges();return c};b.prototype.reverse=function(){if(this._emitBeforeChanges())return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges();return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var a=t(this._splice(0,1));this._emitAfterChanges();return a}};b.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};b.prototype.some=function(a,b){return this._items.some(a,b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges())return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));return this};b.prototype.splice=function(a,b){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];if(this._emitBeforeChanges())return[];c=this._splice.apply(this,
[a,b].concat(c))||[];this._emitAfterChanges();return c};b.prototype.toArray=function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges();
return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};b.prototype._splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var d=this._items,m=this.constructor.prototype.itemType,e,g;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=f.schedule(this._boundDispatch));if(b){g=d.splice(a,
b);if(this.hasEventListener("before-remove")){var n=u.acquire();n.target=this;n.cancellable=!0;for(var p=0,q=g.length;p<q;p++)e=g[p],n.reset(e),this.emit("before-remove",n),n.defaultPrevented&&(g.splice(p,1),d.splice(a,0,e),a+=1,--p,--q);u.release(n)}this.length=this._items.length;if(this.hasEventListener("after-remove")){e=u.acquire();e.target=this;e.cancellable=!1;q=g.length;for(p=0;p<q;p++)e.reset(g[p]),this.emit("after-remove",e);u.release(e)}}if(c&&c.length){if(m){p=[];for(q=0;q<c.length;q++)e=
c[q],n=m.ensureType(e),null==n&&null!=e||p.push(n);c=p}m=this.hasEventListener("before-add");p=this.hasEventListener("after-add");q=a===this.length;if(m||p){e=u.acquire();e.target=this;e.cancellable=!0;n=u.acquire();n.target=this;n.cancellable=!1;for(var h=0,r=c;h<r.length;h++){var t=r[h];m?(e.reset(t),this.emit("before-add",e),e.defaultPrevented||(q?d.push(t):d.splice(a++,0,t),this._set("length",d.length),p&&(n.reset(t),this.emit("after-add",n)))):(q?d.push(t):d.splice(a++,0,t),this._set("length",
d.length),n.reset(t),this.emit("after-add",n))}u.release(n);u.release(e)}else q?d.push.apply(d,c):d.splice.apply(d,[a,0].concat(c)),this._set("length",d.length)}(c&&c.length||g&&g.length)&&this._notifyChangeEvent(c,g);return g};b.prototype._emitBeforeChanges=function(){var a=!1;if(this.hasEventListener("before-changes")){var b=u.acquire();b.target=this;b.cancellable=!0;this.emit("before-changes",b);a=b.defaultPrevented;u.release(b)}return a};b.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var a=
u.acquire();a.target=this;a.cancellable=!1;this.emit("after-changes",a);u.release(a)}};b.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchColChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;w.clear();z.clear();A.clear();for(var f=0;f<
b.length;f++){var d=b[f],e=d.added,d=d.removed;if(e)if(0===A.size&&0===z.size)for(var m=0,g=e;m<g.length;m++)e=g[m],w.add(e);else for(m=0,g=e;m<g.length;m++)e=g[m],z.has(e)?(A.add(e),z.delete(e)):A.has(e)||w.add(e);if(d)if(0===A.size&&0===w.size)for(m=0;m<d.length;m++)e=d[m],z.add(e);else for(m=0;m<d.length;m++)e=d[m],w.has(e)?w.delete(e):(A.delete(e),z.add(e))}var n=h.acquire();w.forEach(function(a){n.push(a)});var p=h.acquire();z.forEach(function(a){p.push(a)});var q=c._items,r=a.items,t=h.acquire();
A.forEach(function(a){r.indexOf(a)!==q.indexOf(a)&&t.push(a)});if(a.listeners&&(n.length||p.length||t.length))for(b={target:c,added:n,removed:p,moved:t},f=a.listeners.length,e=0;e<f;e++)d=a.listeners[e],d.removed||d.callback.call(c,b);h.release(n);h.release(p);h.release(t)},c=this,f=0;f<a.length;f++)b(a[f]);w.clear();z.clear();A.clear()}};var c;b.isCollection=m;e([p.property()],b.prototype,"length",void 0);e([p.property()],b.prototype,"items",null);return b=c=e([p.subclass("esri.core.Collection")],
b)}(p.declared(k,g));return D})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/testSupport".split(" "),function(a,b,l,e,k,h,d){b=b.default;a.before(function(b,c){a.hasMixin(b,g)&&e.processPrototype(c)});a.after(function(b){a.hasMixin(b,g)&&(e.processClass(b),Object.defineProperties(b.prototype,{initialized:{get:function(){return this.__accessor__&&
this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var g=a(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===g)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",
{value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a)}if(d.interceptor)d.interceptor.onInstanceConstruct(this)},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(n){console.warn(n.stack)}else if(h.removeTarget(this),this.__accessor__.destroy(),d.interceptor)d.interceptor.onInstanceDestroy(this)},get:function(a){return l.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){k.set(this,a,b);return this},watch:function(a,b,f){return h.watch(this,a,b,f)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},
_override:function(a,b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return g})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(a,b,l){function e(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);
a=a||[];b=b||{};return k([this].concat(a),b)}function k(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);b=b||{};var c,f;c=0;for(f=h.length;c<f;c++)h[c](a,b);a=l(a,b);a.createSubclass=e;c=0;for(f=d.length;c<f;c++)d[c](a);return a}var h=[],d=[];(function(a){a.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var c=a.length-
1;0<=c;c--)if(a[c].prototype.declaredClass===b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return l.safeMixin(a,b)};a.before=function(a){h.push(a)};a.after=function(a){d.push(a)}})(k||(k={}));return k})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(a,b,l){function e(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function k(a,b){for(var c=[],f=[{cls:0,refs:[]}],d={},m=1,g=a.length,n=0,p,q,h,r,t;n<g;++n){(p=a[n])?"[object Function]"!=A.call(p)&&e("mixin #"+
n+" is not a callable constructor.",b):e("mixin #"+n+" is unknown. Did you use dojo.require to pull it in?",b);q=p._meta?p._meta.bases:[p];h=0;for(p=q.length-1;0<=p;--p)r=q[p].prototype,r.hasOwnProperty("declaredClass")||(r.declaredClass="uniqName_"+B++),r=r.declaredClass,d.hasOwnProperty(r)||(d[r]={count:0,refs:[],cls:q[p]},++m),r=d[r],h&&h!==r&&(r.refs.push(h),++h.count),h=r;++h.count;f[0].refs.push(h)}for(;f.length;){h=f.pop();c.push(h.cls);for(--m;t=h.refs,1==t.length;){h=t[0];if(!h||--h.count){h=
0;break}c.push(h.cls);--m}if(h)for(n=0,g=t.length;n<g;++n)h=t[n],--h.count||f.push(h)}m&&e("can't build consistent linearization",b);p=a[0];c[0]=p?p._meta&&p===c[c.length-p._meta.bases.length]?p._meta.bases.length:1:0;return c}function h(a,b,c,f){var d,m,g,n,p,q,h=this._inherited=this._inherited||{};"string"===typeof a&&(d=a,a=b,b=c,c=f);if("function"===typeof a)g=a,a=b,b=c;else try{g=a.callee}catch(Q){if(Q instanceof TypeError)e("strict mode inherited() requires the caller function to be passed before arguments",
this.declaredClass);else throw Q;}(d=d||g.nom)||e("can't deduce a name to call inherited()",this.declaredClass);c=f=0;n=this.constructor._meta;f=n.bases;q=h.p;if("constructor"!=d){if(h.c!==g&&(q=0,p=f[0],n=p._meta,n.hidden[d]!==g)){(m=n.chains)&&"string"==typeof m[d]&&e("calling chained method with inherited: "+d,this.declaredClass);do if(n=p._meta,m=p.prototype,n&&(m[d]===g&&m.hasOwnProperty(d)||n.hidden[d]===g))break;while(p=f[++q]);q=p?q:-1}if(p=f[++q])if(m=p.prototype,p._meta&&m.hasOwnProperty(d))c=
m[d];else{g=z[d];do if(m=p.prototype,(c=m[d])&&(p._meta?m.hasOwnProperty(d):c!==g))break;while(p=f[++q])}c=p&&c||z[d]}else{if(h.c!==g&&(q=0,(n=f[0]._meta)&&n.ctor!==g)){for((m=n.chains)&&"manual"===m.constructor||e("calling chained constructor with inherited",this.declaredClass);(p=f[++q])&&(!(n=p._meta)||n.ctor!==g););q=p?q:-1}for(;(p=f[++q])&&!(c=(n=p._meta)?n.ctor:p););c=p&&c}h.c=c;h.p=q;if(c)return!0===b?c:c.apply(this,b||a)}function d(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,
b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function g(a,b,c,f){var d=this.getInherited(a,b,c);if(d)return d.apply(this,f||c||b||a)}function n(a){for(var b=this.constructor._meta.bases,c=0,f=b.length;c<f;++c)if(b[c]===a)return!0;return this instanceof a}function c(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function f(a){u.safeMixin(this.prototype,a);return this}function p(a,b){a instanceof Array||"function"===typeof a||
(b=a,a=void 0);b=b||{};a=a||[];return u([this].concat(a),b)}function r(a,b){return function(){var c=arguments,f=c,d=c[0],m,e;e=a.length;var g;if(!(this instanceof c.callee))return x(c);if(b&&(d&&d.preamble||this.preamble))for(g=Array(a.length),g[0]=c,m=0;;){(d=c[0])&&(d=d.preamble)&&(c=d.apply(this,c)||c);d=a[m].prototype;(d=d.hasOwnProperty("preamble")&&d.preamble)&&(c=d.apply(this,c)||c);if(++m==e)break;g[m]=c}for(m=e-1;0<=m;--m)d=a[m],(d=(e=d._meta)?e.ctor:d)&&d.apply(this,g?g[m]:c);(d=this.postscript)&&
d.apply(this,f)}}function m(a,b){return function(){var c=arguments,f=c,d=c[0];if(!(this instanceof c.callee))return x(c);b&&(d&&(d=d.preamble)&&(f=d.apply(this,f)||f),(d=this.preamble)&&d.apply(this,f));a&&a.apply(this,c);(d=this.postscript)&&d.apply(this,c)}}function q(a){return function(){var b=arguments,c=0,f,d;if(!(this instanceof b.callee))return x(b);for(;f=a[c];++c)if(f=(d=f._meta)?d.ctor:f){f.apply(this,b);break}(f=this.postscript)&&f.apply(this,b)}}function t(a,b,c){return function(){var f,
d,m=0,e=1;c&&(m=b.length-1,e=-1);for(;f=b[m];m+=e)d=f._meta,(f=(d?d.hidden:f.prototype)[a])&&f.apply(this,arguments)}}function v(a){y.prototype=a.prototype;a=new y;y.prototype=null;return a}function x(a){var b=a.callee,c=v(b);b.apply(c,a);return c}function u(a,g,x){"string"!=typeof a&&(x=g,g=a,a="");x=x||{};var y,E,B,C,F,J,M,P=1,Q=g;"[object Array]"==A.call(g)?(J=k(g,a),B=J[0],P=J.length-B,g=J[P]):(J=[0],g?"[object Function]"==A.call(g)?(B=g._meta,J=J.concat(B?B.bases:g)):e("base class is not a callable constructor.",
a):null!==g&&e("unknown base class. Did you use dojo.require to pull it in?",a));if(g)for(E=P-1;;--E){y=v(g);if(!E)break;B=J[E];(B._meta?c:w)(y,B.prototype);C=b("csp-restrictions")?function(){}:new Function;C.superclass=g;C.prototype=y;g=y.constructor=C}else y={};u.safeMixin(y,x);B=x.constructor;B!==z.constructor&&(B.nom="constructor",y.constructor=B);for(E=P-1;E;--E)(B=J[E]._meta)&&B.chains&&(M=w(M||{},B.chains));y["-chains-"]&&(M=w(M||{},y["-chains-"]));g&&g.prototype&&g.prototype["-chains-"]&&
(M=w(M||{},g.prototype["-chains-"]));B=!M||!M.hasOwnProperty("constructor");J[0]=C=M&&"manual"===M.constructor?q(J):1==J.length?m(x.constructor,B):r(J,B);C._meta={bases:J,hidden:x,chains:M,parents:Q,ctor:x.constructor};C.superclass=g&&g.prototype;C.extend=f;C.createSubclass=p;C.prototype=y;y.constructor=C;y.getInherited=d;y.isInstanceOf=n;y.inherited=D;y.__inherited=h;a&&(y.declaredClass=a,l.setObject(a,C));if(M)for(F in M)y[F]&&"string"==typeof M[F]&&"constructor"!=F&&(B=y[F]=t(F,J,"after"===M[F]),
B.nom=F);return C}var w=l.mixin,z=Object.prototype,A=z.toString,y,B=0;y=b("csp-restrictions")?function(){}:new Function;var D=a.config.isDebug?g:h;a.safeMixin=u.safeMixin=function(a,b){var c,f;for(c in b)f=b[c],f===z[c]&&c in z||"constructor"==c||("[object Function]"==A.call(f)&&(f.nom=c),a[c]=f);return a};return a.declare=u})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(a,
b,l,e,k,h,d,g,n){Object.defineProperty(b,"__esModule",{value:!0});k.getLogger("esri.core.accessorSupport.Properties");a=function(){function a(a){this.host=a;this._origin=g.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new n.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;d.instanceCreated(this.host,this.metadatas)};
a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++){var f=c[b],d=a[f];if(d){for(;0<d.length;)d.pop().propertyDestroyed(this,f);a[f]=null}}if(this.autoDestroy)for(f in this.metadatas)(a=this.internalGet(f))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[f].nonNullable||this.internalSet(f,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==
this.lifecycle},enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};a.prototype.get=function(a){var b=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var c=b.get;return c?(b=c.call(this.host),this.store.set(a,b,g.OriginId.COMPUTED),this.propertyCommitted(a),b):b.value};a.prototype.getterStatic=function(a,b){return this.store.has(a)?this.store.get(a):b.value};a.prototype.getterComputed=
function(a,b){if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);b=b.get.call(this.host);this.store.set(a,b,g.OriginId.COMPUTED);this.propertyCommitted(a);return b};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":g.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):
this.metadatas[a].value}};a.prototype.internalSet=function(a,b){if(this.metadatas[a]){var c=this.initialized?this._origin:g.OriginId.DEFAULTS,f=this.store.get(a);e.equals(b,f)&&c===this.store.originOf(a)&&this.store.has(a,c)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,b,c),this.propertyCommitted(a))}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return Object.keys(this.metadatas)};a.prototype.override=
function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden={});var f=this.metadatas[a];if(!f.nonNullable||null!=b){if(f=f.cast){b=this.cast(f,b);var f=b.valid,d=b.value;c.release(b);if(!f)return;b=d}this.overridden[a]=!0;this.internalSet(a,b)}}};a.prototype.set=function(a,b){if(this.metadatas[a]){var f=this.metadatas[a];if(!f.nonNullable||null!=b){var d=f.set;if(f=f.cast){b=this.cast(f,b);var f=b.valid,e=b.value;c.release(b);if(!f)return;b=e}d?d.call(this.host,b):this.internalSet(a,b)}}};
a.prototype.setDefaultOrigin=function(a){this._origin=g.nameToId(a)};a.prototype.propertyInvalidated=function(a){var b=this.dirties,c=this.isOverridden(a),f=this.cursors&&this.cursors[a],d=this.metadatas[a].computes;if(f)for(var e=0;e<f.length;e++)f[e].propertyInvalidated(this,a);c||(b[a]=!0);if(d)for(a=0;a<d.length;a++)this.propertyInvalidated(d[a])};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,
a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};a.prototype.cast=function(a,b){var f=c.acquire();f.valid=!0;f.value=b;a&&(f.value=a.call(this.host,b,f));return f};return a}();l=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};
a.prototype.release=function(){this.value=null};return a}();var c=new h(l);b.default=a})},"esri/core/Logger":function(){define(["require","exports","./has"],function(a,b,l){var e={info:0,warn:1,error:2};a=function(){function a(b){void 0===b&&(b={});this.module=b.module||"";this.writer=b.writer||null;this.level=b.level||null;null!=b.enabled&&(this.enabled=!!b.enabled);a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this.parent=a.getLogger(this.module.slice(0,b)))}a.prototype.log=
function(a){for(var b=[],e=1;e<arguments.length;e++)b[e-1]=arguments[e];this._isEnabled()&&this._matchLevel(a)&&(e=this._inheritedWriter())&&e.apply(void 0,[a,this.module].concat(b))};a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(b){return a.getLogger(this.module+"."+b)};a.getLogger=function(b){var d=a._loggers[b];d||(d=new a({module:b}));return d};a.prototype._parentWithMember=function(a,b){for(var d=this;d&&null==d[a];)d=d.parent;return d?d[a]:b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,b){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];
console[a].apply(console,["["+b+"]"].concat(d))};a.prototype._matchLevel=function(a){return e[this._parentWithMember("level","error")]<=e[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();a.getLogger("esri").level="warn";return a})},"esri/core/ObjectPool":function(){define(["require","exports"],function(a,b){var l=function(){return function(){}}();return function(){function a(a,b,d,e,n){void 0===e&&(e=1);void 0===n&&(n=0);this.classConstructor=
a;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=d;this.growthSize=e;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&(this.acquireFunction=b);this._pool=Array(n);this._initialSize=n;if(this.classConstructor)for(a=0;a<n;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(e,1)}a.prototype.destroy=function(){this.prune(0)};a.prototype.acquire=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=this.classConstructor||
l;if(0===this._pool.length)for(var d=this.growthSize,e=0;e<d;e++)this._pool[e]=new b;b=this._pool.pop();this.acquireFunction?this.acquireFunction.apply(this,[b].concat(a)):b&&b.acquire&&"function"===typeof b.acquire&&b.acquire.apply(b,a);return b};a.prototype.release=function(a){a&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var b=
a;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=a}};a.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];var e;this.classConstructor&&(e=this.classConstructor).call.apply(e,[a].concat(b))};return a}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty",
"./extensions/serializableProperty"],function(a,b,l,e,k){Object.defineProperty(b,"__esModule",{value:!0});var h=[l.default,e.default,k.default];b.processPrototypeMetadatas=function(a,b){for(var d=0;d<h.length;d++){var c=h[d];if(c.processPrototypePropertyMetadata)for(var f in a)c.processPrototypePropertyMetadata(f,a[f],a,b)}};b.processClassMetadatas=function(a,b){for(var d=0;d<h.length;d++){var c=h[d];if(c.processClassPropertyMetadata)for(var f in a)c.processClassPropertyMetadata(f,a[f],a,b)}};b.instanceCreated=
function(a,b){for(var d=Object.getOwnPropertyNames(b),c=0;c<h.length;c++){var f=h[c];f.instanceCreated&&f.instanceCreated(a,b,d)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(a,b,l,e,k,h,d){function g(a,b,f){var c=h.getProperties(a);return d.wire(a,f.aliasOf,function(){c.propertyInvalidated(b)})}Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension={processClassPropertyMetadata:function(a,
b,f,d){var c=b.aliasOf;if(c&&(a=c.split(".")[0],null!=f[a]&&!b.set&&!b.get)){var m;b.get=function(){var a=e.default(this,c);if("function"===typeof a){m||(m=c.split(".").slice(0,-1).join("."));var b=e.default(this,m);b&&(a=a.bind(b))}return a};b.readOnly||(b.set=function(a){return k.default(this,c,a)})}},instanceCreated:function(a,b,f){for(var c=0;c<f.length;c++){var d=f[c],e=b[d];e.aliasOf&&g(a,d,e)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require",
"exports","./utils"],function(a,b,l){function e(a,b,c){a="?"===a[a.length-1]?a.slice(0,-1):a;if(null!=c.getItemAt||Array.isArray(c)){var f=parseInt(a,10);if(!isNaN(f))return Array.isArray(c)?c[f]:c.getItemAt(f)}f=l.getProperties(c);return b?l.isPropertyDeclared(f,a)?f.get(a):c[a]:l.isPropertyDeclared(f,a)?f.internalGet(a):c[a]}function k(a,b,c,f){if(null==a)return a;if((a=e(b[f],c,a))||!(f<b.length-1))return f===b.length-1?a:k(a,b,c,f+1)}function h(a,b,c,f){void 0===c&&(c=!1);void 0===f&&(f=0);return"string"===
typeof b&&-1===b.indexOf(".")?e(b,c,a):k(a,l.pathToArray(b),c,f)}function d(a,b){return h(a,b,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=h;b.get=d;b.exists=function(a,b){return void 0!==h(b,a,!0)};b.default=d})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(a,b,l){function e(a,b,c){return b?Object.keys(b).reduce(function(a,d){var f=null,m="merge";c&&(f=c.path?c.path+"."+d:d,m=c.policy(f));if("replace"===m)return a[d]=b[d],a;if(void 0===
a[d])return a[d]=l.clone(b[d]),a;var g=a[d],m=b[d];if(g===m)return a;if(Array.isArray(m)||Array.isArray(a))g=g?Array.isArray(g)?a[d]=g.concat():a[d]=[g]:a[d]=[],m&&(Array.isArray(m)||(m=[m]),m.forEach(function(a){-1===g.indexOf(a)&&g.push(a)}));else if(m&&"object"===typeof m)if(c){var n=c.path;c.path=f;a[d]=e(g,m,c);c.path=n}else a[d]=e(g,m,null);else if(!a.hasOwnProperty(d)||b.hasOwnProperty(d))a[d]=m;return a},a||{}):a}function k(a){return Array.isArray(a)?a:a.split(".")}function h(a){if(Array.isArray(a)||
-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function d(a){var b=!1;return function(){b||(b=!0,a())}}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};b.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};b.merge=function(a,b,c){return c?e(a,b,{policy:c,path:""}):e(a,b,null)};b.pathToStringOrArray=
function(a){return!a||"string"===typeof a&&-1===a.indexOf(".")?a:k(a)};b.pathToArray=k;b.splitPath=h;b.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;a=k(a);for(var b=Array(a.length),c=0;c<a.length;c++){var f=a[c];b[c]="?"===f[f.length-1];b[c]&&(a[c]=f.slice(0,-1))}return{fullPath:a.join("."),conditional:b}};b.parse=function(a,b,c,f){b=h(b);if(Array.isArray(b)){var e=b.map(function(b){return f(a,b.trim(),c)});return{remove:d(function(){return e.forEach(function(a){return a.remove()})})}}return f(a,
b.trim(),c)};b.once=d})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(a,b,l,e,k){function h(a,b,e){if(a&&b)if("object"===typeof b){e=0;for(var c=Object.getOwnPropertyNames(b);e<c.length;e++){var f=c[e];h(a,f,b[f])}}else"_"!==b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),f=b.splice(b.length-1,1)[0],h(k.default(a,b),f,e)):a[b]=e)}Object.defineProperty(b,"__esModule",{value:!0});e.getLogger("esri.core.accessorSupport.set");b.set=h;b.default=
h})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(a,b,l){function e(a,b,d){b=l.splitPath(b);if(Array.isArray(b)){for(var c=[],f=0;f<b.length;f++)c.push((new k(b[f],d)).install(a));return new g(c)}a=(new k(b,d)).install(a);return new n(a)}Object.defineProperty(b,"__esModule",{value:!0});var k=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=l.parseConditionalPath(a))this.path=a.fullPath,
this.conditional=a.conditional;this.chain=l.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new d(this,a):new h(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),h=function(){function a(a,b){this.binding=a;this.target=b;l.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&
(l.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){l.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};return a}(),d=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=l.getProperties(b);this.stack.push({properties:this.properties,
propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),
this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,b){for(var c=this.stack,f=c[c.length-1];f.properties!==a&&f.propertyName!==b;)f.properties.removeCursor(f.propertyName,this),c.pop(),f=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=l.getProperties(b))&&a.length<
this.binding.chain.length){var c=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[c]||(this.stack.push({properties:b,propertyName:c}),b.addCursor(c,this),this.moveForward())}};return a}(),g=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),n=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=
null};return a}();b.create=function(a,b){a=l.splitPath(a);if(Array.isArray(a)){for(var c=[],f=0;f<a.length;f++)c.push(new k(a[f],b));return function(a){for(var b=[],f=0;f<c.length;f++)b[f]=c[f].install(a);return new g(b)}}var d=new k(a,b);return function(a){return new n(d.install(a))}};b.wire=e;b.default=e})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",
{value:!0});e.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,e,c){b.dependsOn&&(e=void 0,e=b.dependsOn.slice())&&(b.wire=h.create(e,function(b){return k.getProperties(b).propertyInvalidated(a)}))},instanceCreated:function(a,b,e){for(var c=0;c<e.length;c++){var f=b[e[c]];f.wire&&f.wire(a)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,b,l,e,k,h,d){function g(a,b,f){var c=a&&a.json;a&&a.json&&a.json.origins&&f&&(a=a.json.origins[f.origin])&&("any"===b||b in a)&&(c=a);return c}Object.defineProperty(b,"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(a,b){return g(a,"read",b)};b.originSpecificWritePropertyDefinition=function(a,b){return g(a,"write",b)};b.originSpecificPropertyDefinition=g;b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,f,g){if(h.process(b)){e.process(b);
f=b.type;for(g=0;Array.isArray(f)&&!l.isOneOf(f);)f=f[0],g++;if(b.json.origins)for(var c in b.json.origins){var m=b.json.origins[c];k.create(f,g,a,m);d.create(f,g,a,m)}k.create(f,g,a,b.json);d.create(f,g,a,b.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(a,b,l){function e(a,b){return b.isInstanceOf?b.isInstanceOf(a):b instanceof a}function k(a){return null==a?a:new Date(a)}function h(a){return null==
a?a:!!a}function d(a){return null==a?a:a.toString()}function g(a){return null==a?a:"number"===typeof a&&isNaN(a)?0:parseFloat(a)}function n(a){return null==a?a:Math.round(parseFloat(a))}function c(a){return a&&a.constructor&&void 0!==a.constructor._meta}function f(a,b){return null!=b&&a&&!e(a,b)}function p(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function r(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:
null}function m(a,b){if(!b||!b.constructor||!p(b.constructor))return q(a,b)?b:new a(b);var c=r(a.prototype.itemType),f=r(b.constructor.prototype.itemType);if(!c)return b;if(!f)return new a(b);if(c===f)return b;if((f=f._meta&&f._meta.bases)&&-1!==f.indexOf(c))return new a(b);q(a,b);return b}function q(a,b){return c(b)?(D.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||"unknown")+"' which is not a subclass of '"+v(a)+"'"),!0):!1}function t(a,b){return null==b?b:p(a)?m(a,b):f(a,b)?
q(a,b)?b:new a(b):b}function v(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}function x(a){switch(a){case Number:return g;case C:return n;case Boolean:return h;case String:return d;case Date:return k;default:return t.bind(null,a)}}function u(a,b){var c=x(a);return 1===arguments.length?c:c(b)}function w(a,b){return 1===arguments.length?w.bind(null,a):b?Array.isArray(b)?b.map(a):[a(b)]:b}function z(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return z(a,b-1,c)}):a(c)}function A(a,
b,c){if(2===arguments.length)return A.bind(null,a,b);if(!c)return c;c=z(a,b,c);for(var f=b,d=c;0<f&&Array.isArray(d);)f--,d=d[0];if(void 0!==d)for(d=0;d<f;d++)c=[c];return c}function y(a,b){if(2===arguments.length)return y(a).call(null,b);for(var c=new Set,d=a.filter(function(a){return"function"!==typeof a}),e=a.filter(function(a){return"function"===typeof a}),m=0;m<a.length;m++){var g=a[m];"string"!==typeof g&&"number"!==typeof g||c.add(g)}var n=null,p=null;return function(a,b){if(null==a)return a;
var m=typeof a,g="string"===m||"number"===m;if(g&&(c.has(a)||e.some(function(a){return"string"===m&&a===String||"number"===m&&a===Number}))||"object"===m&&e.some(function(b){return!f(a,b)}))return a;g&&d.length?(n||(n=d.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),D.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+n)):"object"===typeof a&&e.length?(p||(p=e.map(function(a){return v(a)}).join(", ")),D.error("Accessor#set",
"'"+a+"' is not a valid value for this property, value must be one of "+p)):D.error("Accessor#set","'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function B(a,b){if(2===arguments.length)return B(a).call(null,b);var d={},e=[],m=[],g;for(g in a.typeMap){var n=a.typeMap[g];d[g]=u(n);e.push(v(n));m.push(g)}var p="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&!f(a.base,b))return b;var g=p(b)||a.defaultKeyValue,n=d[g];if(!n)return D.error("Accessor#set",
"Invalid property value, value needs to be one of "+("'"+e.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+m.join("', '")+"'")+")"),null;if(!f(a.typeMap[g],b))return b;if("string"===typeof a.key&&!c(b)){var g={},q;for(q in b)q!==a.key&&(g[q]=b[q]);return n(g)}return n(b)}}Object.defineProperty(b,"__esModule",{value:!0});var D=l.getLogger("esri.core.Accessor");b.isInstanceOf=e;b.ensureDate=k;b.ensureBoolean=h;b.ensureString=d;b.ensureNumber=g;b.ensureInteger=n;b.isClassedType=
c;b.requiresType=f;b.ensureClass=t;b.ensureType=u;b.ensureArrayTyped=w;b.ensureArray=function(a,b){return 1===arguments.length?w(u.bind(null,a)):w(u.bind(null,a),b)};b.ensureNArrayTyped=A;b.ensureNArray=function(a,b,c){return 2===arguments.length?A(u.bind(null,a),b):A(u.bind(null,a),b,c)};b.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};b.ensureOneOf=y;b.ensureOneOfType=B;var C=function(){return function(){}}();
b.Integer=C;b.default=u})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,k={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var d=b[a];k[a].forEach(function(a){b[a]=d});delete b[a]}};for(var h in k)a(h)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require",
"exports","../../../object","./type"],function(a,b,l,e){function k(a,b,f,d){if(1<b)return g(a,b);if(1===b)return n(a);if(c(a)){var e=n(a.prototype.itemType.Type);return function(b,c,f){return(b=e(b,c,f))?new a(b):b}}return h(a)}function h(a){return a.prototype.read?function(b,c,f){if(null==b)return b;c=new a;c.read(b,f);return c}:a.fromJSON}function d(a,b,c,f){return 0!==f&&Array.isArray(b)?b.map(function(b){return d(a,b,c,f-1)}):a(b,null,c)}function g(a,b){a=h(a);var c=d.bind(null,a);return function(a,
f,d){if(null==a)return a;a=c(a,d,b);f=b;for(d=a;0<f&&Array.isArray(d);)f--,d=d[0];if(void 0!==d)for(d=0;d<f;d++)a=[a];return a}}function n(a){var b=h(a);return function(a,c,f){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,f)}):[b(a,null,f)]}}function c(a){return e.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?f(a.Type):!1:!1}function f(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||c(a))}Object.defineProperty(b,
"__esModule",{value:!0});b.create=function(a,b,c,d){(!d.read||!d.read.reader&&!1!==d.read.enabled)&&f(a)&&l.setDeepValue("read.reader",k(a,b,c,d),d)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require",
"exports"],function(a,b){function l(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&(a.read.enabled=!0)}function e(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=
function(a){a.json||(a.json={});l(a.json);e(a.json);if(a.json.origins)for(var b in a.json.origins)l(a.json.origins[b]),e(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(a,b,l,e){function k(a,b,d,e){l.setDeepValue(d,h(a,e),b)}function h(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:
Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function d(a,b,d,e){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return h(a,e)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[h(a,e)];l.setDeepValue(d,a,b)}function g(a,b,d){return 0!==d&&Array.isArray(a)?a.map(function(a){return g(a,b,d-1)}):h(a,b)}function n(a){return function(b,c,d,e){if(null===b)b=null;else{b=g(b,e,a);e=a;for(var f=b;0<e&&Array.isArray(f);)e--,f=f[0];if(void 0!==f)for(f=0;f<e;f++)b=[b]}l.setDeepValue(d,
b,c)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,g,h){!h.write||h.write.writer||!1===h.write.enabled&&!h.write.overridePolicy||(1===b||e.isCollection(a)?h.write.writer=d:h.write.writer=1<b?n(b):k)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(a,b){function l(a){switch(a){case "defaults":return k.DEFAULTS;case "service":return k.SERVICE;case "portal-item":return k.PORTAL_ITEM;case "web-scene":return k.WEB_SCENE;case "web-map":return k.WEB_MAP;
case "user":return k.USER}}function e(a){switch(a){case k.DEFAULTS:return"defaults";case k.SERVICE:return"service";case k.PORTAL_ITEM:return"portal-item";case k.WEB_SCENE:return"web-scene";case k.WEB_MAP:return"web-map";case k.USER:return"user"}}Object.defineProperty(b,"__esModule",{value:!0});var k;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=
7]="NUM"})(k=b.OriginId||(b.OriginId={}));b.nameToId=l;b.idToName=e;b.readableNameToId=function(a){return l(a)};b.idToReadableName=function(a){return e(a)};b.writableNameToId=function(a){return l(a)};b.idToWritableName=function(a){return e(a)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","./PropertyOrigin"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=
function(a){return l.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();b.default=a})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),function(a,b,l,e,k,h,d){function g(a,b){return function(c){c=+a(c);
null!=b.min&&(c=Math.max(b.min,c));null!=b.max&&(c=Math.min(b.max,c));return c}}function n(a,b){return null==b.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,b):b.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,b):b.value}}Object.defineProperty(b,"__esModule",{value:!0});b.processPrototype=function(a){var b=a.declaredClass,c=a.properties||{},d;for(d in c){var m=c[d],n=typeof m;null==m?k.setPropertyMetadata(a,d,{value:m}):Array.isArray(m)?k.setPropertyMetadata(a,
d,{type:[m[0]],value:null}):"object"===n?h.getProperties(m)||m instanceof Date?k.setPropertyMetadata(a,d,{type:m.constructor,value:m}):k.setPropertyMetadata(a,d,m):"boolean"===n?k.setPropertyMetadata(a,d,{type:Boolean,value:m}):"string"===n?k.setPropertyMetadata(a,d,{type:String,value:m}):"number"===n?k.setPropertyMetadata(a,d,{type:Number,value:m}):"function"===n&&k.setPropertyMetadata(a,d,{type:m,value:null})}a=k.getPropertiesMetadata(a);for(d in a){c=a[d];n=c.type;m=c.types;if(!c.cast)if(n){for(var m=
c,t=0,v=n;Array.isArray(v)&&1===v.length&&"string"!==typeof v[0]&&"number"!==typeof v[0];)v=v[0],t++;n=l.isOneOf(v)?0===t?l.ensureOneOf(v):l.ensureNArrayTyped(l.ensureOneOf(v),t):1===t?l.ensureArray(v):1<t?l.ensureNArray(v,t):l.ensureType(n);m.cast=n}else m&&(Array.isArray(m)?c.cast=l.ensureArrayTyped(l.ensureOneOfType(m[0])):c.cast=l.ensureOneOfType(m));c.range&&(c.cast=g(c.cast,c.range))}e.processPrototypeMetadatas(a,b);return a};b.processClass=function(a){for(var b=a.prototype,c=b.declaredClass,
g=a._meta.bases,m={},q=g.length-1;0<=q;q--)k.merge(m,k.getMetadata(g[q].prototype));var h=m.properties;e.processClassMetadatas(h,c);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:h,autoDestroy:!!m.autoDestroy}});for(var v={},c=function(a){var b=h[a];v[a]={enumerable:!0,configurable:!0,get:n(a,b),set:function(c){var d=this.__accessor__;if(!d)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:c});else if(!Object.isFrozen(this)){if(d.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+
a+"' of "+this.declaredClass);if(2===d.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);d.set(a,c)}}}},g=0,q=Object.getOwnPropertyNames(h);g<q.length;g++)c(q[g]);Object.defineProperties(a.prototype,v);if(m.parameters)for(a=0,c=Object.getOwnPropertyNames(m.parameters);a<c.length;a++)g=c[a],q=Object.getOwnPropertyDescriptor(b,g)||{value:b[g]},(q=d.autocastMethod(b,g,q))&&Object.defineProperty(b,g,q);return m}})},"esri/core/accessorSupport/metadata":function(){define(["require",
"exports","./utils"],function(a,b,l){function e(a){return null!=a.__accessorMetadata__}function k(a){return e(a)&&null!=h(a).properties}function h(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function d(a){a=h(a);var b=a.properties;b||(b=a.properties={});return b}function g(a,b){var c=h(a);a=c.parameters;a||(a=c.parameters={});c=a[b];c||(c=[],a[b]=c);return c}function n(a){return f.test(a)?
"replace":"merge"}function c(a){return p.test(a)?n(a.slice(11)):"merge"}Object.defineProperty(b,"__esModule",{value:!0});b.hasMetadata=e;b.hasPropertiesMetadata=k;b.hasPropertyMetadata=function(a,b){return k(a)&&null!=d(a)[b]};b.hasParametersMetadata=function(a,b){return e(a)&&null!=h(a).parameters&&null!=h(a).parameters[b]};b.getMetadata=h;b.getPropertiesMetadata=d;b.getPropertyMetadata=function(a,b){a=d(a);var c=a[b];c||(c=a[b]={});return c};b.setPropertyMetadata=function(a,b,c){d(a)[b]=c};b.getParametersMetadata=
g;b.getParameterMetadata=function(a,b,c){var d=g(a,b)[c];d||(g(a,b)[c]=d={index:c});return d};b.merge=function(a,b){return l.merge(a,b,c)};b.mergeProperty=function(a,b){return l.merge(a,b,n)};var f=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,p=/^properties\./})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(a,b,l,e){function k(a){var b="_meta"in a?l.ensureType(a):a;return function(){for(var a=[],c=
0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?d.apply(this,a):h.apply(this,a)}}function h(a,b,d,g){e.getPropertyMetadata(a,b).cast=g}function d(a,b,d,g){e.getParameterMetadata(a,b,d).cast=g}function g(a){return function(b,c,d){e.getPropertyMetadata(b,a).cast=b[c]}}Object.defineProperty(b,"__esModule",{value:!0});var n=Object.prototype.toString;b.autocastMethod=function(a,b,d){if(e.hasParametersMetadata(a,b)){var c=e.getParametersMetadata(a,b).filter(function(a){return null!=
a.cast});if(c.length){var f=d.value;d.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<c.length;b++){var d=c[b];a[d.index]=d.cast(a[d.index])}return f.apply(this,a)};return d}console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated")}};b.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===n.call(a[0]))return k(a[0]);
if(1===a.length&&"string"===typeof a[0])return g(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(a,b,l,e,k,h,d,g,n){function c(a){x.has(a)?u.splice(u.indexOf(a),1):x.add(a);u.push(a);w||(w=h.schedule(p))}function f(a){if(!a.removed){var b=a.callback,c=a.path,f=a.oldValue,m=a.target,g=d.valueOf(m,a.propertyPath,!0);e.equals(f,g)||(a.oldValue=g,b.call(m,g,f,c,m))}}function p(){for(var a=
10;w&&a--;){w=null;var b=u;u=v.acquire();x.clear();for(var c=v.acquire(),d=0,e=b;d<e.length;d++){var m=e[d];f(m);m.removed&&c.push(m)}for(d=0;d<u.length;d++)m=u[d],m.removed&&(c.push(m),x.delete(m),u.splice(d,1),--d);for(d=0;d<c.length;d++)t.pool.release(c[d]);v.release(b);v.release(c);z.forEach(function(a){return a()})}}function r(a,b,f){var e=g.parse(a,b,f,function(a,b,f){var m=d.valueOf(a,b,!0),p,q,h=n.wire(a,b,function(a,b){a.__accessor__.destroyed||p&&p.uid!==q?e.remove():(p||(p=t.pool.acquire(a,
b,m,f),q=p.uid,m=null),c(p))});return{remove:g.once(function(){h.remove();p&&(p.uid!==q||p.removed||(p.removed=!0,c(p)),p=null);e=h=m=null})}});return e}function m(a,b,c){var f=g.parse(a,b,c,function(a,b,c){var m=d.valueOf(a,b,!0),g=!1;return n.wire(a,b,function(a,b){if(a.__accessor__.destroyed)f.remove();else if(!g){g=!0;var n=d.valueOf(a,b,!0);e.equals(m,n)||c.call(a,n,m,b,a);m=d.valueOf(a,b,!0);g=!1}})});return f}function q(a,b,c,d){void 0===d&&(d=!1);return!a.__accessor__||a.__accessor__.destroyed?
{remove:function(){}}:d?m(a,b,c):r(a,b,c)}Object.defineProperty(b,"__esModule",{value:!0});var t=function(){function a(b,c,d,f){this.target=b;this.path=c;this.oldValue=d;this.callback=f;this.uid=0;this.removed=!1;this.propertyPath=g.pathToStringOrArray(c);this.uid=++a.uid}a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new k.ReentrantObjectPool(a,!0);a.uid=0;return a}(),v=new l,x=new Set,u=v.acquire(),
w;b.dispatchTarget=function(a){for(var b=v.copy(u),c=0;c<b.length;c++){var d=b[c];d.target===a&&(f(d),x.delete(d),u.splice(u.indexOf(d),1))}};b.removeTarget=function(a){for(var b=0;b<u.length;b++){var c=u[b];c.target===a&&(c.removed=!0)}};b.dispatch=p;var z=new Set;b.afterDispatch=function(a){z.add(a);return{remove:function(){z.delete(a)}}};b.watch=q;b.isValueInUse=function(a){return u.some(function(b){return b.oldValue===a})};b.default=q})},"esri/core/ArrayPool":function(){define(["require","exports",
"./ObjectPool"],function(a,b,l){function e(a){a.length=0}var k=Array.prototype.splice;a=function(){function a(a,b){void 0===a&&(a=50);void 0===b&&(b=50);this._pool=new l(Array,!1,e,b,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);k.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return h.acquire()};a.copy=function(a){return h.copy(a)};a.release=function(a){return h.release(a)};
return a}();var h=new a(100);return a})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(a,b,l,e){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._set=new Set;return b}l(b,a);b.prototype.destroy=function(){a.prototype.destroy.call(this);this._set=null};b.prototype.acquire=function(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];b=a.prototype.acquire.apply(this,
b);this._set.delete(b);return b};b.prototype.release=function(b){b&&!this._set.has(b)&&(a.prototype.release.call(this,b),this._set.add(b))};b.prototype._dispose=function(b){this._set.delete(b);a.prototype._dispose.call(this,b)};return b}(e);b.ReentrantObjectPool=a})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(a,b,l,e,k){function h(a){void 0===a&&(a=b.now());b.debug.rafId=null;0<u.length&&(b.debug.rafId=d());0<r&&(q=Math.min(a-
r,q));b.debug.executeFrameTasks(a)}function d(){return b.debug.requestNextFrame?b.debug.requestNextFrame(c):c()}function g(){for(var a=0;a<u.length;){var b=u[a];a++;if(b.removed){u.splice(a-1,1);for(var c=0;c<v.length;c++){var d=v[c];if(b.phases[d]){var d=w[d],f=d.indexOf(b);-1!==f&&d.splice(f,1)}}}}}function n(){for(;x.length;){var a=x.shift();a.isActive&&(a.isActive=!1,a.callback())}b.debug.willDispatch=!1}function c(){return k(h)}Object.defineProperty(b,"__esModule",{value:!0});b.now=e;var f=function(){return function(a){this.phases=
a;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),p=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),r=-1,m=0,q=Number.POSITIVE_INFINITY,t={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},v=["prepare","preRender","render","postRender","update"],x=[],u=[],w={prepare:[],preRender:[],render:[],postRender:[],update:[]},z=function(){function a(a){this._task=a}a.prototype.remove=
function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=b.now())};a.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=b.now()-this._task.pausedAt))};return a}();b.FrameTaskHandle=z;b.debug={frameTasks:u,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);for(var b=0;b<u.length;b++)u[b].removed=!0;a&&g()},dispatch:n,executeFrameTasks:function(a){void 0===
a&&(a=b.now());0>r&&(r=a);var c=a-r,d=0<m?m:q,f=Math.max(0,c-d);r=a;for(var e=0;e<u.length;e++){var n=u[e];-1!==n.epoch&&(n.dt=c)}for(e=0;e<v.length;e++)for(var c=v[e],p=w[c],h=0;h<p.length;h++)n=p[(h+A)%p.length],n.paused||n.removed||(0===e&&n.ticks++,-1===n.epoch&&(n.epoch=a),t.time=a,t.deltaTime=n.dt,t.elapsedFrameTime=b.now()-a,t.frameDuration=d-f,t.spendInTask=a-n.epoch,n.phases[c].call(n,t));g();++A}};b.schedule=function(a){a=new p(a);x.push(a);b.debug.willDispatch||(b.debug.willDispatch=!0,
l(n));return a};b.addFrameTask=function(a){var c=new f(a);u.push(c);for(var e=0,m=v;e<m.length;e++){var g=m[e];a[g]&&w[g].push(c)}b.debug.rafId||(r=-1,b.debug.rafId=d());return new z(c)};b.setFrameDuration=function(a){m=Math.max(0,a)};var A=0;b.requestNextFrame=d})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(a,b,l){function e(){if(l.postMessage&&!l.importScripts){var a=l.onmessage,b=!0;l.onmessage=function(){b=!1};l.postMessage("","*");l.onmessage=a;return b}return!1}
function k(a){g.push(a);1===g.length&&d(function(){for(var a=0,b=n;a<b.length;a++)(0,b[a])();a=g.slice();for(b=g.length=0;b<a.length;b++)(0,a[b])()})}var h=l.MutationObserver||l.WebKitMutationObserver,d=function(){if(l.process&&l.process.nextTick)return function(a){l.process.nextTick(a)};if(l.Promise)return function(a){l.Promise.resolve().then(a)};if(h){var a=[],b=document.createElement("div");(new h(function(){for(;0<a.length;)a.shift()()})).observe(b,{attributes:!0});return function(c){a.push(c);
b.setAttribute("queueStatus","1")}}if(e()){var d=[];l.addEventListener("message",function(a){if(a.source===l&&"esri-nexttick-message"===a.data)for(a.stopPropagation();d.length;)d.shift()()},!0);return function(a){d.push(a);l.postMessage("esri-nexttick-message","*")}}return l.setImmediate?function(a){return l.setImmediate(a)}:function(a){return l.setTimeout(a,0)}}(),g=[],n=[];(function(a){a.before=function(a){n.push(a);return{remove:function(){n=n.filter(function(b){return b!==a})}}}})(k||(k={}));
return k})},"esri/core/now":function(){define(["require","exports","./global"],function(a,b,l){return function(){var a=l.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var b;b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},"esri/core/requestAnimationFrame":function(){define(["require",
"exports","./global","./now"],function(a,b,l,e){var k=e();a=l.requestAnimationFrame;if(!a){b=["ms","moz","webkit","o"];for(var h=0;h<b.length&&!a;++h)a=l[b[h]+"RequestAnimationFrame"];a||(a=function(a){var b=e(),d=Math.max(0,16-(b-k)),c=l.setTimeout(function(){a(e())},d);k=b+d;return c})}return a})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.interceptor=null})},"esri/core/arrayUtils":function(){define(["require",
"exports","@dojo/framework/shim/array","./RandomLCG"],function(a,b,l,e){function k(a,b){return-1===a.indexOf(b)}function h(a,b,c){return!a.some(b.bind(null,c))}function d(a){return a}Object.defineProperty(b,"__esModule",{value:!0});b.find=l.find;b.findIndex=l.findIndex;b.unique=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})};b.equals=function(a,b,c){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=
0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.difference=function(a,b,c){var d;c?(d=b.filter(h.bind(null,a,c)),a=a.filter(h.bind(null,b,c))):(d=b.filter(k.bind(null,a)),a=a.filter(k.bind(null,b)));return{added:d,removed:a}};b.intersect=function(a,b,c){return a&&b?c?a.filter(function(a){return-1<l.findIndex(b,function(b){return c(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};b.constant=function(a,b){for(var c=Array(a),d=0;d<a;d++)c[d]=b;return c};b.range=function(a,b){void 0===b&&
(b=a,a=0);for(var c=Array(b-a),d=a;d<b;d++)c[d-a]=d;return c};b.binaryIndexOf=function(a,b,c){for(var d=a.length,f=0,e=d-1;f<e;){var g=f+Math.floor((e-f)/2);b>a[g]?f=g+1:e=g}e=a[f];return c?b>=a[d-1]?-1:e===b?f:f-1:e===b?f:-1};b.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};a=function(){return function(){this.last=0}}();b.RemoveHint=a;var g=new a;b.removeUnordered=function(a,b,c,d){d=d||g;for(var f=null==c?a.length:c,e=Math.max(0,d.last-10),m=-1,n=e;n<f;++n)if(a[n]===
b){m=n;break}if(-1===m){for(n=0;n<e;++n)if(a[n]===b){m=n;break}if(-1===m)return}a[m]=a[f-1];null==c&&a.pop();d.last=m;return b};var n=new Set;b.removeUnorderedMany=function(a,b,c,d,e,h){void 0===c&&(c=a.length);void 0===d&&(d=b.length);if(0===d||0===c)return c;n.clear();for(var f=0;f<d;++f)n.add(b[f]);e=e||g;for(f=b=Math.max(0,e.last-10);f<c;++f)if(n.has(a[f])&&(h&&h.push(a[f]),n.delete(a[f]),a[f]=a[c-1],--c,--f,0===n.size||0===c))return n.clear(),c;for(f=0;f<b;++f)if(n.has(a[f])&&(h&&h.push(a[f]),
n.delete(a[f]),a[f]=a[c-1],--c,--f,0===n.size||0===c))return n.clear(),c;n.clear();return c};b.shuffle=function(a,b){b=(c.seed=b)?function(){return c.getFloat()}:Math.random;for(var d=a.length-1;0<d;d--){var f=Math.floor(b()*(d+1)),e=a[d];a[d]=a[f];a[f]=e}return a};var c=new e;b.keysOfMap=function(a){var b=[];a.forEach(function(a,c){return b.push(c)});return b};b.keysOfSet=function(a,b){void 0===b&&(b=d);var c=[];a.forEach(function(a){return c.push(b(a))});return c};b.fromMapValues=function(a){if(Array.from)return Array.from(a.values());
var b=Array(a.size),c=0;a.forEach(function(a){b[c++]=a});return b};b.remove=function(a,b){var c=a.indexOf(b);return-1!==c?(a.splice(c,1),b):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(a,b){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,"seed",{set:function(b){this._seed=null==b?Math.random()*a._m:b},enumerable:!0,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=
function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,b){return Math.round(this.getFloatRange(a,b))};a.prototype.getFloatRange=function(b,k){k-=b;var e=this.getInt()/a._m;return b+Math.floor(e*k)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/core/Evented":function(){define(["require","exports","./tsSupport/extendsHelper","@dojo/framework/shim/Map"],function(a,b,l,e){var k=function(){function a(a){this.target=a}a.prototype.clear=function(){this._listenersMap&&this._listenersMap.clear()};
a.prototype.emit=function(a,b){var d=this;a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;b=b||{};b.target||(b.target=this.target);a.slice().forEach(function(a){a.call(d.target,b)});return 0<a.length};a.prototype.on=function(a,b){var d=this;if(Array.isArray(a)){var c=a.map(function(a){return d.on(a,b)});return{remove:function(){return c.forEach(function(a){return a.remove()})}}}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap||(this._listenersMap=new e.default);var f=this._listenersMap.get(a)||[];f.push(b);this._listenersMap.set(a,f);return{remove:function(){var c=d._listenersMap&&d._listenersMap.get(a)||[];0<=c.indexOf(b)&&c.splice(c.indexOf(b),1)}}};a.prototype.once=function(a,b){var d=this,c;return c=this.on(a,function(a){c.remove();b.call(d.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();a=function(){function a(){this._emitter=
new k(this)}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){a.EventedMixin=function(a){return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}l(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,
b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b}(a)}})(a||(a={}));return a})},"@dojo/framework/shim/Map":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),
a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=a("tslib"),e=a("./iterator"),k=a("./global"),h=a("./object"),d=a("../has/has");a("./Symbol");b.Map=k.default.Map;d.default("es6-map")||(b.Map=(g=function(){function a(a){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(a)if(e.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(var b=l.__values(a),d=b.next();!d.done;d=b.next())c=d.value,this.set(c[0],c[1])}catch(t){m={error:t}}finally{try{d&&
!d.done&&(g=b.return)&&g.call(b)}finally{if(m)throw m.error;}}var m,g}a.prototype._indexOfKey=function(a,b){for(var c=0,d=a.length;c<d;c++)if(h.is(a[c],b))return c;return-1};Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});a.prototype.clear=function(){this._keys.length=this._values.length=0};a.prototype.delete=function(a){a=this._indexOfKey(this._keys,a);if(0>a)return!1;this._keys.splice(a,1);this._values.splice(a,1);return!0};a.prototype.entries=
function(){var a=this,b=this._keys.map(function(b,c){return[b,a._values[c]]});return new e.ShimIterator(b)};a.prototype.forEach=function(a,b){for(var c=this._keys,d=this._values,f=0,e=c.length;f<e;f++)a.call(b,d[f],c[f],this)};a.prototype.get=function(a){a=this._indexOfKey(this._keys,a);return 0>a?void 0:this._values[a]};a.prototype.has=function(a){return-1<this._indexOfKey(this._keys,a)};a.prototype.keys=function(){return new e.ShimIterator(this._keys)};a.prototype.set=function(a,b){var c=this._indexOfKey(this._keys,
a),c=0>c?this._keys.length:c;this._keys[c]=a;this._values[c]=b;return this};a.prototype.values=function(){return new e.ShimIterator(this._values)};a.prototype[Symbol.iterator]=function(){return this.entries()};return a}(),g[Symbol.species]=g,g));b.default=b.Map;var g})},"@dojo/framework/shim/object":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports",
"./global","../has/has","./Symbol"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=a("./global"),e=a("../has/has"),k=a("./Symbol");e.default("es6-object")?(a=l.default.Object,b.assign=a.assign,b.getOwnPropertyDescriptor=a.getOwnPropertyDescriptor,b.getOwnPropertyNames=a.getOwnPropertyNames,b.getOwnPropertySymbols=a.getOwnPropertySymbols,b.is=a.is,b.keys=a.keys):(b.keys=function(a){return Object.keys(a).filter(function(a){return!a.match(/^@@.+/)})},b.assign=function(a){for(var d=
[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];if(null==a)throw new TypeError("Cannot convert undefined or null to object");var n=Object(a);d.forEach(function(a){a&&b.keys(a).forEach(function(b){n[b]=a[b]})});return n},b.getOwnPropertyDescriptor=function(a,b){k.isSymbol(b);return Object.getOwnPropertyDescriptor(a,b)},b.getOwnPropertyNames=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!a.match(/^@@.+/)})},b.getOwnPropertySymbols=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!!a.match(/^@@.+/)}).map(function(a){return Symbol.for(a.substring(2))})},
b.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b});e.default("es2017-object")?(a=l.default.Object,b.getOwnPropertyDescriptors=a.getOwnPropertyDescriptors,b.entries=a.entries,b.values=a.values):(b.getOwnPropertyDescriptors=function(a){return b.getOwnPropertyNames(a).reduce(function(d,e){d[e]=b.getOwnPropertyDescriptor(a,e);return d},{})},b.entries=function(a){return b.keys(a).map(function(b){return[b,a[b]]})},b.values=function(a){return b.keys(a).map(function(b){return a[b]})})})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){function r(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0});r(l);r(e);r(k);r(h);r(d);r(g);r(n);r(c);r(f);r(p)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(a){return function(b,e){l.getPropertyMetadata(b,e).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(a,b,h){l.getMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(a){for(var b=[],k=1;k<arguments.length;k++)b[k-1]=arguments[k];k=function(){return this||{}};k.__bases__=[a].concat(b);return k}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../jsonMap","./property"],function(a,b,l,e){function k(a){return e.property({type:a})}Object.defineProperty(b,"__esModule",{value:!0});b.enumeration=k;(function(a){a.serializable=function(){return function(a,b){void 0===b&&(b={ignoreUnknown:!0});a=a instanceof l.JSONMap?a:new l.JSONMap(a,b);return e.property({type:b&&b.ignoreUnknown?a.apiValues:String,json:{type:a.jsonValues,read:{reader:a.read},write:{writer:a.write}}})}}})(k=b.enumeration||(b.enumeration={}))})},"esri/core/jsonMap":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=function(){function a(a,b){void 0===b&&(b={ignoreUnknown:!1});this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return this.fromJSON(a)}.bind(this);this.write=function(a,b,e){a=this.toJSON(a);void 0!==a&&(b[e]=a)}.bind(this)}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?
this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b={},d;for(d in a)b[a[d]]=d;return b};a.prototype.getKeysSorted=function(a){var b=[],d;for(d in a)b.push(d);b.sort();return b};return a}();b.JSONMap=l;b.strict=function(){return function(a){return new l(a,{ignoreUnknown:!0})}};b.default=l})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});k.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(a){void 0===a&&(a={});return function(b,d){var c=b.constructor.prototype;c!==Function.prototype&&((b=Object.getOwnPropertyDescriptor(b,d))&&(b.get||b.set)?(a=e.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):b&&b.hasOwnProperty("value")&&(a=e.clone(a),a.value=b.value),d=h.getPropertyMetadata(c,d),h.mergeProperty(d,a))}};b.propertyJSONMeta=function(a,
b,e){a=h.getPropertyMetadata(a.constructor.prototype,e);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(a,b,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.reader=function(a,b,d){var g,n;void 0===b||Array.isArray(b)?(n=a,d=b,g=[void 0]):(n=b,g=Array.isArray(a)?a:[a]);return function(a,b,p){var c=
a.constructor.prototype;g.forEach(function(f){f=e.propertyJSONMeta(a,f,n);f.read&&"object"!==typeof f.read&&(f.read={});l.setDeepValue("read.reader",c[b],f);d&&(f.read.source=(f.read.source||[]).concat(d))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=function(a){return function(b,k){b[k]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
"../../declare","../metadata"],function(a,b,l,e){function k(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function h(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function d(a){var b=[];a=e.getPropertiesMetadata(a.prototype);if(!a)return b;for(var c in a){var d=a[c];d.cast&&b.push(d.cast);d.copy&&b.push(d.copy);if(d=d.json)if(k(d,b),h(d,b),d=d.origins)for(var f in d){var g=
d[f];k(g,b);h(g,b)}}return b}function g(a){var b={values:{},descriptors:{}},f=["__bases__"],m=e.getPropertiesMetadata(a.prototype),g=d(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==f.indexOf(b)||m&&m.hasOwnProperty(b)||!c(Object.getOwnPropertyDescriptor(a.prototype,b))&&-1!==g.indexOf(a.prototype[b])?!1:!0}).forEach(function(d){var f=Object.getOwnPropertyDescriptor(a.prototype,d);c(f)?b.descriptors[d]=f:b.values[d]=a.prototype[d]});return b}function n(a){var b=Object.getOwnPropertyNames(a),
d=Object.getPrototypeOf(a.prototype).constructor,f=Object.getOwnPropertyNames(Function);f.push("__bases__");var e=Object.getOwnPropertyNames(d),g={values:{},descriptors:{}};b.filter(function(b){return-1!==f.indexOf(b)?!1:-1===e.indexOf(b)||d[b]!==a[b]?!0:!1}).forEach(function(b){var d=Object.getOwnPropertyDescriptor(a,b);c(d)?g.descriptors[b]=d:g.values[b]=a[b]});return g}function c(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",{value:!0});b.subclass=function(a){return function(b){var c=
g(b),d=n(b);null!=a&&(c.values.declaredClass=a);b=l(b.__bases__,c.values);Object.defineProperties(b.prototype,c.descriptors);for(var f in d.values)b[f]=d.values[f];Object.defineProperties(b,d.descriptors);return b}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(a,b,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.writer=function(a,b,d){var g,n;void 0===b?(n=a,g=[void 0]):"string"!==typeof b?(n=a,g=[void 0],d=b):
(n=b,g=Array.isArray(a)?a:[a]);return function(a,b,p){var c=a.constructor.prototype;g.forEach(function(f){f=e.propertyJSONMeta(a,f,n);f.write&&"object"!==typeof f.write&&(f.write={});d&&l.setDeepValue("write.target",d,f);l.setDeepValue("write.writer",c[b],f)})}}})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.neverReached=function(a){};b.neverReachedSilent=function(a){};b.typeCast=function(a){return function(){return a}};
b.tuple=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),function(a,b,l,e,k,h,d,g,n){function c(a,b){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var c=new this;c.read(a,b);return c}var f=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}l(b,a);b.prototype.read=function(a,b){g.default(this,a,b)};b.prototype.write=function(a,b){return n.default(this,a||{},b)};b.prototype.toJSON=function(a){return this.write(null,a)};b.fromJSON=function(a,b){return c.call(this,a,b)};return b=e([d.subclass("esri.core.JSONSupport")],b)}(d.declared(k));f.prototype.toJSON.isDefaultToJSON=!0;h.after(function(a){h.hasMixin(a,f)&&(a.fromJSON=c.bind(a))});return f})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),
function(a,b,l,e,k,h){function d(a,b,d){void 0===d&&(d=g);if(b&&"object"===typeof b){for(var c=k.getProperties(a),f=c.metadatas,m={},n=0,t=Object.getOwnPropertyNames(b);n<t.length;n++){var v=m,x=f,u=t[n],w=b,l=d,A=h.originSpecificReadPropertyDefinition(x[u],l);A&&(!A.read||!1!==A.read.enabled&&!A.read.source)&&(v[u]=!0);for(var y=0,B=Object.getOwnPropertyNames(x);y<B.length;y++){var D=B[y],A=h.originSpecificReadPropertyDefinition(x[D],l),C;a:{C=u;var E=w;if(A&&A.read&&!1!==A.read.enabled&&A.read.source)if(A=
A.read.source,"string"===typeof A){if(A===C||-1<A.indexOf(".")&&0===A.indexOf(C)&&e.exists(A,E)){C=!0;break a}}else for(var F=0;F<A.length;F++){var G=A[F];if(G===C||-1<G.indexOf(".")&&0===G.indexOf(C)&&e.exists(G,E)){C=!0;break a}}C=!1}C&&(v[D]=!0)}}c.setDefaultOrigin(d.origin);t=0;for(v=Object.getOwnPropertyNames(m);t<v.length;t++)n=v[t],u=(x=h.originSpecificReadPropertyDefinition(f[n],d).read)&&x.source,w=void 0,w=u&&"string"===typeof u?e.valueOf(b,u):b[n],x&&x.reader&&(w=x.reader.call(a,w,b,d)),
void 0!==w&&c.set(n,w);if(!d||!d.ignoreDefaults)for(b=0,f=Object.getOwnPropertyNames(f);b<f.length;b++)n=f[b],m[n]||(t=a,v=c,x=d,u=(u=h.originSpecificPropertyDefinition(v.metadatas[n],"any",x))&&u.default,void 0!==u&&(t="function"===typeof u?u.call(t,n,x):u,void 0!==t&&v.set(n,t)));c.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var g={origin:"service"};b.read=d;b.readLoadable=function(a,b,d,e){void 0===e&&(e=g);b=l({},e,{messages:[]});d(b);b.messages.forEach(function(b){"warning"!==
b.type||a.loaded?e&&e.messages.push(b):a.loadWarnings.push(b)})};b.default=d})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,l,e,k,h,d,g){function n(a,b,c,d,g,n){if(!d||!d.write)return!1;var m=a.get(c);if(!g&&d.write.overridePolicy){var q=d.write.overridePolicy.call(a,m,c,n);void 0!==q&&(g=q)}g||(g=d.write);if(!g||!1===g.enabled)return!1;if((null===m&&!g.allowNull||
void 0===m)&&g.isRequired)return(b=new e("web-document-write:property-required","Missing value for required property '"+c+"' on '"+a.declaredClass+"'",{propertyName:c,target:a}),n)&&n.messages?n.messages.push(b):b&&!n&&f.error(b.name,b.message),!1;if(void 0===m||null===m&&!g.allowNull)return!1;q=d.default;void 0===q?m=!1:"function"===typeof q?Array.isArray(m)?(a=q.call(a,c,n),m=l.equals(a,m)):m=!1:m=q===m;return m?!1:void 0!==d.default?!0:!g.ignoreOrigin&&n&&n.origin&&b.store.originOf(c)<h.nameToId(n.origin)?
!1:!0}function c(a,b,c){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return d.merge(b,a.toJSON());var f=d.getProperties(a),e=f.metadatas,m;for(m in e){var p=g.originSpecificWritePropertyDefinition(e[m],c);if(n(a,f,m,p,null,c)){var k=a.get(m),w={};p.write.writer.call(a,k,w,"string"===typeof p.write.target?p.write.target:m,c);p=w;0<Object.keys(p).length&&(b=d.merge(b,p),c&&c.writtenProperties&&c.writtenProperties.push({target:a,propName:m,oldOrigin:h.idToReadableName(f.store.originOf(m)),
newOrigin:c.origin}))}}return b}Object.defineProperty(b,"__esModule",{value:!0});var f=k.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,b,c,f){var e=d.getProperties(a),m=g.originSpecificWritePropertyDefinition(e.metadatas[b],f);return m?n(a,e,b,m,c,f):!1};b.write=c;b.default=c})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){a=function(a){function b(){var b=a.call(this)||this;b.loadError=null;b.loadStatus="not-loaded";b.loadWarnings=null;b._set("loadWarnings",[]);b.addResolvingPromise(n.create(function(a){var c=b.load.bind(b);b.load=function(d){var f=n.create(function(a,c){n.onAbort(d,c);b._promiseProps.when(a,c)});if("not-loaded"===b.loadStatus){b._set("loadStatus","loading");var e=b._loadController=n.createAbortController();c({signal:e.signal});n.onAbort(e.signal,function(){b._promiseProps.abort()})}a();
return f}}));b.when(function(){b._set("loadStatus","loaded");b._loadController=null},function(a){b._set("loadStatus","failed");b._set("loadError",a);b._loadController=null});return b}l(b,a);Object.defineProperty(b.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});b.prototype.load=function(a){return null};b.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new h("load:cancelled","Cancelled"));this._loadController.abort();
return this};e([f.property({readOnly:!0,dependsOn:["loadStatus"]})],b.prototype,"loaded",null);e([f.property({readOnly:!0})],b.prototype,"loadError",void 0);e([f.property()],b.prototype,"loadStatus",void 0);e([f.property({type:[c],readOnly:!0})],b.prototype,"loadWarnings",void 0);return b=e([f.subclass("esri.core.Loadable")],b)}(f.declared(k,g));a.prototype["-chains-"]=d.mixin({},k._meta.chains,{load:"after"});return a})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g){var n=function(){function a(a){var b=this;this.instance=a;this._resolver=h.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===this._status};a.prototype.isFulfilled=
function(){return null!=this._status};a.prototype.abort=function(){this._resolver.reject(h.createAbortError())};a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=h.createDeferred(),c=this._resolvingPromises.concat([b.promise]),e=this._allPromise=h.all(c);e.then(function(){a.isFulfilled()||a._allPromise!==e||
a._resolver.resolve(a.instance)},function(b){a.isFulfilled()||a._allPromise!==e||h.isAbortError(b)||a._resolver.reject(b)});d.schedule(function(){b.resolve()})}};return a}();return function(a){function b(){var b=a.call(this)||this;b._promiseProps=new n(b);b.addResolvingPromise(h.create(function(a){d.schedule(a)}));return b}l(b,a);b.prototype.isResolved=function(){return this._promiseProps.isResolved()};b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=
function(){return this._promiseProps.isFulfilled()};b.prototype.when=function(a,b){var c=this;return h.create(function(a,b){c._promiseProps.when(a,b)}).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return b=e([g.subclass("esri.core.Promise")],b)}(g.declared(k))})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper",
"./tsSupport/decorateHelper","./Message"],function(a,b,l,e,k){a=function(a){function b(d,e,c){var f=a.call(this,d,e,c)||this;return f instanceof b?f:new b(d,e,c)}l(b,a);return b}(k);a.prototype.type="warning";return a})},"esri/core/loadAll":function(){define("require exports ./tsSupport/generatorHelper ./tsSupport/awaiterHelper ./asyncUtils ./Collection ./Loadable".split(" "),function(a,b,l,e,k,h,d){function g(a,b){return e(this,void 0,void 0,function(){return l(this,function(c){switch(c.label){case 0:return[4,
a.load()];case 1:return c.sent(),[2,n(a,b)]}})})}function n(a,b){return e(this,void 0,void 0,function(){var c,f,m,g=this;return l(this,function(n){switch(n.label){case 0:return c=[],f=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<a.length;b++){var e=a[b];e&&(Array.isArray(e)?f.apply(void 0,e):h.isCollection(e)?e.forEach(function(a){return f(a)}):e.isInstanceOf&&e.isInstanceOf(d)&&c.push(e))}},b(f),m=null,[4,k.map(c,function(a){return e(g,void 0,void 0,function(){var b;
return l(this,function(c){switch(c.label){case 0:return[4,k.result("loadAll"in a&&"function"===typeof a.loadAll?a.loadAll():a.load())];case 1:return b=c.sent(),!1!==b.ok||m||(m=a),[2]}})})})];case 1:n.sent();if(m)throw m.loadError;return[2,a]}})})}Object.defineProperty(b,"__esModule",{value:!0});b.loadAll=g;b.loadAllChildren=n;b.default=g})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper ../config ../kernel ./Error ./global ./Logger ./string".split(" "),function(a,
b,l,e,k,h,d,g,n){function c(a){var b={path:null,query:null},c=new U(a),d=a.indexOf("?");null===c.query?b.path=a:(b.path=a.substring(0,d),b.query=f(c.query));c.fragment&&(b.hash=c.fragment,null===c.query&&(b.path=b.path.substring(0,b.path.length-(c.fragment.length+1))));return b}function f(a){var b={},c=0;for(a=a.split("\x26");c<a.length;c++){var d=a[c];if(d){var e=d.indexOf("\x3d"),f=void 0,m=void 0;0>e?(f=decodeURIComponent(d),m=""):(f=decodeURIComponent(d.slice(0,e)),m=decodeURIComponent(d.slice(e+
1)));d=b[f];"string"===typeof d&&(d=b[f]=[d]);Array.isArray(d)?d.push(m):b[f]=m}}return b}function p(a){return a&&"object"===typeof a&&"toJSON"in a&&"function"===typeof a.toJSON}function r(a,b){return a?b&&"function"===typeof b?Object.keys(a).map(function(c){return encodeURIComponent(c)+"\x3d"+encodeURIComponent(b(c,a[c]))}).join("\x26"):Object.keys(a).map(function(c){var d=a[c];if(null==d)return"";var e=encodeURIComponent(c)+"\x3d";return(c=b&&b[c])?e+encodeURIComponent(c(d)):Array.isArray(d)?d.map(function(a){return p(a)?
e+encodeURIComponent(JSON.stringify(a)):e+encodeURIComponent(a)}).join("\x26"):p(d)?e+encodeURIComponent(JSON.stringify(d)):e+encodeURIComponent(d)}).filter(function(a){return a}).join("\x26"):""}function m(a){var b=a.indexOf("?");-1!==b?(ca.path=a.slice(0,b),ca.query=a.slice(b+1)):(ca.path=a,ca.query=null);return ca}function q(a){a=m(a).path;a&&"/"===a[a.length-1]||(a+="/");a=M(a,!0);return a=a.toLowerCase()}function t(a){var b=S.proxyRules;a=q(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}
function v(a){a=z(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function x(a,b,c){void 0===c&&(c=!1);a=R(a);b=R(b);return c||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function u(a,c,d){void 0===c&&(c=b.appBaseUrl);if(H(a))return d&&d.preserveProtocolRelative?a:"http"===b.appUrl.scheme&&b.appUrl.authority===y(a).slice(2)?"http:"+a:"https:"+a;if(!O(a)){d=A;if("/"===a[0]){var e=c.indexOf("//"),e=c.indexOf("/",e+2);c=-1===e?c:
c.slice(0,e)}return d(c,a)}return a}function w(a,c,d){void 0===c&&(c=b.appBaseUrl);if(!B(a))return a;var e=z(a),f=e.toLowerCase();c=z(c).toLowerCase().replace(/\/+$/,"");if((d=d?z(d).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(d))return a;for(var m=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},g=m(f,"/",f.indexOf("//")+2),n=-1;f.slice(0,g+1)===c.slice(0,g)+"/";){n=g+1;if(g===f.length)break;g=m(f,"/",g+1)}if(-1===n||d&&n<d.length)return a;a=e.slice(n);e=c.slice(n-1).replace(/[^/]+/g,
"").length;if(0<e)for(f=0;f<e;f++)a="../"+a;else a="./"+a;return a}function z(a){a=a.trim();a=u(a);if(/^https?:\/\//i.test(a)){var b=m(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=P(a)}function A(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(B(a[0])){var c=a[0],d=c.indexOf("//");b.push(c.slice(0,d+1));T.test(a[0])&&(b[0]+="/");a[0]=c.slice(d+2)}else"/"===a[0][0]&&
b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(c=0;c<a.length;c++)d=a[c],".."===d&&0<b.length&&".."!==b[b.length-1]?b.pop():!d||"."===d&&0!==b.length||b.push(d);return b.join("/")}}function y(a,b){void 0===b&&(b=!1);if(D(a)||C(a))return null;var c=a.indexOf("://");if(-1===c&&H(a))c=2;else if(-1!==c)c+=3;else return null;c=a.indexOf("/",c);-1!==c&&(a=a.slice(0,c));b&&(a=M(a,!0));return a}function B(a){return H(a)||O(a)}function D(a){return"blob:"===a.slice(0,5)}function C(a){return"data:"===
a.slice(0,5)}function E(a){a=F(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function F(a){return(a=a.match(Y))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function G(a){var b=E(a);if(!b)return null;a=F(a);return new Blob([b],{type:a.mediaType})}function H(a){return a&&"/"===a[0]&&"/"===a[1]}function O(a){return fa.test(a)}function I(a){return N.test(a)||"http"===b.appUrl.scheme&&H(a)}function L(a){return H(a)?
"https:"+a:a.replace(N,"https:")}function J(){return"https"===b.appUrl.scheme}function M(a,b){void 0===b&&(b=!1);if(H(a))return a.slice(2);a=a.replace(fa,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function P(a){var c=S.httpsDomains;if(!I(a))return a;var d=a.indexOf("/",7),e;e=-1===d?a:a.slice(0,d);e=e.toLowerCase().slice(7);if(X.test(e))if(n.endsWith(e,":80"))e=e.slice(0,-3),a=a.replace(":80","");else return a;if("http"===b.appUrl.scheme&&e===b.appUrl.authority&&!ia.test(a))return a;
if(J()&&e===b.appUrl.authority||c&&c.some(function(a){return e===a||n.endsWith(e,"."+a)})||J()&&!t(a))a=L(a);return a}function Q(a,b,c){if(!(b&&c&&a&&B(a)))return a;var d=a.indexOf("//"),e=a.indexOf("/",d+2),f=a.indexOf(":",d+2),e=Math.min(0>e?a.length:e,0>f?a.length:f);if(a.slice(d+2,e).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,d+2);a=a.slice(e);return""+b+c+a}function R(a){if("string"===typeof a)return new U(u(a));a.scheme||(a.scheme=b.appUrl.scheme);return a}function la(a,c){var d=c&&
c.url&&c.url.path;a&&d&&(a=u(a,d,{preserveProtocolRelative:!0}));(c=c&&c.portal)&&!c.isPortal&&c.urlKey&&c.customBaseUrl?(d=c.urlKey+"."+c.customBaseUrl,c=x(b.appUrl,b.appUrl.scheme+"://"+d)?Q(a,c.portalHostname,d):Q(a,d,c.portalHostname)):c=a;return c}function sa(a,b){if(!a)return a;!B(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var c=u(a);if(b){var d=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;d&&(c=w(c,d,d),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=
c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?Q(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;B(c)&&(c=z(c));return c}function ga(a,b,d){a=c(a);var e=a.query||{};e[b]=String(d);return a.path+"?"+r(e)}Object.defineProperty(b,"__esModule",{value:!0});var V=g.getLogger("esri.core.urlUtils"),S=e.request,fa=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,N=/^\s*http:/i,W=/^\s*https:/i,T=/^\s*file:/i,X=/:\d+$/,ia=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ka=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
Z=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,U=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=this.uri.match(ka);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(Z),this.user=a[3]||null,this.password=a[4]||null,
this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=function(){return this.uri};return a}();b.Url=U;b.appUrl=new U(e.applicationUrl);b.trustedServersUrlCache={};b.appBaseUrl=function(){var a=b.appUrl.path,a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-1]));return""+(b.appUrl.scheme+"://"+b.appUrl.host+(null!=b.appUrl.port?":"+b.appUrl.port:""))+a}();b.urlToObject=c;b.queryToObject=f;b.objectToQuery=r;b.getProxyUrl=function(a){void 0===a&&(a=!1);var d,e=S.proxyUrl;if("string"===
typeof a){if(d=a,d=W.test(d)||"https"===b.appUrl.scheme&&H(d),a=t(a))e=a.proxyUrl}else d=!!a;if(!e)throw V.warn("esri/config: esriConfig.request.proxyUrl is not set."),new h("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");d&&J()&&(e=L(e));return c(e)};b.addProxy=function(a){var b=t(a),d,e;b&&(e=m(b.proxyUrl),d=e.path,e=e.query?f(e.query):null);d&&(b=c(a),a=d+"?"+b.path,(d=r(l({},e,b.query)))&&(a=a+"?"+d));return a};var ca={path:"",query:""};b.addProxyRule=function(a){a=
{proxyUrl:a.proxyUrl,urlPrefix:q(a.urlPrefix)};for(var b=S.proxyRules,c=a.urlPrefix,d=b.length,e=0;e<b.length;e++){var f=b[e].urlPrefix;if(0===c.indexOf(f)){if(c.length===f.length)return-1;d=e;break}0===f.indexOf(c)&&(d=e+1)}b.splice(d,0,a);return d};b.getProxyRule=t;b.hasSamePortal=function(a,b){a=v(a);b=v(b);return M(a)===M(b)};b.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&n.startsWith(a,b)},c=S.interceptors;if(c)for(var d=0;d<
c.length;d++){var e=c[d];if(Array.isArray(e.urls)){if(e.urls.some(b))return e}else if(b(e.urls))return e}return null};b.hasSameOrigin=x;b.isTrustedServer=function(a){if("string"===typeof a)if(B(a))a=R(a);else return!0;for(var c=S.trustedServers||[],d=0;d<c.length;d++){var e;e=c[d];b.trustedServersUrlCache[e]||(O(e)||H(e)?b.trustedServersUrlCache[e]=[new U(u(e))]:b.trustedServersUrlCache[e]=[new U("http://"+e),new U("https://"+e)]);e=b.trustedServersUrlCache[e];for(var f=0;f<e.length;f++)if(x(a,e[f]))return!0}return!1};
b.makeAbsolute=u;b.makeRelative=w;b.normalize=z;b.join=A;b.getOrigin=y;b.isAbsolute=B;b.isBlobProtocol=D;b.isDataProtocol=C;b.dataToArrayBuffer=E;var Y=/^data:(.*?)(;base64)?,(.*)$/;b.dataComponents=F;b.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};b.dataToBlob=G;b.downloadDataAsFile=function(a,b){var c;a:if(c=document.createElement("a"),"download"in c){var e=null;if(d.URL&&d.URL.createObjectURL){e=G(a);if(!e){c=!1;break a}e=d.URL.createObjectURL(e)}c.download=
b;c.href=e||a;c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);e&&d.URL.revokeObjectURL(e);c=void 0}else c=!1;c||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(G(a),b)};b.isProtocolRelative=H;b.hasProtocol=O;b.toHTTP=function(a){return H(a)?"http:"+a:a.replace(W,"http:")};b.toHTTPS=L;b.isAppHTTPS=J;b.removeFile=function(a){var b=0;if(B(a)){var c=a.indexOf("//");-1!==c&&(b=c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};b.removeTrailingSlash=
function(a){return a.replace(/\/+$/,"")};b.changeDomain=Q;b.fromJSON=la;b.read=function(a,b,c){return la(a,c)};b.toJSON=sa;b.write=function(a,b,c,d){(a=sa(a,d))&&(b[c]=a)};b.isSVG=function(a){return oa.test(a)};b.removeQueryParameters=function(a,b){a=c(a);var d=Object.keys(a.query||{});0<d.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+d.join(", ")+".");return a.path};b.addQueryParameter=ga;b.addQueryParameters=function(a,
b){a=c(a);var d=a.query||{},e;for(e in b)d[e]=b[e];return(b=r(d))?a.path+"?"+b:a.path};b.removeQueryParameter=function(a,b){var d=c(a),e=d.path,d=d.query;if(!d)return a;delete d[b];return(a=r(d))?e+"?"+a:e};b.addTokenParameter=function(a){var b=k.id&&k.id.findCredential(a);return b&&b.token?ga(a,"token",b.token):a};var oa=/(^data:image\/svg|\.svg$)/i})},"esri/config":function(){define(["require","exports","./core/global"],function(a,b,l){a={applicationUrl:l.location&&l.location.href,screenDPI:96,
fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};a.request.corsEnabledServers=[];a.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return a})},"esri/kernel":function(){define(["require","./core/promiseUtils","./core/has","./support/revision","dojo/_base/kernel"],function(a,b,l,e,k){(function(){var a=
k.config,b=a.has&&void 0!==a.has["config-deferredInstrumentation"],e=a.has&&void 0!==a.has["config-useDeferredInstrumentation"];void 0!==a.useDeferredInstrumentation||b||e||(l.add("config-deferredInstrumentation",!1,!0,!0),l.add("config-useDeferredInstrumentation",!1,!0,!0))})();return{version:"4.12",workerMessages:{request:function(e){return b.create(function(b){a(["./request"],b)}).then(function(a){var b=e.options||{};b.responseType="array-buffer";return a(e.url,b)}).then(function(a){return{result:{data:a.data,
ssl:a.ssl},transferList:[a.data]}})}},revision:e.commitHash}})},"esri/support/revision":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.commitHash="3d2cc1370de1abe413b6a5f5bc4994081468159a"})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(a,b,l,e){Object.defineProperty(b,"__esModule",{value:!0});var k=/\{([^\}]+)\}/g;b.replace=function(a,b){return a.replace(k,"object"===typeof b?
function(a,d){return l.getDeepValue(d,b)}:function(a,d){return b(d)})};b.startsWith=e.startsWith;b.endsWith=e.endsWith})},"esri/layers/support/LayerCollection":function(){define(["require","exports","../../core/Collection","../Layer"],function(a,b,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.LayerCollection=l.ofType(e);b.default=b.LayerCollection})},"esri/layers/Layer":function(){define("require ../core/Accessor ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/urlUtils ../core/promiseUtils ../core/Logger ../config ../request ../geometry/SpatialReference ../geometry/Extent".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r){k=k.Identifiable;var m=0,q=n.getLogger("esri.layers.Layer");b=b.createSubclass([e,k,h],{declaredClass:"esri.layers.Layer",properties:{attributionDataUrl:null,fullExtent:new r(-180,-90,180,90,p.WGS84),hasAttributionData:{readOnly:!0,dependsOn:["attributionDataUrl"],get:function(){return null!=this.attributionDataUrl}},id:{get:function(){return Date.now().toString(16)+"-layer-"+m++}},legendEnabled:!0,listMode:{type:["show","hide","hide-children"],value:"show"},opacity:{value:1,
type:Number,range:{min:0,max:1},nonNullable:!0},parent:null,parsedUrl:{readOnly:!0,dependsOn:["url"],get:function(){var a=this._get("url");return a?d.urlToObject(a):null}},popupEnabled:!0,attributionVisible:!0,spatialReference:p.WGS84,title:null,type:{type:String,readOnly:!0,value:null,json:{read:!1}},url:{value:null},visible:{value:!0,nonNullable:!0,type:Boolean}},initialize:function(){this.when().catch(function(a){n.getLogger(this.declaredClass).error("#load()","Failed to load layer (title: '"+
this.title+"', id: '"+this.id+"')",a)}.bind(this))},createLayerView:function(a,b){return a?this.importLayerViewModule(a).then(function(c){g.throwIfAborted(b);c.default&&(c=c.default);return new c({layer:this,view:a})}.bind(this)):g.reject(new l("layerview:module-unavailable","No LayerView module available for layer '${layer.declaredClass}' and view type: '${view.type}'",{view:a,layer:this}))},destroyLayerView:function(a){a.destroy()},fetchAttributionData:function(){var a=this.attributionDataUrl;return this.hasAttributionData&&
a?f(a,{query:{f:"json"},responseType:"json"}).then(function(a){return a.data}):g.reject(new l("layer:no-attribution-data","Layer does not have attribution data"))},refresh:function(){this.emit("refresh")},importLayerViewModule:function(a){return g.reject(new l("layerview:override-method","Must provide implementation in '${layer.declaredClass}'",{view:a,layer:this}))}});b.fromArcGISServerUrl=function(b){"string"===typeof b&&(b={url:b});var c=g.create(function(b){a(["./support/arcgisLayers"],b)}).then(function(a){return a.fromUrl(b)});
c.catch(function(a){q.error("#fromArcGISServerUrl({ url: '"+b.url+"'})","Failed to create layer from arcgis server url",a)});return c};b.fromPortalItem=function(b){!b||b.portalItem||"object"!==typeof b||b.declaredClass&&"esri.portal.PortalItem"!==b.declaredClass||(b={portalItem:b});var d=g.create(function(b){a(["../portal/support/portalLayers"],b)}).then(function(a){return a.fromItem(b)});d.catch(function(a){var d=b&&b.portalItem;q.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+
(d&&d.portal&&d.portal.url||c.portalUrl)+"', id: '"+(d&&d.id||"unset")+"')",a)});return d};return b})},"esri/core/Identifiable":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=0;a=function(){return function(){Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+l++})}}();b.Identifiable=a})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/awaiterHelper ./core/tsSupport/generatorHelper @dojo/framework/shim/global ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/string ./core/urlUtils @dojo/framework/shim/Promise".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m){function q(a,b){var c=p.createAbortController();return p.create(function(d,e){t(c.signal,a,b).then(d).catch(e)},function(){c.abort()})}function t(a,b,f){return e(this,void 0,void 0,function(){var e,g,n,q,h,t,v,u;return k(this,function(k){switch(k.label){case 0:return e=m.isDataProtocol(b),(g=m.isBlobProtocol(b))||e||(b=m.normalize(b)),n={url:b,requestOptions:l({},f)},(q=m.getInterceptor(b))?[4,C(q,n)]:[3,2];case 1:h=k.sent();if(null!=h)return[2,{data:h,getHeader:R,
requestOptions:n.requestOptions,url:n.url}];q.after||q.error||(q=null);k.label=2;case 2:b=n.url;f=n.requestOptions;if("image"===f.responseType){if(c("host-webworker"))throw w("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),n);}else if(e)throw w("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+f.responseType),n);if("head"===f.method){if(f.body)throw w("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),
n);if(e||g)throw w("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),n);}return[4,z()];case 3:k.sent();if(L)return[2,L.execute(b,f)];t=p.createAbortController();p.onAbort(a,function(){return t.abort()});p.onAbort(f,function(){return t.abort()});v={controller:t,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:q,params:n,redoRequest:!1,useIdentity:d.request.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,G(v)];case 4:return u=
k.sent(),q&&q.after&&q.after(u),[2,u]}})})}function v(a){m.isBlobProtocol(a)||m.isDataProtocol(a)||(a=m.getOrigin(a))&&-1===q._corsServers.indexOf(a)&&q._corsServers.push(a)}function x(a){a=m.getOrigin(a);return!a||r.endsWith(a,".arcgis.com")||m.hasSameOrigin(a,m.appUrl)||-1!==q._corsServers.indexOf(a)||m.isTrustedServer(a)}function u(){var a;try{a=new DOMException("Aborted","AbortError")}catch(sa){a=Error("Aborted"),a.name="AbortError"}return a}function w(a,b,c,d){var e="Error",m={url:c.url,requestOptions:c.requestOptions,
getHeader:R,ssl:!1};if(b instanceof n)return b.details?(b.details=f.clone(b.details),b.details.url=c.url,b.details.requestOptions=c.requestOptions):b.details=m,b;if(b){c=d&&function(a){return d.headers.get(a)};var g=d&&d.status,q=b.message;q&&(e=q);c&&(m.getHeader=c);m.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||g||0;m.subCode=b.subcode;m.messageCode=b.messageCode;m.messages="string"===typeof b.details?[b.details]:b.details}a=new n(a,e,m);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}
function z(){return e(this,void 0,void 0,function(){return k(this,function(b){switch(b.label){case 0:return c("host-webworker")?L?[3,2]:[4,new Promise(function(b,c){a(["./core/workers/request"],b,c)})]:[3,3];case 1:L=b.sent(),b.label=2;case 2:return[3,6];case 3:if(I)return[3,6];if(!c("esri-abortable-fetch"))return[3,4];I=h.default.fetch;return[3,6];case 4:return[4,new Promise(function(b,c){a(["whatwg-fetch"],b,c)})];case 5:I=b.sent().fetch,b.label=6;case 6:return[2]}})})}function A(){return e(this,
void 0,void 0,function(){return k(this,function(b){switch(b.label){case 0:return g.id?[3,2]:[4,new Promise(function(b,c){a(["./identity/IdentityManager"],b,c)})];case 1:b.sent(),b.label=2;case 2:return[2]}})})}function y(a){return e(this,void 0,void 0,function(){var b,d,e,f,m,n,q,t;return k(this,function(k){switch(k.label){case 0:b=a.params.url;d=a.params.requestOptions;e=a.controller.signal;f=d.body;q=n=m=null;J&&"HTMLFormElement"in h.default&&(f instanceof FormData?m=f:f instanceof HTMLFormElement&&
(n=f,m=new FormData(n)));"string"===typeof f&&(q=f);a.fetchOptions={cache:d.cacheBust&&c("esri-abortable-fetch")?"reload":"default",credentials:"same-origin",headers:d.headers||{},method:"head"===d.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:e};if(m||q)a.fetchOptions.body=m||q;"anonymous"===d.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||d.query&&d.query.token||m&&m.get&&m.get("token")||n&&n.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||B(b)||p.isAborted(e))return[3,
11];t=void 0;return"immediate"!==d.authMode?[3,3]:[4,A()];case 1:return k.sent(),[4,g.id.getCredential(b,{signal:e})];case 2:return t=k.sent(),a.credential=t,[3,10];case 3:return"no-prompt"!==d.authMode?[3,9]:[4,A()];case 4:k.sent(),k.label=5;case 5:return k.trys.push([5,7,,8]),[4,g.id.checkSignInStatus(b)];case 6:return t=k.sent(),[3,8];case 7:return k.sent(),[3,8];case 8:return[3,10];case 9:g.id&&(t=g.id.findCredential(b)),k.label=10;case 10:t&&(a.credentialToken=t.token,a.useSSL=!!t.ssl),k.label=
11;case 11:return[2]}})})}function B(a){return Q.some(function(b){return b.test(a)})}function D(a){return e(this,void 0,void 0,function(){var b,e,f,n,q,h,t,u,r,z,A,y,D,B,G,C,H,L,R,la,P,M,Q,da,ja,ea;return k(this,function(k){switch(k.label){case 0:b=a.params.url;e=a.params.requestOptions;f=a.fetchOptions;n=m.isBlobProtocol(b)||m.isDataProtocol(b);q=e.responseType||"json";h=n?0:null!=e.timeout?e.timeout:d.request.timeout;t=!1;if(!n){a.useSSL&&(b=m.toHTTPS(b));e.cacheBust&&"default"===f.cache&&(b=m.addQueryParameter(b,
"request.preventCache",Date.now()));u=l({},e.query);a.credentialToken&&(u.token=a.credentialToken);r=m.objectToQuery(u);c("esri-url-encodes-apostrophe")&&(r=r.replace(/'/g,"%27"));z=b.length+1+r.length;A=void 0;t="post"===e.method||!!e.body||z>d.request.maxUrlLength;if(y=e.useProxy||!!m.getProxyRule(b))D=m.getProxyUrl(b),A=D.path,!t&&A.length+1+z>d.request.maxUrlLength&&(t=!0),D.query&&(u=l({},D.query,u));if("HEAD"===f.method&&(t||y)){if(t){if(z>d.request.maxUrlLength)throw w("request:invalid-parameters",
Error("URL exceeds maximum length"),a.params);throw w("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),a.params);}if(y)throw w("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),a.params);}t?(f.method="POST",e.body?b=m.addQueryParameters(b,u):(f.body=m.objectToQuery(u),f.headers["Content-Type"]="application/x-www-form-urlencoded")):b=m.addQueryParameters(b,u);y&&(a.useProxy=!0,b=A+"?"+b);u.token&&J&&f.body instanceof FormData&&(B=f.body,
B.set?B.set("token",u.token):B.append("token",u.token));e.hasOwnProperty("withCredentials")?a.withCredentials=e.withCredentials:m.isTrustedServer(b)?a.withCredentials=!0:g.id&&(G=g.id.findServerInfo(b))&&G.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(f.credentials="include")}C=0;H=!1;0<h&&(C=setTimeout(function(){H=!0;a.controller.abort()},h));k.label=1;case 1:return k.trys.push([1,24,25,26]),"image"!==e.responseType||"default"!==f.cache||"GET"!==f.method||t||E(e.headers)||!n&&!a.useProxy&&
d.request.proxyUrl&&!x(b)?[3,3]:[4,O(b,a)];case 2:return R=k.sent(),[3,23];case 3:return[4,I(b,f)];case 4:L=k.sent();a.useProxy||v(b);if(!L.ok||"HEAD"===f.method)return[3,23];la=q;switch(la){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7];case "document":return[3,9];case "json":return[3,11];case "xml":return[3,13]}return[3,15];case 5:return[4,L.arrayBuffer()];case 6:return R=k.sent(),[3,17];case 7:return[4,L.blob()];case 8:return R=k.sent(),[3,17];case 9:return P=
F,[4,L.text()];case 10:return R=P.apply(void 0,[k.sent(),"text/html"]),[3,17];case 11:return[4,L.text()];case 12:return M=k.sent(),R=JSON.parse(M||null),[3,17];case 13:return Q=F,[4,L.text()];case 14:return R=Q.apply(void 0,[k.sent(),"application/xml"]),[3,17];case 15:return[4,L.text()];case 16:return R=k.sent(),[3,17];case 17:C&&(clearTimeout(C),C=0);da=L.headers.get("Content-Type");if(!/application\/json|text\/plain/i.test(da)||!(R instanceof ArrayBuffer&&750>=R.byteLength||R instanceof Blob&&750>=
R.size))return[3,21];k.label=18;case 18:return k.trys.push([18,20,,21]),[4,(new Response(R)).json()];case 19:return ja=k.sent(),ja.error&&(R=ja),[3,21];case 20:return k.sent(),[3,21];case 21:return"image"===q&&R instanceof Blob?[4,O(URL.createObjectURL(R),a,!0)]:[3,23];case 22:R=k.sent(),k.label=23;case 23:return[3,26];case 24:ea=k.sent();if("AbortError"===ea.name){if(H)throw Error("Timeout exceeded");throw p.createAbortError("Request canceled");}if(!L&&ea instanceof TypeError&&d.request.proxyUrl&&
!e.body&&"post"!==e.method&&"head"!==e.method&&!a.useProxy)a.redoRequest=!0,m.addProxyRule({proxyUrl:d.request.proxyUrl,urlPrefix:m.removeFile(m.urlToObject(b).path)});else throw ea;return[3,26];case 25:return C&&clearTimeout(C),[7];case 26:return[2,[L,R]]}})})}function C(a,b){return e(this,void 0,void 0,function(){var c,d,e;return k(this,function(f){switch(f.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(b.requestOptions.headers=l({},b.requestOptions.headers,a.headers));
a.query&&(b.requestOptions.query=l({},b.requestOptions.query,a.query));if(!a.before)return[3,5];d=c=void 0;f.label=1;case 1:return f.trys.push([1,3,,4]),[4,a.before(b)];case 2:return d=f.sent(),[3,4];case 3:return e=f.sent(),c=w("request:interceptor",e,b),[3,4];case 4:if(d instanceof Error||d instanceof n)c=w("request:interceptor",d,b);if(c)throw a.error&&a.error(c),c;return[2,d];case 5:return[2]}})})}function E(a){if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++)if(a[c[b]])return!0;
return!1}function F(a,b){var c;try{c=(new DOMParser).parseFromString(a,b)}catch(V){}if(!c||c.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return c}function G(a){return e(this,void 0,void 0,function(){var b,c,e,f,n,q,h,p,t,v,u;return k(this,function(k){switch(k.label){case 0:return[4,y(a)];case 1:k.sent(),k.label=2;case 2:k.trys.push([2,8,,9]),k.label=3;case 3:return[4,D(a)];case 4:b=k.sent(),c=b[0],e=b[1],k.label=5;case 5:return[4,H(a,c,e)];case 6:if(!k.sent())return[3,
3];k.label=7;case 7:return[3,9];case 8:throw f=k.sent(),n=w("request:server",f,a.params,c),n.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(n),n;case 9:return q=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(q)&&!a.hasToken&&!a.credentialToken&&e&&e.user&&e.user.username&&!m.isTrustedServer(q)&&(h=m.getOrigin(q,!0))&&d.request.trustedServers.push(h),(p=a.credential)&&g.id&&(v=(t=g.id.findServerInfo(p.server))&&t.owningSystemUrl)&&(v=v.replace(/\/?$/,"/sharing"),
(u=g.id.findCredential(v,p.userId))&&-1===g.id._getIdenticalSvcIdx(v,u)&&u.resources.unshift(v)),[2,{data:e,getHeader:c?function(a){return c.headers.get(a)}:R,requestOptions:a.params.requestOptions,ssl:a.useSSL,url:a.params.url}]}})})}function H(a,b,c){return e(this,void 0,void 0,function(){var d,e,m,n,q;return k(this,function(h){switch(h.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);c&&c.error&&
(d=f.mixin(Error(),c.error));d&&(e=Number(d.code),m=d.hasOwnProperty("subcode")?Number(d.subcode):null,n=(n=d.messageCode)&&n.toUpperCase());return 403===e&&(4===m||d.message&&-1<d.message.toLowerCase().indexOf("ssl")&&-1===d.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,4]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return a.useIdentity&&"no-prompt"!==a.params.requestOptions.authMode&&-1!==M.indexOf(e)&&!B(a.params.url)&&(403!==e||-1===P.indexOf(n)&&(null==m||2===m&&a.credentialToken))?[4,A()]:
[3,4];case 2:return h.sent(),[4,g.id.getCredential(a.params.url,{error:w("request:server",d,a.params),signal:a.controller.signal,token:a.credentialToken})];case 3:return q=h.sent(),a.credential=q,a.credentialToken=q.token,a.useSSL=a.useSSL||q.ssl,[2,!1];case 4:if(d)throw d;return[2,!0]}})})}function O(a,b,d){void 0===d&&(d=!1);return p.create(function(e,f){var m=b.controller.signal;if(p.isAborted(m))return f(u());var g=new Image;g.crossOrigin=b.withCredentials?"use-credentials":"anonymous";var n=
function(){t();f(Error("Unable to load "+a))},q=function(){t();e(g)},h=function(){t();g.src="";f(u())},t=function(){c("esri-image-decode")||(g.removeEventListener("error",n),g.removeEventListener("load",q));m.removeEventListener("abort",h);d&&URL.revokeObjectURL(a)};g.alt="";g.src=a;c("esri-image-decode")?g.decode().then(q,n):(g.addEventListener("error",n),g.addEventListener("load",q));m.addEventListener("abort",h)})}var I,L,J="FormData"in h.default,M=[499,498,403,401],P=["COM_0056","COM_0057"],Q=
[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],R=function(){return null};q._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return q})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,b,l,e,k,h,d){a=function(a){function b(b){b=a.call(this)||
this;b.latestWkid=null;b.wkid=null;b.wkt=null;return b}l(b,a);c=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return c.WebMercator;if(4326===a.wkid)return c.WGS84}var b=new c;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return d.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",
{get:function(){return d.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return d.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return d.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};b.prototype.clone=function(){if(this===c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var a=new c;
null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};b.prototype.equals=function(a){return d.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var c;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;e([h.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWGS84",null);e([h.property({dependsOn:["wkid"],
readOnly:!0})],b.prototype,"isWebMercator",null);e([h.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);e([h.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);e([h.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);e([h.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],b.prototype,"wkid",void 0);e([h.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===
this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);e([h.writer("wkt"),h.writer("web-scene","wkt")],b.prototype,"writeWkt",null);e([h.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);return b=c=e([h.subclass("esri.geometry.SpatialReference")],b)}(h.declared(k));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
a.WGS84=new a(d.WGS84);a.WebMercator=new a(d.WebMercator);Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/string","./WKIDUnitConversion"],function(a,b,l,e){function k(a){return d(a)&&a.wkid?f[a.wkid]:null}function h(a){return d(a)&&!0===g[a.wkid]}function d(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(b,
"__esModule",{value:!0});var g={102113:!0,102100:!0,3857:!0,3785:!0},n={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var c=[-2.0037508342787E7,2.0037508342787E7],f={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||h(a)&&h(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};b.getInfo=k;b.isGeographic=function(a){return d(a)?a.wkid?null==e[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};b.isWGS84=function(a){return d(a)&&4326===a.wkid};b.isWebMercator=h;b.isWrappable=function(a){return d(a)&&
!0===n[a.wkid]};b.isValid=d;b.WGS84={wkid:4326,wkt:l.replace(k({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};b.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8082:0,8083:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,
8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,
8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,
8387:2,8391:0,8682:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,
27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,
102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,
103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,
103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,
103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,
103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;
for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=
2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=
2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=
0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=
0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=
0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=
0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=
0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=
0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;
for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=
0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=
a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=
a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=
a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=
a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=102001;102040>=
a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=
a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=
a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=
a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=
a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=
a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=
a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103597>=a;a++)b[a]=0;for(a=103600;103694>=a;a++)b[a]=0;for(a=103696;103698>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m){function q(a,b,c){return null==b?c:null==c?b:a(b,c)}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}l(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,b,d,e,f){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?c.WGS84:a.spatialReference,
a):{xmin:a,ymin:b,xmax:d,ymax:e,spatialReference:null==f?c.WGS84:f}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,b){return new g({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new n({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new g;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=
this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&m.canProject(b,c)&&(a=b.isWebMercator?m.geographicToWebMercator(a):m.webMercatorToGeographic(a,!0));return"point"===a.type?f.extentContainsPoint(this,a):"extent"===a.type?f.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&m.canProject(b,c)&&(a=b.isWebMercator?
m.geographicToWebMercator(a):m.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=
function(a){if(k.isNone(a))return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&m.canProject(b,c)&&(a=b.isWebMercator?m.geographicToWebMercator(a):m.webMercatorToGeographic(a,!0));b=p.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=
c);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=q(Math.min,this.zmin,a.zmin),this.zmax=q(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=q(Math.min,this.mmin,a.mmin),this.mmax=q(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=
function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=q(Math.max,this.zmin,a.zmin),this.zmax=q(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=q(Math.max,this.mmin,a.mmin),this.mmax=q(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===
a&&(a=r.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,d=this._getCM(a);if(d){var e=b.isWebMercator?m.webMercatorToGeographic(d):d;this.xmin-=d.x;this.xmax-=d.x;b.isWebMercator||(e.x=this._normalizeX(e.x,a).x);this.spatialReference=new c(h.replace(b.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:e.x}))}return this};b.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],d=this.xmin,e=this.xmax;d>=a&&d<=c&&e>=a&&e<=c||(b=this.center);
return b};b.prototype._normalize=function(a,b,c){var d=this.spatialReference;if(!d)return this;c=c||r.getInfo(d);if(!c)return this;var e=this._getParts(c).map(function(a){return a.extent});if(2>e.length)return e[0]||this;if(2<e.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(b)return e;var f=!0,m=!0;e.forEach(function(a){a.hasZ||(f=!1);a.hasM||(m=!1)});return{rings:e.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],
[a.xmax,a.ymin],[a.xmin,a.ymin]];if(f)for(var c=(a.zmax-a.zmin)/2,d=0;d<b.length;d++)b[d].push(c);if(m)for(a=(a.mmax-a.mmin)/2,d=0;d<b.length;d++)b[d].push(a);return b}),hasZ:f,hasM:m,spatialReference:d}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,d=this.ymax,e=this.spatialReference,f=this.width,m=this.xmin,n=this.xmax,q=void 0;a=a||r.getInfo(e);var h=a.valid,p=h[0],t=h[1],q=this._normalizeX(this.xmin,a),k=q.x,h=q.frameId,q=this._normalizeX(this.xmax,a),
v=q.x;a=q.frameId;q=k===v&&0<f;if(f>2*t){f=new g(m<n?k:v,c,t,d,e);m=new g(p,c,m<n?v:k,d,e);n=new g(0,c,t,d,e);c=new g(p,c,0,d,e);d=[];e=[];f.contains(n)&&d.push(h);f.contains(c)&&e.push(h);m.contains(n)&&d.push(a);m.contains(c)&&e.push(a);for(p=h+1;p<a;p++)d.push(p),e.push(p);b.push({extent:f,frameIds:[h]},{extent:m,frameIds:[a]},{extent:n,frameIds:d},{extent:c,frameIds:e})}else k>v||q?b.push({extent:new g(k,c,t,d,e),frameIds:[h]},{extent:new g(p,c,v,d,e),frameIds:[a]}):b.push({extent:new g(k,c,v,
d,e),frameIds:[h]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(h={},a&&(h.zmin=this.zmin,h.zmax=this.zmax),c&&(h.mmin=this.mmin,h.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(h);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var d=c[1],c=2*d,e=0;a>d?(b=Math.ceil(Math.abs(a-d)/c),a-=b*c,e=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,e=-b);return{x:a,frameId:e}};var g;e([d.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],
b.prototype,"cache",void 0);e([d.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);e([d.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);e([d.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);e([d.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);e([d.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,
"height",null);e([d.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);e([d.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);e([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);e([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);e([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);e([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"zmax",void 0);return b=g=e([d.subclass("esri.geometry.Extent")],b)}(d.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=
d.WGS84;return b}l(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof d)return a;if(null!=a){var c=new d;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=
function(a,b){this.cache[a]=b};e([h.property()],b.prototype,"type",void 0);e([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);e([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);e([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);e([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);e([h.property({type:d,
json:{write:!0}})],b.prototype,"spatialReference",void 0);e([h.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=e([h.subclass("esri.geometry.Geometry")],b)}(h.declared(k))})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){function r(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var m=[0,0],q=k.getLogger("esri.geometry.Point");a=function(a){function b(b,c,d,e,f){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}l(b,a);g=b;b.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};
b.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+d*d+a*a)};b.prototype.normalizeCtorArgs=function(a,b,c,d,e){var f;if(Array.isArray(a))f=a,e=b,a=f[0],b=f[1],c=f[2],d=f[3];else if(a&&"object"===typeof a){if(f=a,a=null!=f.x?f.x:f.longitude,b=null!=f.y?f.y:f.latitude,c=null!=f.z?f.z:f.altitude,d=f.m,(e=f.spatialReference)&&"esri.geometry.SpatialReference"!==e.declaredClass&&(e=new n(e)),null!=f.longitude||null!=f.latitude)null==f.longitude?q.warn(".longitude\x3d",
"Latitude was defined without longitude"):null==f.latitude?q.warn(".latitude\x3d","Longitude was defined without latitude"):!f.declaredClass&&e&&e.isWebMercator&&(b=p.lngLatToXY(f.longitude,f.latitude,m),a=b[0],b=b[1])}else r(c)?(e=c,c=null):r(d)&&(e=d,d=null);a={x:a,y:b};null==a.x&&null!=a.y?q.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&q.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=e&&(a.spatialReference=e);null!=c&&(a.z=c);null!=
d&&(a.m=d);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return p.xyToLngLat(this.x,this.y,m)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",p.lngLatToXY(this.x,a,m)[1]):b.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return p.xyToLngLat(this._get("x"),this._get("y"),m)[0];
if(a.isGeographic)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",p.lngLatToXY(a,this._get("y"),m)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new g;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;
return a};b.prototype.copy=function(a){g.copy(a,this);return this};b.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,d=this.y,e=this.z,f=this.m,m=this.spatialReference,g=a.z,n=a.m,q=a.x;b=a.y;a=a.spatialReference;if(!m.equals(a))if(m.isWebMercator&&a.isWGS84)b=p.lngLatToXY(q,b),q=b[0],b=b[1],a=m;else if(m.isWGS84&&a.isWebMercator)b=p.xyToLngLat(q,b),q=b[0],b=b[1],a=m;else return!1;return c===q&&d===b&&e===g&&f===n&&m.wkid===a.wkid};b.prototype.offset=function(a,b,d){return c.offsetPoint(this,
a,b,d)};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=f.getInfo(this.spatialReference);if(!a)return this;var b=this.x,c=a.valid,a=c[0],d=c[1],c=2*d;b>d?(a=Math.ceil(Math.abs(b-d)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};b.prototype.distance=function(a){return g.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:
[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var g;e([h.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);e([h.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);e([h.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);e([h.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);
e([h.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);e([h.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),h.cast(function(a){return isNaN(a)?a:d.ensureNumber(a)})],b.prototype,"x",void 0);e([h.writer("x")],b.prototype,"writeX",null);e([h.reader("x")],b.prototype,"readX",null);e([h.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);e([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"z",void 0);e([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=g=e([h.subclass("esri.geometry.Point")],b)}(h.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/offset":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.offsetPoint=function(a,b,k,h){a.x+=b;a.y+=k;null!=h&&null!=a.z&&(a.z+=h);return a};b.offsetCoordsX=function(a,
b){a[0]+=b;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(a,b,l,e,k,h){function d(a,b,c,d,e){var f;if("x"in a&&"x"in e)b=b(a.x,a.y,r,d),e.x=b[0],e.y=b[1];else if("xmin"in a&&"xmin"in e)f=b(a.xmin,a.ymin,r,d),e.xmin=f[0],e.ymin=f[1],b=b(a.xmax,a.ymax,r,d),e.xmax=b[0],e.ymax=b[1];else if("paths"in a&&"paths"in e||"rings"in a&&"rings"in e){f="paths"in a?
a.paths:a.rings;var m=[],g=void 0;for(a=0;a<f.length;a++){var n=f[a],g=[];m.push(g);for(var q=0;q<n.length;q++)g.push(b(n[q][0],n[q][1],[0,0],d)),2<n[q].length&&g[q].push(n[q][2]),3<n[q].length&&g[q].push(n[q][3])}"paths"in e?e.paths=m:e.rings=m}else if("points"in a&&"points"in e){f=a.points;m=[];for(a=0;a<f.length;a++)m[a]=b(f[a][0],f[a][1],[0,0],d),2<f[a].length&&m[a].push(f[a][2]),3<f[a].length&&m[a].push(f[a][3]);e.points=m}else if("type"in a&&"mesh"===a.type&&"type"in e&&"mesh"===e.type&&(f=
a.vertexAttributes&&a.vertexAttributes.position,m=e.vertexAttributes&&e.vertexAttributes.position,f))for(g=[0,0],a=0;a<f.length;a+=3)b(f[a],f[a+1],g,d),m[a]=g[0],m[a+1]=g[1];e.spatialReference=c;return e}function g(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?h.equals(b,a)?!0:h.isWebMercator(b)&&h.isWGS84(a)||h.isWebMercator(a)&&h.isWGS84(b):!1}function n(a,b,c){void 0===c&&(c=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&
(b=-89.99999);b*=.017453292519943;c[0]=.017453292519943*a*f;c[1]=p*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return c}function c(a,b,c,d){void 0===c&&(c=[0,0]);void 0===d&&(d=!1);a=a/f*57.29577951308232;c[0]=d?a:a-360*Math.floor((a+180)/360);c[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/f)));return c}Object.defineProperty(b,"__esModule",{value:!0});var f=e.wgs84Radius,p=f/2,r=[0,0];b.canProject=g;b.project=function(a,b){var e=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);
return g(e,b)?h.equals(e,b)?l.clone(a):h.isWebMercator(b)?d(a,n,k.WebMercator,!1,l.clone(a)):h.isWGS84(b)?d(a,c,k.WGS84,!1,l.clone(a)):null:null};b.lngLatToXY=n;b.xyToLngLat=c;b.geographicToWebMercator=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=l.clone(a));return d(a,n,k.WebMercator,b,c)};b.webMercatorToGeographic=function(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=l.clone(a));return d(a,c,k.WGS84,b,e)}})},"esri/core/wgs84Constants":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,
"__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);b.wgs84Eccentricity=.0818191908426215})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function l(a,b){return e(a,b[0],b[1])}function e(a,b,c,d){return b>=a.xmin&&b<=a.xmax&&c>=a.ymin&&c<=a.ymax?null!=d&&a.hasZ?d>=a.zmin&&d<=a.zmax:!0:!1}function k(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var c=
!1,d=0,e=a.length;d<e;d++)c=h(c,a[d],b);b=c}else b=h(!1,a,b);else b=!1;return b}function h(a,b,c){var d=c[0];c=c[1];for(var e=0,g=0,m=b.length;g<m;g++){e++;e===m&&(e=0);var n=b[g],h=n[0],n=n[1],k=b[e],l=k[0],k=k[1];(n<c&&k>=c||k<c&&n>=c)&&h+(c-n)/(k-n)*(l-h)<d&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});var d=[0,0];b.extentContainsPoint=function(a,b){return e(a,b.x,b.y,b.z)};b.extentContainsMultipoint=function(a,b){if(!b.points||b.points.length)return!1;var c=0;for(b=b.points;c<
b.length;c++)if(!l(a,b[c]))return!1;return!0};b.extentContainsExtent=function(a,b){var c=b.xmin,d=b.ymin,g=b.zmin,n=b.xmax,m=b.ymax,q=b.zmax;return a.hasZ&&b.hasZ?e(a,c,d,g)&&e(a,c,m,g)&&e(a,n,m,g)&&e(a,n,d,g)&&e(a,c,d,q)&&e(a,c,m,q)&&e(a,n,m,q)&&e(a,n,d,q):e(a,c,d)&&e(a,c,m)&&e(a,n,m)&&e(a,n,d)};b.extentContainsCoords2D=l;b.extentContainsCoords3D=function(a,b){return e(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){d[1]=b.y;d[0]=b.x;return k(a,d)};b.polygonContainsCoords=k})},"esri/geometry/support/intersects":function(){define(["require",
"exports","./contains"],function(a,b,l){function e(a,b){return l.extentContainsPoint(a,b)}function k(a,b){var c=a.hasZ&&b.hasZ,d;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(d=b.ymin,a.ymax<d)return!1}else if(d=a.ymin,b.ymax<d)return!1;if(c&&b.hasZ)if(a.zmin<=b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function h(a,b){var c=b.hasZ?l.extentContainsCoords3D:l.extentContainsCoords2D,d=0;for(b=b.points;d<
b.length;d++)if(c(a,b[d]))return!0;return!1}function d(a,b){f[0]=a.xmin;f[1]=a.ymax;p[0]=a.xmax;p[1]=a.ymax;r[0]=a.xmin;r[1]=a.ymin;m[0]=a.xmax;m[1]=a.ymin;for(var c=0,d=q;c<d.length;c++)if(l.polygonContainsCoords(b,d[c]))return!0;c=0;for(b=b.rings;c<b.length;c++)if(d=b[c],d.length){var e=d[0];if(l.extentContainsCoords2D(a,e))return!0;for(var g=1;g<d.length;g++){var h=d[g];if(l.extentContainsCoords2D(a,h)||n(e,h,t))return!0;e=h}}return!1}function g(a,b){f[0]=a.xmin;f[1]=a.ymax;p[0]=a.xmax;p[1]=a.ymax;
r[0]=a.xmin;r[1]=a.ymin;m[0]=a.xmax;m[1]=a.ymin;b=b.paths;for(var c=0;c<b.length;c++){var d=b[c];if(b.length){var e=d[0];if(l.extentContainsCoords2D(a,e))return!0;for(var g=1;g<d.length;g++){var q=d[g];if(l.extentContainsCoords2D(a,q)||n(e,q,t))return!0;e=q}}}return!1}function n(a,b,d){for(var e=0;e<d.length;e++)if(c(a,b,d[e][0],d[e][1]))return!0;return!1}function c(a,b,c,d,e){var f=a[0];a=a[1];var m=b[0];b=b[1];var g=c[0],n=c[1];c=d[0]-g;var g=f-g,q=m-f;d=d[1]-n;var n=a-n,h=b-a,p=d*q-c*h;if(0===
p)return!1;c=(c*n-d*g)/p;g=(q*n-h*g)/p;return 0<=c&&1>=c&&0<=g&&1>=g?(e&&(e[0]=f+c*(m-f),e[1]=a+c*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=e;b.extentIntersectsExtent=k;b.extentIntersectsMultipoint=h;var f=[0,0],p=[0,0],r=[0,0],m=[0,0],q=[f,p,r,m],t=[[r,f],[f,p],[p,m],[m,r]];b.extentIntersectsPolygon=d;b.extentIntersectsPolyline=g;var v=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var d=a[b],e=0;e<d.length-1;e++)for(var f=d[e],
m=d[e+1],g=b+1;g<a.length;g++)for(var n=0;n<a[g].length-1;n++){var q=a[g][n],h=a[g][n+1],p=c(f,m,q,h,v);if(p&&!(v[0]===f[0]&&v[1]===f[1]||v[0]===q[0]&&v[1]===q[1]||v[0]===m[0]&&v[1]===m[1]||v[0]===h[0]&&v[1]===h[1]))return!0}n=d.length;if(!(4>=n))for(e=0;e<n-3;e++){var t=n-1;0===e&&(t=n-2);f=d[e];m=d[e+1];for(g=e+2;g<t;g++)if(q=d[g],h=d[g+1],(p=c(f,m,q,h,v))&&!(v[0]===f[0]&&v[1]===f[1]||v[0]===q[0]&&v[1]===q[1]||v[0]===m[0]&&v[1]===m[1]||v[0]===h[0]&&v[1]===h[1]))return!0}}return!1};b.segmentIntersects=
c;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return k;case "esriGeometryMultipoint":case "multipoint":return h;case "esriGeometryPoint":case "point":return e;case "esriGeometryPolygon":case "polygon":return d;case "esriGeometryPolyline":case "polyline":return g;case "mesh":return k}}})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y){var B,D={PortalGroup:function(){return x.create(function(b){return a(["./PortalGroup"],b)})},PortalItem:function(){return x.create(function(b){return a(["./PortalItem"],b)})},PortalUser:function(){return x.create(function(b){return a(["./PortalUser"],b)})}};return function(b){function m(a){a=b.call(this)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=
!1;a.canListData=!1;a.canListPreProvisionedItems=!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=!1;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=
null;a.hasCategorySchema=!1;a.helperServices=null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;a.templatesGroupQuery=null;a.units=
null;a.url=c.portalUrl;a.urlKey=null;a.user=null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}k(m,b);t=m;m.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};m.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};m.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<a.length;b++){var d=a[b];-1===c.request.trustedServers.indexOf(d)&&
c.request.trustedServers.push(d)}return a};m.prototype.readDefaultBasemap=function(a){return a?(a=B.fromJSON(a),a.portalItem={portal:this},a):null};m.prototype.readDefaultVectorBasemap=function(a){return a?(a=B.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(m.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"isOrganization",
{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+b):null},enumerable:!0,configurable:!0});m.prototype.readUrlKey=
function(a){return a?a.toLowerCase():a};m.prototype.readUser=function(a){var b=null;a&&(b=y.fromJSON(a),b.portal=this);return b};m.prototype.load=function(b){var c=this,d=x.create(function(b){return a(["../Basemap"],b)}).then(function(a){x.throwIfAborted(b);B=a}).then(function(){return c._fetchSelf(c.authMode,!1,b)}).then(function(a){if(f.id){var b=f.id;c.credential=b.findCredential(c.restUrl);c.credential||c.authMode!==t.AUTH_MODE_AUTO||(c._esriId_credentialCreateHandle=b.on("credential-create",
function(){b.findCredential(c.restUrl)&&c._signIn()}))}c.read(a)});this.addResolvingPromise(d);return this.when()};m.prototype.createClosestFacilityTask=function(){return e(this,void 0,void 0,function(){var b,c;return d(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(b,c){a(["../tasks/ClosestFacilityTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};m.prototype.createElevationLayers=
function(){return e(this,void 0,void 0,function(){var b,c;return d(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(b,c){a(["../layers/ElevationLayer"],b,c)})];case 2:return c=d.sent(),[2,b?b.map(function(a){return new c({id:a.id,url:a.url})}):[]]}})})};m.prototype.createGeometryService=function(){return e(this,void 0,void 0,function(){var b,c;return d(this,function(d){switch(d.label){case 0:return[4,
this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("geometry"),[4,new Promise(function(b,c){a(["../tasks/GeometryService"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};m.prototype.createPrintTask=function(){return e(this,void 0,void 0,function(){var b,c;return d(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("printTask"),[4,new Promise(function(b,c){a(["../tasks/PrintTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};
m.prototype.createRouteTask=function(){return e(this,void 0,void 0,function(){var b,c;return d(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("route"),[4,new Promise(function(b,c){a(["../tasks/RouteTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};m.prototype.createServiceAreaTask=function(){return e(this,void 0,void 0,function(){var b,c;return d(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),
b=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(b,c){a(["../tasks/ServiceAreaTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};m.prototype.fetchBasemaps=function(a,b){var c=new z;c.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);c.disableExtraQuery=!0;return this.queryGroups(c,b).then(function(a){c.num=100;c.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],c.sortField=a.sortField||"name",c.sortOrder=
a.sortOrder||"desc",a.queryItems(c,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new B({portalItem:a})}):[]})};m.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):x.isAborted(a)?x.reject(x.createAbortError()):x.resolve([])};m.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,c=
new z;c.num=100;c.sortField="title";if(b&&b.length){for(var d=[],e=0;e<b.length;e++){var f=b[e];d.push('(title:"'+f.title+'" AND owner:'+f.owner+")")}c.query=d.join(" OR ");return this.queryGroups(c,a).then(function(a){return a.results})}return x.isAborted(a)?x.reject(x.createAbortError()):x.resolve([])};m.prototype.fetchRegions=function(a){return this._request(this.restUrl+"/portals/regions",l({},a,{query:{culture:this.user&&this.user.culture||this.culture||n.locale}}))};m.getDefault=function(){t._default||
(t._default=new t);return t._default};m.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};m.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",b)};m.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",b)};m.prototype.toJSON=function(){throw new r("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};m.prototype._getHelperService=
function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new r("portal:service-not-found",'The `helperServices` do not include an entry named "'+a+'"');return b};m.prototype._getHelperServiceUrl=function(a){var b=this._getHelperService(a);if(!b.url)throw new r("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};m.prototype._fetchSelf=function(a,b,c){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var d=this.restUrl+"/portals/self";
a=l({authMode:a,query:{culture:n.locale}},c);"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(d,a)};m.prototype._queryPortal=function(a,b,c,d){var e=this,f=function(c){return e._request(e.restUrl+a,l({},b.toRequestOptions(e),d)).then(function(a){var f=b.clone();f.start=a.nextStart;return new A({nextQueryParams:f,queryParams:b,total:a.total,results:t._resultsToTypedArray(c,{portal:e},a,d)})}).then(function(a){return x.all(a.results.map(function(b){return"function"===
typeof b.when?b.when():a})).then(function(){return a},function(b){x.throwIfAbortError(b);return a})})};return c&&D[c]?D[c]().then(function(a){x.throwIfAborted(d);return f(a)}):f()};m.prototype._signIn=function(){var a=this;if(this.authMode===t.AUTH_MODE_ANONYMOUS)return x.reject(new r("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return x.reject(this.loadError);var b=function(b){return x.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||
(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&a.read(b)})};return f.id?f.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};m.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",
":7443")};m.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};m.prototype._requestToTypedArray=function(b,c,d){var e=this,f=function(a){return e._request(b,c).then(function(b){var c=t._resultsToTypedArray(a,{portal:e},b);return x.all(c.map(function(a){return"function"===typeof a.when?a.when():b})).then(function(){return c},function(){return c})})};return d?x.create(function(b){return a(["./"+
d],b)}).then(function(a){return f(a)}):f()};m.prototype._request=function(a,b){void 0===b&&(b={});var c=l({f:"json"},b.query),d=b.authMode,e=b.body,f=b.cacheBust,m=b.method,g=b.responseType;b={authMode:void 0===d?this.authMode===t.AUTH_MODE_ANONYMOUS?"anonymous":"auto":d,body:void 0===e?null:e,cacheBust:void 0===f?!1:f,method:void 0===m?"auto":m,query:c,responseType:void 0===g?"json":g,timeout:0,signal:b.signal};return p(this._normalizeSSL(a),b).then(function(a){return a.data})};m._resultsToTypedArray=
function(a,b,c,d){if(c){var e=v.isSome(d)?d.signal:null;c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c;if(a||b)c=c.map(function(c){c=q.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load(e);return c})}else c=[];return c};var t;m.AUTH_MODE_ANONYMOUS="anonymous";m.AUTH_MODE_AUTO="auto";m.AUTH_MODE_IMMEDIATE="immediate";h([u.property()],m.prototype,"access",void 0);h([u.property()],m.prototype,"allSSL",void 0);
h([u.property()],m.prototype,"authMode",void 0);h([u.property()],m.prototype,"authorizedCrossOriginDomains",void 0);h([u.reader("authorizedCrossOriginDomains")],m.prototype,"readAuthorizedCrossOriginDomains",null);h([u.property()],m.prototype,"basemapGalleryGroupQuery",void 0);h([u.property()],m.prototype,"bingKey",void 0);h([u.property()],m.prototype,"canListApps",void 0);h([u.property()],m.prototype,"canListData",void 0);h([u.property()],m.prototype,"canListPreProvisionedItems",void 0);h([u.property()],
m.prototype,"canProvisionDirectPurchase",void 0);h([u.property()],m.prototype,"canSearchPublic",void 0);h([u.property()],m.prototype,"canShareBingPublic",void 0);h([u.property()],m.prototype,"canSharePublic",void 0);h([u.property()],m.prototype,"canSignInArcGIS",void 0);h([u.property()],m.prototype,"canSignInIDP",void 0);h([u.property()],m.prototype,"colorSetsGroupQuery",void 0);h([u.property()],m.prototype,"commentsEnabled",void 0);h([u.property({type:Date})],m.prototype,"created",void 0);h([u.property()],
m.prototype,"credential",void 0);h([u.property()],m.prototype,"culture",void 0);h([u.property()],m.prototype,"currentVersion",void 0);h([u.property()],m.prototype,"customBaseUrl",void 0);h([u.property()],m.prototype,"defaultBasemap",void 0);h([u.reader("defaultBasemap")],m.prototype,"readDefaultBasemap",null);h([u.property({type:w})],m.prototype,"defaultExtent",void 0);h([u.property()],m.prototype,"defaultVectorBasemap",void 0);h([u.reader("defaultVectorBasemap")],m.prototype,"readDefaultVectorBasemap",
null);h([u.property()],m.prototype,"description",void 0);h([u.property()],m.prototype,"eueiEnabled",void 0);h([u.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],m.prototype,"extraQuery",null);h([u.property()],m.prototype,"featuredGroups",void 0);h([u.property()],m.prototype,"featuredItemsGroupQuery",void 0);h([u.property()],m.prototype,"galleryTemplatesGroupQuery",void 0);h([u.property()],m.prototype,"livingAtlasGroupQuery",void 0);h([u.property()],m.prototype,"hasCategorySchema",
void 0);h([u.property()],m.prototype,"helpBase",void 0);h([u.property()],m.prototype,"helperServices",void 0);h([u.property()],m.prototype,"helpMap",void 0);h([u.property()],m.prototype,"homePageFeaturedContent",void 0);h([u.property()],m.prototype,"homePageFeaturedContentCount",void 0);h([u.property()],m.prototype,"httpPort",void 0);h([u.property()],m.prototype,"httpsPort",void 0);h([u.property()],m.prototype,"id",void 0);h([u.property()],m.prototype,"ipCntryCode",void 0);h([u.property({dependsOn:["access"],
readOnly:!0})],m.prototype,"isOrganization",null);h([u.property()],m.prototype,"isPortal",void 0);h([u.property()],m.prototype,"layerTemplatesGroupQuery",void 0);h([u.property()],m.prototype,"maxTokenExpirationMinutes",void 0);h([u.property({type:Date})],m.prototype,"modified",void 0);h([u.property()],m.prototype,"name",void 0);h([u.property()],m.prototype,"portalHostname",void 0);h([u.property()],m.prototype,"portalMode",void 0);h([u.property()],m.prototype,"portalProperties",void 0);h([u.property()],
m.prototype,"region",void 0);h([u.property({dependsOn:["url"],readOnly:!0})],m.prototype,"restUrl",null);h([u.property()],m.prototype,"rotatorPanels",void 0);h([u.property()],m.prototype,"showHomePageDescription",void 0);h([u.property()],m.prototype,"staticImagesUrl",void 0);h([u.property()],m.prototype,"stylesGroupQuery",void 0);h([u.property()],m.prototype,"supportsHostedServices",void 0);h([u.property()],m.prototype,"symbolSetsGroupQuery",void 0);h([u.property()],m.prototype,"templatesGroupQuery",
void 0);h([u.property()],m.prototype,"thumbnail",void 0);h([u.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],m.prototype,"thumbnailUrl",null);h([u.property()],m.prototype,"units",void 0);h([u.property()],m.prototype,"url",void 0);h([u.property()],m.prototype,"urlKey",void 0);h([u.reader("urlKey")],m.prototype,"readUrlKey",null);h([u.property()],m.prototype,"user",void 0);h([u.reader("user")],m.prototype,"readUser",null);h([u.property()],m.prototype,"useStandardizedQuery",void 0);h([u.property()],
m.prototype,"useVectorBasemaps",void 0);h([u.property()],m.prototype,"vectorBasemapGalleryGroupQuery",void 0);h([g(1,u.cast(z))],m.prototype,"_queryPortal",null);return m=t=h([u.subclass("esri.portal.Portal")],m)}(u.declared(m,t))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(a,b){return function(l,e){b(l,e,a)}}})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){var r=new d.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function b(b){b=a.call(this)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}e(b,a);d=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});b.prototype.clone=function(){return new d({categories:this.categories?g.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var c;this.categories&&(c=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var d;if(this.extent){var e=p.project(this.extent,
f.WGS84);e&&(d=e.xmin+","+e.ymin+","+e.xmax+","+e.ymax)}e=this.query;!this.disableExtraQuery&&a.extraQuery&&(e="("+e+")"+a.extraQuery);a={categories:c,bbox:d,q:e,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=r.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:l({},b,a)}};var d;k([n.property()],b.prototype,"categories",void 0);k([n.property()],b.prototype,"disableExtraQuery",void 0);k([n.property({type:c})],b.prototype,"extent",void 0);k([n.property()],
b.prototype,"num",void 0);k([n.property()],b.prototype,"query",void 0);k([n.property()],b.prototype,"sortField",void 0);k([n.property()],b.prototype,"sortOrder",null);k([n.property()],b.prototype,"start",void 0);return b=d=k([n.subclass("esri.portal.PortalQueryParams")],b)}(n.declared(h))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,
b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}l(b,a);e([h.property()],b.prototype,"nextQueryParams",void 0);e([h.property()],b.prototype,"queryParams",void 0);e([h.property()],b.prototype,"results",void 0);e([h.property()],b.prototype,"total",void 0);return b=e([h.subclass("esri.portal.PortalQueryResult")],b)}(h.declared(k))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(a,b,l,e,k,h,d,g,n,c){return function(b){function f(){var a=b.call(this)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.units=null;a.username=null;a.userType=null;return a}l(f,b);Object.defineProperty(f.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+
b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});f.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var e={method:"post"};
c&&(e.query=c._getPostQuery(),null!=d&&("string"===typeof d?e.query.text=d:"object"===typeof d&&(e.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+("string"===typeof a?a:a.id));return this.portal._request(d+"/addItem",e).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c._reload():c.load()})};f.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};f.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):d.resolve(void 0)};f.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=n.fromJSON(b);b.portal=
a.portal;return b}):[]})};f.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=c.fromJSON(b);b.portal=a.portal;return b}):[]})};f.prototype.fetchItems=function(b){var c=this;b||(b={});var e=this.userContentUrl;b.folder&&(e+="/"+b.folder.id);var f;return d.create(function(b){return a(["./PortalItem"],b)}).then(function(a){f=a;return c.portal._request(e,{query:{folders:!1,num:b.num||10,start:b.start||1}})}).then(function(a){var b;
return a&&a.items?(b=a.items.map(function(a){a=f.fromJSON(a);a.portal=c.portal;return a}),d.all(b.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};f.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};f.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new c({id:this.favGroupId,portal:this.portal})),
this._favGroup.queryItems(a)):d.reject(new k("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};f.prototype.toJSON=function(){throw new k("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};e([g.property()],f.prototype,"access",void 0);e([g.property({type:Date})],f.prototype,"created",void 0);e([g.property()],f.prototype,"culture",void 0);e([g.property()],f.prototype,"description",void 0);e([g.property()],f.prototype,"email",void 0);e([g.property()],
f.prototype,"favGroupId",void 0);e([g.property()],f.prototype,"fullName",void 0);e([g.property({type:Date})],f.prototype,"modified",void 0);e([g.property()],f.prototype,"orgId",void 0);e([g.property()],f.prototype,"portal",void 0);e([g.property()],f.prototype,"preferredView",void 0);e([g.property()],f.prototype,"privileges",void 0);e([g.property()],f.prototype,"region",void 0);e([g.property()],f.prototype,"role",void 0);e([g.property()],f.prototype,"roleId",void 0);e([g.property()],f.prototype,"thumbnail",
void 0);e([g.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],f.prototype,"thumbnailUrl",null);e([g.property()],f.prototype,"units",void 0);e([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"userContentUrl",null);e([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"url",null);e([g.property()],f.prototype,"username",void 0);e([g.property()],f.prototype,"userType",void 0);return f=e([g.subclass("esri.portal.PortalUser")],f)}(g.declared(h))})},
"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}l(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+
"/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){throw new k("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};e([d.property({type:Date})],b.prototype,"created",void 0);e([d.property()],b.prototype,"id",void 0);e([d.property()],b.prototype,"portal",void 0);e([d.property()],b.prototype,"title",void 0);e([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);e([d.property()],b.prototype,"username",void 0);return b=
e([d.subclass("esri.portal.PortalFolder")],b)}(d.declared(h))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ./PortalQueryParams".split(" "),function(a,b,l,e,k,h,d,g,n){return function(a){function b(b){b=a.call(this)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=
null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}l(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=
function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(c){c=c.categorySchema||[];return c.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):c})};b.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",a)};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new h("internal:not-yet-implemented",
"PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a,b){if(5<parseFloat(this.portal.currentVersion))return a=a||new n,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new n;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,b)};b.prototype._fetchCategorySchemaSet=function(a,b){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var d=
new n;d.disableExtraQuery=!0;d.num=1;d.query=a;return c.portal.queryGroups(d,b)}throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var d=new n;d.num=1;d.query='typekeywords:"'+a+'"';return c.queryItems(d,b)}throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&
a.length?a:[]}):[]})};e([g.property()],b.prototype,"access",void 0);e([g.property({type:Date})],b.prototype,"created",void 0);e([g.property()],b.prototype,"description",void 0);e([g.property()],b.prototype,"id",void 0);e([g.property()],b.prototype,"isInvitationOnly",void 0);e([g.property({type:Date})],b.prototype,"modified",void 0);e([g.property()],b.prototype,"owner",void 0);e([g.property()],b.prototype,"portal",void 0);e([g.property()],b.prototype,"snippet",void 0);e([g.property()],b.prototype,
"sortField",void 0);e([g.property()],b.prototype,"sortOrder",void 0);e([g.property()],b.prototype,"tags",void 0);e([g.property()],b.prototype,"thumbnail",void 0);e([g.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);e([g.property()],b.prototype,"title",void 0);e([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);e([k(0,g.cast(n))],b.prototype,"queryItems",null);return b=e([g.subclass("esri.portal.PortalGroup")],
b)}(g.declared(d))})},"esri/portal/PortalItem":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../geometry/Extent ./Portal ./PortalRating".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t){return function(b){function d(a){a=b.call(this)||this;a.access=null;
a.accessInformation=null;a.applicationProxies=null;a.avgRating=null;a.categories=null;a.created=null;a.culture=null;a.description=null;a.extent=null;a.groupCategories=null;a.id=null;a.itemControl=null;a.licenseInfo=null;a.modified=null;a.name=null;a.numComments=null;a.numRatings=null;a.numViews=null;a.owner=null;a.ownerFolder=null;a.portal=null;a.screenshots=null;a.size=null;a.snippet=null;a.tags=null;a.title=null;a.type=null;a.typeKeywords=null;a.url=null;return a}l(d,b);n=d;Object.defineProperty(d.prototype,
"displayName",{get:function(){var a=this.type,b=this.typeKeywords||[],c=a;"Feature Service"===a||"Feature Collection"===a?c=-1<b.indexOf("Table")?"Table":-1<b.indexOf("Route Layer")?"Route Layer":-1<b.indexOf("Markup")?"Markup":"Feature Layer":"Image Service"===a?c=-1<b.indexOf("Elevation 3D Layer")?"Elevation Layer":"Imagery Layer":"Scene Service"===a?c="Scene Layer":"Scene Package"===a?c="Scene Layer Package":"Stream Service"===a?c="Feature Layer":"Geoprocessing Service"===a&&this.portal&&this.portal.isPortal?
c=-1<b.indexOf("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===a?c="Locator":"Microsoft Powerpoint"===a?c="Microsoft PowerPoint":"GeoJson"===a?c="GeoJSON":"Globe Service"===a?c="Globe Layer":"Vector Tile Service"===a?c="Tile Layer":"netCDF"===a?c="NetCDF":"Map Service"===a?c=-1===b.indexOf("Spatiotemporal")&&(-1<b.indexOf("Hosted Service")||-1<b.indexOf("Tiled"))&&-1===b.indexOf("Relational")?"Tile Layer":"Map Image Layer":a&&-1<a.toLowerCase().indexOf("add in")?c=a.replace(/(add in)/gi,
"Add-In"):"datastore catalog service"===a?c="Big Data File Share":"Compact Tile Package"===a&&(c="Tile Package (tpkx)");return c},enumerable:!0,configurable:!0});d.prototype.readExtent=function(a){return a&&a.length?new m(a[0][0],a[0][1],a[1][0],a[1][1]):null};Object.defineProperty(d.prototype,"iconUrl",{get:function(){var b=this.type&&this.type.toLowerCase()||"",c=this.typeKeywords||[],d=!1,e=!1,f=!1,m=!1,g=!1;0<b.indexOf("service")||"feature collection"===b||"kml"===b||"wms"===b||"wmts"===b||"wfs"===
b?(d=-1<c.indexOf("Hosted Service"),"feature service"===b||"feature collection"===b||"kml"===b||"wfs"===b?(e=-1<c.indexOf("Table"),f=-1<c.indexOf("Route Layer"),m=-1<c.indexOf("Markup"),b=(g=-1!==c.indexOf("Spatiotemporal"))&&e?"spatiotemporaltable":e?"table":f?"routelayer":m?"markup":g?"spatiotemporal":d?"featureshosted":"features"):"map service"===b||"wms"===b||"wmts"===b?(g=-1!==c.indexOf("Spatiotemporal"),b=d||-1<c.indexOf("Tiled")||"wmts"===b?"maptiles":g?"spatiotemporal":"mapimages"):b="scene service"===
b?-1<c.indexOf("Line")?"sceneweblayerline":-1<c.indexOf("3DObject")?"sceneweblayermultipatch":-1<c.indexOf("Point")?"sceneweblayerpoint":-1<c.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<c.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<c.indexOf("Polygon")?"sceneweblayerpolygon":-1<c.indexOf("Building")?"sceneweblayerbuilding":"sceneweblayer":"image service"===b?-1<c.indexOf("Elevation 3D Layer")?"elevationlayer":"imagery":"stream service"===b?"streamlayer":"vector tile service"===b?"vectortile":
"datastore catalog service"===b?"datastorecollection":"geocoding service"===b?"geocodeservice":"geoprocessing service"===b?-1<c.indexOf("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"layers"):b="web map"===b||"cityengine web scene"===b?"maps":"web scene"===b?-1<c.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===b||"mobile application"===b||"application"===b||"operation view"===b||"desktop application"===b?"apps":"map document"===b||"map package"===
b||"published map"===b||"scene document"===b||"globe document"===b||"basemap package"===b||"mobile basemap package"===b||"mobile map package"===b||"project package"===b||"project template"===b||"pro map"===b||"layout"===b||"layer"===b&&-1<c.indexOf("ArcGIS Pro")||"explorer map"===b&&c.indexOf("Explorer Document")?"mapsgray":"service definition"===b||"csv"===b||"shapefile"===b||"cad drawing"===b||"geojson"===b||"360 vr experience"===b||"netcdf"===b?"datafiles":"explorer add in"===b||"desktop add in"===
b||"windows viewer add in"===b||"windows viewer configuration"===b?"appsgray":"arcgis pro add in"===b||"arcgis pro configuration"===b?"addindesktop":"rule package"===b||"file geodatabase"===b||"sqlite geodatabase"===b||"csv collection"===b||"kml collection"===b||"windows mobile package"===b||"map template"===b||"desktop application template"===b||"arcpad package"===b||"code sample"===b||"form"===b||"document link"===b||"operations dashboard add in"===b||"rules package"===b||"image"===b||"workflow manager package"===
b||"explorer map"===b&&-1<c.indexOf("Explorer Mapping Application")||-1<c.indexOf("Document")?"datafilesgray":"network analysis service"===b||"geoprocessing service"===b||"geodata service"===b||"geometry service"===b||"geoprocessing package"===b||"locator package"===b||"geoprocessing sample"===b||"workflow manager service"===b?"toolsgray":"layer"===b||"layer package"===b||"explorer layer"===b?"layersgray":"scene package"===b?"scenepackage":"mobile scene package"===b?"mobilescenepackage":"tile package"===
b||"compact tile package"===b?"tilepackage":"task file"===b?"taskfile":"report template"===b?"report-template":"statistical data collection"===b?"statisticaldatacollection":"insights workbook"===b?"workbook":"insights model"===b?"insightsmodel":"insights page"===b?"insightspage":"insights theme"===b?"insightstheme":"hub initiative"===b?"hubinitiative":"hubpage"===b?"hubpage":"hub site application"===b?"hubsite":"relational database connection"===b?"relationaldatabaseconnection":"big data file share"===
b?"datastorecollection":"image collection"===b?"imagecollection":"style"===b?"style":"desktop style"===b?"desktopstyle":"dashboard"===b?"dashboard":"raster function template"===b?"rasterprocessingtemplate":"vector tile package"===b?"vectortilepackage":"ortho mapping project"===b?"orthomappingproject":"ortho mapping template"===b?"orthomappingtemplate":"solution"===b?"solutions":"geopackage"===b?"geopackage":"deep learning package"===b?"deeplearningpackage":"real time analytic"===b?"realtimeanalytics":
"big data analytic"===b?"bigdataanalytics":"feed"===b?"feed":"excalibur imagery project"===b?"excaliburimageryproject":"notebook"===b?"notebook":"storymap"===b?"storymap":"survey123 add in"===b?"survey123addin":"mission"===b?"mission":"quickcapture project"===b?"quickcaptureproject":"pro report"===b?"proreport":"urban model"===b?"urbanmodel":"web experience"===b?"experiencebuilder":"maps";return b?a.toUrl("../images/portal/"+b+"16.png"):null},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,
"isLayer",{get:function(){return-1<"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").indexOf(this.type)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"itemUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/items/"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"thumbnailUrl",{get:function(){var a=this.itemUrl,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+
"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"userItemUrl",{get:function(){var a=this.get("portal.restUrl");if(!a)return null;var b=this.owner||this.get("portal.user.username");return b?a+"/content/users/"+(this.ownerFolder?b+"/"+this.ownerFolder:b)+"/items/"+this.id:null},enumerable:!0,configurable:!0});d.prototype.load=function(a){var b=this;this.portal||(this.portal=q.getDefault());var d=this.portal.load(a).then(function(){return b.resourceInfo?
b.resourceInfo:b.id&&b.itemUrl?b.portal._request(b.itemUrl,{signal:c.isSome(a)?a.signal:null}):{}}).then(function(a){b.resourceInfo=a;b.read(a)});this.addResolvingPromise(d);return this.when()};d.prototype.addRating=function(a){var b={method:"post",query:{}};a instanceof t&&(a=a.rating);isNaN(a)||"number"!==typeof a||(b.query.rating=a);return this.portal._request(this.itemUrl+"/addRating",b).then(function(){return new t({rating:a,created:new Date})})};d.prototype.clone=function(){var a={access:this.access,
accessInformation:this.accessInformation,applicationProxies:g.clone(this.applicationProxies),avgRating:this.avgRating,categories:g.clone(this.categories),created:g.clone(this.created),culture:this.culture,description:this.description,extent:g.clone(this.extent),groupCategories:g.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:g.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,
owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:g.clone(this.screenshots),size:this.size,snippet:this.snippet,tags:g.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:g.clone(this.typeKeywords),url:this.url};this.loaded&&(a.loadStatus="loaded");return(new n({resourceInfo:this.resourceInfo})).set(a)};d.prototype.deleteRating=function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(function(){})};d.prototype.fetchData=
function(a,b){void 0===a&&(a="json");return this.portal._request(this.itemUrl+"/data",k({responseType:a},b))};d.prototype.fetchRating=function(a){return this.portal._request(this.itemUrl+"/rating",a).then(function(a){return null!=a.rating?(a.created=new Date(a.created),new t(a)):null})};d.prototype.fetchRelatedItems=function(a,b){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",k({query:a},b),"PortalItem")};d.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&
(b+="\x26w\x3d"+a);return b};d.prototype.update=function(a){var b=this;return this.id?this.load().then(function(){return b.portal._signIn()}).then(function(){var c=a&&a.data,d={method:"post"};d.query=b._getPostQuery();for(var e in d.query)null===d.query[e]&&(d.query[e]="");d.query.clearEmptyFields=!0;null!=c&&("string"===typeof c?d.query.text=c:"object"===typeof c&&(d.query.text=JSON.stringify(c)));return b.portal._request(b.userItemUrl+"/update",d).then(function(){return b._reload()})}):f.reject(new h("portal:item-does-not-exist",
"The item does not exist yet and cannot be updated"))};d.prototype.updateThumbnail=function(a){var b=this;return this.id?this.load().then(function(){return b.portal._signIn()}).then(function(){var c=a.thumbnail,d={method:"post"};if("string"===typeof c)p.isDataProtocol(c)?d.query={data:c}:d.query={url:p.makeAbsolute(c)};else{var e=new FormData;e.append("file",c);d.body=e}return b.portal._request(b.userItemUrl+"/updateThumbnail",d).then(function(){return b._reload()})}):f.reject(new h("portal:item-does-not-exist",
"The item does not exist yet and cannot be updated"))};d.prototype.toJSON=function(){var a=this.extent,a={created:this.created&&this.created.getTime(),description:this.description,extent:a&&[[a.xmin,a.ymin],[a.xmax,a.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return g.fixJson(a)};
d.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new n({resourceInfo:a})};d.prototype._reload=function(){var a=this;return this.portal._request(this.itemUrl,{cacheBust:!0}).then(function(b){a.resourceInfo=b;a.read(b);return a})};d.prototype._getPostQuery=function(){var a=this.toJSON(),b;for(b in a)"tags"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"typeKeywords"===b&&null!==a[b]&&(a[b]=a[b].join(", "));return a};var n;e([r.property()],
d.prototype,"access",void 0);e([r.property()],d.prototype,"accessInformation",void 0);e([r.property({json:{read:{source:"appProxies"}}})],d.prototype,"applicationProxies",void 0);e([r.property()],d.prototype,"avgRating",void 0);e([r.property()],d.prototype,"categories",void 0);e([r.property({type:Date})],d.prototype,"created",void 0);e([r.property()],d.prototype,"culture",void 0);e([r.property()],d.prototype,"description",void 0);e([r.property({dependsOn:["type","typeKeywords"],readOnly:!0})],d.prototype,
"displayName",null);e([r.property({type:m})],d.prototype,"extent",void 0);e([r.reader("extent")],d.prototype,"readExtent",null);e([r.property()],d.prototype,"groupCategories",void 0);e([r.property({dependsOn:["type","typeKeywords"],readOnly:!0})],d.prototype,"iconUrl",null);e([r.property()],d.prototype,"id",void 0);e([r.property({dependsOn:["type"],readOnly:!0})],d.prototype,"isLayer",null);e([r.property()],d.prototype,"itemControl",void 0);e([r.property({dependsOn:["portal.restUrl","id"],readOnly:!0})],
d.prototype,"itemUrl",null);e([r.property()],d.prototype,"licenseInfo",void 0);e([r.property({type:Date})],d.prototype,"modified",void 0);e([r.property()],d.prototype,"name",void 0);e([r.property()],d.prototype,"numComments",void 0);e([r.property()],d.prototype,"numRatings",void 0);e([r.property()],d.prototype,"numViews",void 0);e([r.property()],d.prototype,"owner",void 0);e([r.property()],d.prototype,"ownerFolder",void 0);e([r.property({type:q})],d.prototype,"portal",void 0);e([r.property()],d.prototype,
"resourceInfo",void 0);e([r.property()],d.prototype,"screenshots",void 0);e([r.property()],d.prototype,"size",void 0);e([r.property()],d.prototype,"snippet",void 0);e([r.property()],d.prototype,"tags",void 0);e([r.property()],d.prototype,"thumbnail",void 0);e([r.property({dependsOn:["itemUrl","thumbnail","portal.credential.token"],readOnly:!0})],d.prototype,"thumbnailUrl",null);e([r.property()],d.prototype,"title",void 0);e([r.property()],d.prototype,"type",void 0);e([r.property()],d.prototype,"typeKeywords",
void 0);e([r.property()],d.prototype,"url",void 0);e([r.property({dependsOn:["portal.restUrl","portal.user.username","owner","ownerFolder","id"],readOnly:!0})],d.prototype,"userItemUrl",null);return d=n=e([r.subclass("esri.portal.PortalItem")],d)}(r.declared(d,n))})},"esri/portal/PortalRating":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){return function(a){function b(b){b=
a.call(this)||this;b.created=null;b.rating=null;return b}l(b,a);e([h.property()],b.prototype,"created",void 0);e([h.property()],b.prototype,"rating",void 0);return b=e([h.subclass("esri.portal.PortalRating")],b)}(h.declared(k))})},"esri/support/basemapDefinitions":function(){define(["require","exports","dojo/i18n!../nls/basemaps"],function(a,b,l){return{streets:{id:"streets",title:l.streets,thumbnailUrl:a.toUrl("../images/basemap/streets.jpg"),baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",title:l.satellite,thumbnailUrl:a.toUrl("../images/basemap/satellite.jpg"),baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",title:l.hybrid,thumbnailUrl:a.toUrl("../images/basemap/hybrid.jpg"),
baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",
title:l.terrain,thumbnailUrl:a.toUrl("../images/basemap/terrain.jpg"),baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,
showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",title:l.topo,thumbnailUrl:a.toUrl("../images/basemap/topo.jpg"),baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",title:l.gray,thumbnailUrl:a.toUrl("../images/basemap/gray.jpg"),baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",title:l["dark-gray"],thumbnailUrl:a.toUrl("../images/basemap/dark-gray.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",title:l.oceans,thumbnailUrl:a.toUrl("../images/basemap/oceans.jpg"),
baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",
title:l["national-geographic"],thumbnailUrl:a.toUrl("../images/basemap/national-geographic.jpg"),baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",title:l.osm,thumbnailUrl:a.toUrl("../images/basemap/osm.jpg"),baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,
visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",title:l["dark-gray"],thumbnailUrl:a.toUrl("../images/basemap/dark-gray.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/c11ce4f7801740b2905eb03ddc963ac8/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Dark Gray",visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",title:l.gray,thumbnailUrl:a.toUrl("../images/basemap/gray.jpg"),baseMapLayers:[{id:"gray-base-layer",
styleUrl:"//www.arcgis.com/sharing/rest/content/items/8a2cba3b0ebf4140b7c0dc5ee149549a/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Light Gray",visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",title:l.streets,thumbnailUrl:a.toUrl("../images/basemap/streets.jpg"),baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",
visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",title:l.topo,thumbnailUrl:a.toUrl("../images/basemap/topo.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",title:l["streets-night-vector"],thumbnailUrl:a.toUrl("../images/basemap/streets-night.jpg"),baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",
title:l["streets-relief-vector"],thumbnailUrl:a.toUrl("../images/basemap/streets-relief.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",
layerType:"VectorTileLayer",showLegend:!1,visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",title:l["streets-navigation-vector"],thumbnailUrl:a.toUrl("../images/basemap/streets-navigation.jpg"),baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]}}})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./has!host-browser?./_base/xhr ./json module".split(" "),
function(a,b,l,e,k,h,d,g,n){l.add("dojo-preload-i18n-Api",1);d=a.i18n={};var c=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,f=function(a,b,c,d){var e=[c+d];b=b.split("-");for(var f="",m=0;m<b.length;m++)if(f+=(f?"-":"")+b[m],!a||a[f])e.push(c+f+"/"+d),e.specificity=f;return e},p={},r=function(b,c,d){d=d?d.toLowerCase():a.locale;b=b.replace(/\./g,"/");c=c.replace(/\./g,"/");return/root/i.test(d)?b+"/nls/"+c:b+"/nls/"+d+"/"+c},m=a.getL10nName=function(a,b,c){return a=n.id+"!"+r(a,b,c)},q=function(a,b,
c,d,e,m){a([b],function(g){var n=h.clone(g.root||g.ROOT),q=f(!g._v1x&&g,e,c,d);a(q,function(){for(var a=1;a<q.length;a++)n=h.mixin(h.clone(n),arguments[a]);p[b+"/"+e]=n;n.$locale=q.specificity;m()})})},t=function(a){var b=k.extraLocale||[],b=h.isArray(b)?b:[b];b.push(a);return b},v=function(b,d,f){var m=c.exec(b),n=m[1]+"/",k=m[5]||m[4],v=n+k,r=(m=m[5]&&m[4])||a.locale||"",x=v+"/"+r,m=m?[r]:t(r),y=m.length,D=function(){--y||f(h.delegate(p[x]))},r=b.split("*"),B="preload"==r[1];if(l("dojo-preload-i18n-Api")){if(B&&
(p[b]||(p[b]=1,z(r[2],g.parse(r[3]),1,d)),f(1)),(r=B)||(u&&w.push([b,d,f]),r=u&&!p[x]),r)return}else if(B){f(1);return}e.forEach(m,function(a){var b=v+"/"+a;l("dojo-preload-i18n-Api")&&A(b);p[b]?D():q(d,v,n,k,a,D)})};l("dojo-preload-i18n-Api");var x=d.normalizeLocale=function(b){b=b?b.toLowerCase():a.locale;return"root"==b?"ROOT":b},u=0,w=[],z=d._preloadLocalizations=function(c,d,f,m){function g(a,b){m([a],b)}function n(a,b){for(a=a.split("-");a.length;){if(b(a.join("-")))return;a.pop()}b("ROOT")}
function q(){for(--u;!u&&w.length;)v.apply(null,w.shift())}function t(a){a=x(a);n(a,function(f){if(0<=e.indexOf(d,f)){var t=c.replace(/\./g,"/")+"_"+f;u++;g(t,function(c){for(var d in c){var e=c[d],g=d.match(/(.+)\/([^\/]+)$/),t;if(g&&(t=g[2],g=g[1]+"/",e._localized)){var k;if("ROOT"===f){var v=k=e._localized;delete e._localized;v.root=e;p[b.toAbsMid(d)]=v}else k=e._localized,p[b.toAbsMid(g+t+"/"+f)]=e;f!==a&&function(c,d,e,f){var g=[],t=[];n(a,function(a){f[a]&&(g.push(b.toAbsMid(c+a+"/"+d)),t.push(b.toAbsMid(c+
d+"/"+a)))});g.length?(u++,m(g,function(){for(var f=g.length-1;0<=f;f--)e=h.mixin(h.clone(e),arguments[f]),p[t[f]]=e;p[b.toAbsMid(c+d+"/"+a)]=h.clone(e);q()})):p[b.toAbsMid(c+d+"/"+a)]=e}(g,t,e,k)}}q()});return!0}return!1})}m=m||b;t();e.forEach(a.config.extraLocale,t)},A=function(){},y={},A=function(b){for(var c,d=b.split("/"),e=a.global[d[0]],f=1;e&&f<d.length-1;e=e[d[f++]]);e&&((c=e[d[f]])||(c=e[d[f].replace(/-/g,"_")]),c&&(p[b]=c));return c};d.getLocalization=function(a,c,d){var e,f=r(a,c,d);if(y[f])return y[f];
v(f,b,function(a){e=y[f]=a});return e};return h.mixin(d,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:v,cache:p,getL10nName:m})})},"esri/Ground":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./Color ./core/asyncUtils ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./ground/NavigationConstraint ./layers/BaseElevationLayer ./layers/support/LayerCollection ./layers/support/types ./webdoc/support/opacityUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y){function B(a){return"elevation"===a.type||a.isInstanceOf(w)}var D=q.getLogger("esri.Ground");return function(b){function f(a){var c=b.call(this)||this;c.opacity=1;c.surfaceColor=null;c.navigationConstraint=null;c.layers=new z.default;c.layers.on("after-add",function(a){a=a.item;a.parent&&a.parent!==c&&"remove"in a.parent&&a.parent.remove(a);a.parent=c;A.isOfType(a,["elevation","base-elevation"])||D.error("Layer '"+a.title+", id:"+a.id+"' of type '"+
a.type+"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.")});c.layers.on("after-remove",function(a){a.item.parent=null});return c}e(f,b);q=f;f.prototype.initialize=function(){this.when().catch(function(a){D.error("#load()","Failed to load ground",a)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};f.prototype.normalizeCtorArgs=function(a){a&&"resourceInfo"in a&&(this._set("resourceInfo",a.resourceInfo),
a=l({},a),delete a.resourceInfo);return a};Object.defineProperty(f.prototype,"layers",{set:function(a){this._set("layers",g.referenceSetter(a,this._get("layers"),z.default))},enumerable:!0,configurable:!0});f.prototype.writeLayers=function(a,b,d,e){var f=[];a&&(e=l({},e,{layerContainerType:"ground"}),a.forEach(function(a){if("write"in a){var b={};n.typeCast(a)().write(b,e)&&f.push(b)}else e&&e.messages&&e.messages.push(new c("layer:unsupported","Layers ("+a.title+", "+a.id+") of type '"+a.declaredClass+
"' cannot be persisted in the ground",{layer:a}))}));b.layers=f};f.prototype.load=function(a){this.addResolvingPromise(this._loadFromSource(a));return this.when()};f.prototype.loadAll=function(){var a=this;return d.safeCast(m.loadAll(this,function(b){b(a.layers)}))};f.prototype.queryElevation=function(a,b){var c=this;return this._importElevationQuery().then(function(d){d=new d.ElevationQuery;var e=c.layers.filter(B).toArray();return d.queryAll(e,a,b)})};f.prototype.createElevationSampler=function(a,
b){var c=this.layers.filter(B).toArray();return 1===c.length?c[0].createElevationSampler(a,b):this._importElevationQuery().then(function(d){return(new d.ElevationQuery).createSamplerAll(c,a,b)})};f.prototype.clone=function(){var a={opacity:this.opacity,surfaceColor:p.clone(this.surfaceColor),navigationConstraint:p.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(a.loadStatus="loaded");return(new q({resourceInfo:this.resourceInfo})).set(a)};f.prototype.read=function(a,b){this.resourceInfo||
this._set("resourceInfo",{data:a,context:b});this.inherited(arguments)};f.prototype._loadFromSource=function(a){var b=this.resourceInfo;return b?this._loadLayersFromJSON(b.data,b.context,a):t.resolve(null)};f.prototype._loadLayersFromJSON=function(b,c,e){var f=this,m=c&&c.origin||"web-scene",g=c&&c.portal||null,n=c&&c.url||null;return t.create(function(b){return a(["./portal/support/layersCreator"],b)}).then(function(a){t.throwIfAborted(e);var c=[];b.layers&&Array.isArray(b.layers)&&c.push(d.safeCast(a.populateOperationalLayers(f.layers,
b.layers,{context:{origin:m,url:n,portal:g,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})));return t.eachAlways(c)}).then(function(){})};f.prototype._importElevationQuery=function(){return t.create(function(b){a(["./layers/support/ElevationQuery"],b)})};var q;k([v.property({type:z.default,json:{read:!1}}),v.cast(g.castForReferenceSetter)],f.prototype,"layers",null);k([v.writer("layers")],f.prototype,"writeLayers",null);k([v.property({readOnly:!0})],f.prototype,
"resourceInfo",void 0);k([v.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:x.Integer,read:{reader:y.transparencyToOpacity,source:"transparency"},write:{writer:function(a,b){b.transparency=y.opacityToTransparency(a)},target:"transparency"}}})],f.prototype,"opacity",void 0);k([v.property({type:h,json:{type:[x.Integer],write:function(a,b){b.surfaceColor=a.toJSON().slice(0,3)}}})],f.prototype,"surfaceColor",void 0);k([v.property({type:u.NavigationConstraint,json:{write:!0}})],f.prototype,
"navigationConstraint",void 0);return f=q=k([v.subclass("esri.Ground")],f)}(v.declared(f,r))})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,l,e){function k(a){return l.clamp(e.ensureInteger(a),0,255)}function h(a,b,c){a=Number(a);return isNaN(a)?c:a<b?b:a>c?c:a}function d(a,b,c){0>c&&++c;1<c&&--c;var d=6*c;return 1>d?a+(b-a)*d:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}a=function(){function a(a){this.b=this.g=this.r=255;this.a=1;
a&&this.setColor(a)}a.blendColors=function(b,c,d,e){void 0===e&&(e=new a);e.r=Math.round(b.r+(c.r-b.r)*d);e.g=Math.round(b.g+(c.g-b.g)*d);e.b=Math.round(b.b+(c.b-b.b)*d);e.a=b.a+(c.a-b.a)*d;return e._sanitize()};a.fromRgb=function(b,c){var e=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(e){b=e[2].split(/\s*,\s*/);e=e[1];if("rgb"===e&&3===b.length||"rgba"===e&&4===b.length)return e=b[0],"%"===e.charAt(e.length-1)?(e=b.map(function(a){return 2.56*parseFloat(a)}),4===b.length&&(e[3]=
parseFloat(b[3])),a.fromArray(e,c)):a.fromArray(b.map(function(a){return parseFloat(a)}),c);if("hsl"===e&&3===b.length||"hsla"===e&&4===b.length){var e=(parseFloat(b[0])%360+360)%360/360,g=parseFloat(b[1])/100,n=parseFloat(b[2])/100,g=.5>=n?n*(g+1):n+g-n*g,n=2*n-g,e=[256*d(n,g,e+1/3),256*d(n,g,e),256*d(n,g,e-1/3),1];4===b.length&&(e[3]=parseFloat(b[3]));return a.fromArray(e,c)}}return null};a.fromHex=function(b,c){void 0===c&&(c=new a);var d=4===b.length?4:8,e=(1<<d)-1,g=Number("0x"+b.substr(1));
if(isNaN(g))return null;["b","g","r"].forEach(function(a){var b=g&e;g>>=d;c[a]=4===d?17*b:b});c.a=1;return c};a.fromArray=function(b,c){void 0===c&&(c=new a);c._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(c.a)&&(c.a=1);return c._sanitize()};a.fromString=function(b,c){var d=a.named[b];return d&&a.fromArray(d,c)||a.fromRgb(b,c)||a.fromHex(b,c)};a.toJSON=function(a){return a&&[k(a.r),k(a.g),k(a.b),1<a.a?a.a:k(255*a.a)]};a.fromJSON=function(b){return b&&new a([b[0],b[1],b[2],b[3]/255])};
a.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};a.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};a.prototype.setColor=function(b){"string"===typeof b?a.fromString(b,this):Array.isArray(b)?a.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),
d=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>d.length?"0"+d:d)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return[k(this.r),k(this.g),k(this.b),1<this.a?this.a:k(255*this.a)]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype._sanitize=function(){this.r=Math.round(h(this.r,
0,255));this.g=Math.round(h(this.g,0,255));this.b=Math.round(h(this.b,0,255));this.a=h(this.a,0,1);return this};a.prototype._set=function(a,b,d,e){this.r=a;this.g=b;this.b=d;this.a=e};a.named={transparent:[0,0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,
248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,
0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],
forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,
211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,
250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,
221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,
222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();a.prototype.declaredClass="esri.Color";return a})},"esri/core/mathUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};b.isNaN=Number.isNaN||function(a){return a!==a};b.nextHighestPowerOfTwo=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};b.clamp=function(a,b,k){return a<b?
b:a>k?k:a}})},"esri/ground/NavigationConstraint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this)||this;b.type="none";return b}l(b,a);d=b;b.prototype.clone=function(){return new d({type:this.type})};var d;e([h.enumeration.serializable()({none:"none",stayAbove:"stay-above"})],
b.prototype,"type",void 0);return b=d=e([h.subclass("esri.ground.NavigationConstraint")],b)}(h.declared(k));b.NavigationConstraint=a})},"esri/layers/BaseElevationLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../geometry ../core/Error ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/support/aaBoundingRect ./Layer ./support/TileInfo".split(" "),function(a,
b,l,e,k,h,d,g,n,c,f,p,r){var m={id:"0/0/0",level:0,row:0,col:0,extent:null};return function(b){function q(){var a=null!==b&&b.apply(this,arguments)||this;a.tileInfo=r.create({spatialReference:d.SpatialReference.WebMercator,size:256});a.fullExtent=new d.Extent(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,d.SpatialReference.WebMercator);a.spatialReference=d.SpatialReference.WebMercator;a.type="base-elevation";return a}l(q,b);q.prototype.getTileBounds=function(a,b,c,d){d=d||
f.ZERO;m.level=a;m.row=b;m.col=c;m.extent=d;this.tileInfo.updateTileInfo(m);m.extent=null;return d};q.prototype.fetchTile=function(a,b,c,d){throw new g("BaseElevationLayer:fetchtile-not-implemented","fetchTile() is not implemented");};q.prototype.queryElevation=function(a,b){var c=this;return this._importElevationQuery().then(function(d){return(new d.ElevationQuery).query(c,a,b)})};q.prototype.createElevationSampler=function(a,b){var c=this;return this._importElevationQuery().then(function(d){return(new d.ElevationQuery).createSampler(c,
a,b)})};q.prototype.importLayerViewModule=function(b){return h(this,void 0,void 0,function(){return k(this,function(c){switch(b.type){case "2d":return[2,n.reject(new g("base-elevation-layer:view-not-supported","BaseElevationLayer is only supported in 3D"))];case "3d":return[2,n.create(function(b){return a(["../views/3d/layers/ElevationLayerView3D"],b)})]}return[2]})})};q.prototype._importElevationQuery=function(){return n.create(function(b){a(["./support/ElevationQuery"],b)})};e([c.property({type:r})],
q.prototype,"tileInfo",void 0);e([c.property({type:["show","hide"]})],q.prototype,"listMode",void 0);e([c.property()],q.prototype,"fullExtent",void 0);e([c.property()],q.prototype,"spatialReference",void 0);e([c.property({readOnly:!0,value:"base-elevation"})],q.prototype,"type",void 0);return q=e([c.subclass("esri.layers.BaseElevationLayer")],q)}(c.declared(p))})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=k;b.BaseGeometry=h;b.Multipoint=d;b.Point=g;b.Polygon=n;b.Polyline=c;b.SpatialReference=f;b.isGeometry=function(a){return a instanceof b.BaseGeometry};b.fromJSON=p.fromJSON;b.typeKebabDictionary=l.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});b.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};b.featureGeometryTypeKebabDictionary=l.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b.geometryTypes={base:b.BaseGeometry,key:"type",typeMap:{extent:b.Extent,multipoint:b.Multipoint,point:b.Point,polyline:b.Polyline,polygon:b.Polygon}};b.ensureType=e.ensureOneOfType(b.geometryTypes)})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c){function f(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.points=[];b.type="multipoint";return b}l(b,a);m=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&(c.spatialReference=
a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new d,c=this.hasZ,e=this.hasM,m=c?3:2,g=a[0],n=f(Math.min),h=f(Math.max),p=g[0],k=g[1],r=g[0],g=g[1],l,E,F,G,H=0,O=a.length;H<O;H++){var I=
a[H],L=I[0],J=I[1],p=n(p,L),k=n(k,J),r=h(r,L),g=h(g,J);c&&2<I.length&&(L=I[2],l=n(l,L),F=h(F,L));e&&I.length>m&&(I=I[m],E=n(E,I),G=h(G,I))}b.xmin=p;b.ymin=k;b.xmax=r;b.ymax=g;b.spatialReference=this.spatialReference;c?(b.zmin=l,b.zmax=F):(b.zmin=null,b.zmax=null);e?(b.mmin=E,b.mmax=G):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,b,c,d){b.points=k.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();c.updateSupportFromPoint(this,
a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:k.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new m(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new n(b)};b.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;
this.clearCache();return new n(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();c.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var m;e([h.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);e([h.property({dependsOn:["cache"]})],
b.prototype,"extent",null);e([h.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);e([h.writer("points")],b.prototype,"writePoints",null);return b=m=e([h.subclass("esri.geometry.Multipoint")],b)}(h.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.updateSupportFromPoint=function(a,b,k){void 0===k&&(k=!1);var e=a.hasM,
d=a.hasZ;Array.isArray(b)?4!==b.length||e||d?3===b.length&&k&&!e?(d=!0,e=!1):3===b.length&&e&&d&&(d=e=!1):d=e=!0:(d=!d&&b.hasZ&&(!e||b.hasM),e=!e&&b.hasM&&(!d||b.hasZ));a.hasZ=d;a.hasM=e}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x){a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.rings=[];b.type="polygon";return b}l(b,a);n=b;b.createEllipse=function(a){var b=a.center.x,c=a.center.y,d=a.center.z,e=a.center.m,f=a.center.hasZ,m=a.center.hasM,g=a.longAxis,q=a.shortAxis,p=a.numberOfPoints;a=a.view;for(var k=[],t=2*Math.PI/p,v=f?3:2,r=0;r<p;r++){var l=a.toMap(h.createScreenPoint(g*Math.cos(r*t)+b,q*Math.sin(r*t)+c)),l=[l.x,l.y];f&&(l[2]=d);m&&(l[v]=
e);k.push(l)}k.push(k[0]);return new n({rings:[k],spatialReference:a.spatialReference})};b.createCircle=function(a){return n.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,d=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(d=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var e=
a.zmin+.5*(a.zmax-a.zmin),f=0;f<b.length;f++)b[f].push(e);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),f=0;f<b.length;f++)b[f].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);d&&(b.hasM=!0);return new n(b)};b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,e,m=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),d=a.hasZ,e=a.hasM):c=a;c=c||[];b=b||f.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(m=c[0]&&
c[0][0])void 0===d&&void 0===e?(d=2<m.length,e=!1):void 0===d?d=!e&&3<m.length:void 0===e&&(e=!d&&3<m.length);return{rings:c,spatialReference:b,hasZ:d,hasM:e}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=p.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new c;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=
this.spatialReference,b=q.getPolygonExtent(this);if(!b)return null;b=new g(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return t.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,d){b.rings=k.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],e=0,f=
a.length;e<f;e++)d[e]=a[e].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new n;a.spatialReference=this.spatialReference;a.rings=k.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;v.canProject(a,this.spatialReference)&&(a=v.project(a,this.spatialReference));return r.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:
[a.x,a.y,a.z]:[a.x,a.y]});return m.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var d=this.hasM;return b&&!d?new c(a[0],a[1],a[2],void 0,this.spatialReference):d&&!b?new c(a[0],a[1],void 0,a[2],this.spatialReference):b&&d?new c(a[0],a[1],a[2],a[3],this.spatialReference):new c(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();
x.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new c(this.rings[a].splice(b,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new c(a,b)})};b.prototype.setPoint=function(a,
b,c){if(!this._validateInputs(a,b))return this;this.clearCache();x.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var n;e([d.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);e([d.property({readOnly:!0,
dependsOn:["cache"]})],b.prototype,"centroid",null);e([d.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);e([d.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);e([d.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);e([d.writer("rings")],b.prototype,"writePaths",null);return b=n=e([d.subclass("esri.geometry.Polygon")],b)}(d.declared(n));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/core/screenUtils":function(){define(["require",
"exports","./compilerUtils"],function(a,b,l){function e(a){return a?72*a/b.DPI:0}function k(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function h(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function d(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function g(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function n(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function c(a){return k(a.x,a.y)}function f(a,b){a=(a instanceof HTMLElement?a:
a.surface).getBoundingClientRect();return k(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(b,"__esModule",{value:!0});var p=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.DPI=96;b.pt2px=function(a){return a?a/72*b.DPI:0};b.px2pt=e;b.toPt=function(a){if("string"===typeof a){if(p.test(a)){var b=a.match(p),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?e(c):c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};b.createScreenPoint=k;b.createScreenPointArray=
h;b.createRenderScreenPoint=d;b.createRenderScreenPointArray=g;b.createRenderScreenPointArray3=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return[a,b,c]};b.castRenderScreenPointArray=function(a){return a};b.castRenderScreenPointArray3=function(a){return a};b.castScreenPointArray=function(a){return a};b.screenToRender=function(a,b,c){var e,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=b.x*a;f=b.y*a;break;case "3d":n(b,m),a.state.camera.screenToRender(m,r),e=r[0],
f=r[1]}return c?(c.x=e,c.y=f,c):d(e,f)};b.renderToScreen=function(a,b,c){var d,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x/a;e=b.y/a;break;case "3d":n(b,r),a.state.camera.renderToScreen(r,m),d=m[0],e=m[1]}return c?(c.x=d,c.y=e,c):k(d,e)};b.screenArrayToRender=function(a,b,c){var d,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]*a;e=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,r),d=r[0],e=r[1]}return c?(c[0]=d,c[1]=e,2<c.length&&(c[2]=0),c):g(d,e)};b.renderArrayToScreen=
function(a,b,c){var d,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]/a;e=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,m),d=m[0],e=m[1]}return c?(c[0]=d,c[1]=e,c):h(d,e)};b.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};b.screenPointObjectToArray=n;b.createScreenPointFromEvent=c;b.createScreenPointFromNativeEvent=f;b.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?f(a,b):c(b)};b.isSupportedScreenPointEvent=
function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:l.neverReachedSilent(a)}return!1};var r=g(),m=h()})},"esri/geometry/support/centroid":function(){define(["require",
"exports","./coordsUtils"],function(a,b,l){function e(a,b){if(!a||!a.length)return null;for(var d=[],c=[],e=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],g=0,r=a.length;g<r;g++){var m=k(a[g],b,e);m&&c.push(m)}c.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});c.length&&(g=6*c[0][2],d[0]=c[0][0]/g,d[1]=c[0][1]/g,b&&(g=6*c[0][4],d[2]=0!==g?c[0][3]/g:0),d[0]<e[0]||d[0]>e[1]||d[1]<e[2]||d[1]>e[3]||b&&(d[2]<e[4]||d[2]>e[5]))&&
(d.length=0);if(!d.length)if(a=a[0]&&a[0].length?h(a[0],b):null)d[0]=a[0],d[1]=a[1],b&&2<a.length&&(d[2]=a[2]);else return null;return d}function k(a,b,e){for(var c=0,d=0,g=0,n=0,m=0,h=0,k=a.length-1;h<k;h++){var l=a[h],x=l[0],u=l[1],w=l[2],z=a[h+1],A=z[0],y=z[1],B=z[2],D=x*y-A*u,n=n+D,c=c+(x+A)*D,d=d+(u+y)*D;b&&2<l.length&&2<z.length&&(D=x*B-A*w,g+=(w+B)*D,m+=D);x<e[0]&&(e[0]=x);x>e[1]&&(e[1]=x);u<e[2]&&(e[2]=u);u>e[3]&&(e[3]=u);b&&(w<e[4]&&(e[4]=w),w>e[5]&&(e[5]=w))}0<n&&(n*=-1);0<m&&(m*=-1);if(!n)return null;
a=[c,d,.5*n];b&&(a[3]=g,a[4]=.5*m);return a}function h(a,b){for(var d=b?[0,0,0]:[0,0],c=b?[0,0,0]:[0,0],e=0,g=0,h=0,m=0,q=0,k=a.length;q<k-1;q++){var v=a[q],x=a[q+1];if(v&&x){d[0]=v[0];d[1]=v[1];c[0]=x[0];c[1]=x[1];b&&2<v.length&&2<x.length&&(d[2]=v[2],c[2]=x[2]);var u=l.getLength(d,c);u&&(e+=u,v=l.getMidpoint(v,x),g+=u*v[0],h+=u*v[1],b&&2<v.length&&(m+=u*v[2]))}}return 0<e?b?[g/e,h/e,m/e]:[g/e,h/e]:a.length?a[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(a){return a?
a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};b.polygonCentroid=function(a){return a?e(a.rings,a.hasZ):null};b.ringsCentroid=e;b.lineCentroid=h})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(a,b,l){function e(a,b){var d=b[0]-a[0],c=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(d*d+c*c+a*a)):Math.sqrt(d*d+c*c)}function k(a,b,e){var c=a[0]+e*(b[0]-a[0]),d=a[1]+e*(b[1]-
a[1]);return 2<a.length&&2<b.length?[c,d,a[2]+e*(b[2]-a[2])]:[c,d]}function h(a,b){if(b=l.getInfo(b)){var d=b.valid[0],c=b.valid[1],e=c-d;b=function(a){var b=Infinity,f=-Infinity;a.forEach(function(a){for(var m=a[0];m<d;)m+=e;for(;m>c;)m-=e;b=Math.min(b,m);f=Math.max(f,m);a[0]=m});var g=f-b;e-g<g&&a.forEach(function(a){0>a[0]&&(a[0]+=e)})};for(var g=0;g<a.length;g++)b(a[g])}}Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;
var b=a.hasZ,d=a.hasM;if("point"===a.type)return d&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:d?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var c=!1,e=!1;a.forEach(function(a){a.hasZ&&(c=!0);a.hasM&&(e=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];
if(c&&a.hasZ)for(var d=.5*(a.zmax-a.zmin),f=0;f<b.length;f++)b[f].push(d);if(e&&a.hasM)for(a=.5*(a.mmax-a.mmin),f=0;f<b.length;f++)b[f].push(a);return b})}return null};b.getLength=e;b.getMidpoint=function(a,b){return k(a,b,.5)};b.getPathLength=function(a){for(var b=a.length,d=0,c=0;c<b-1;++c)d+=e(a[c],a[c+1]);return d};b.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var d=a.length,c=0,f=0;f<d-1;++f){var g=e(a[f],a[f+1]);if(b-c<g)return k(a[f],a[f+1],(b-c)/g);c+=g}return a[d-1]};b.isClockwise=
function(a,b,e){for(var c=a.length,d=0,g=0,n=0,m=0;m<c;m++){var h=a[m],k=a[(m+1)%c],l=2,d=d+(h[0]*k[1]-k[0]*h[1]);2<h.length&&2<k.length&&e&&(g+=h[0]*k[2]-k[0]*h[2],l=3);h.length>l&&k.length>l&&b&&(n+=h[0]*k[l]-k[0]*h[l])}return 0>=d&&0>=g&&0>=n};b.getRingArea=function(a){for(var b=a.length,d=0,c=0;c<b;c++)var e=a[c],h=a[(c+1)%b],d=d+(e[0]*h[1]-h[0]*e[1]);return d};b.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;h("polygon"===a.type?a.rings:
a.paths,a.spatialReference);return a};b.unnormalizeVerticesOnDatelineCrossing=h;b.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,e,c){var d=Infinity,g=-Infinity;a.forEach(function(a){for(var f=a.pos[0];f<b;)f+=c;for(;f>e;)f-=c;d=Math.min(d,f);g=Math.max(g,f);a.unnormalizedPos[0]=f;a.unnormalizedPos[1]=a.pos[1]});var n=g-d;c-n<n&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=c)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports",
"./boundsUtils"],function(a,b,l){function e(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!1);return b?d?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:d?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function k(a){var b=a.hasZ,c=a.hasM;return e(l.getPointsBounds(n,a.points,b,c),b,c)}function h(a){var b=a.x,c=a.y,d=a.z;a=a.m;var e=null!=a;return null!=
d?e?{xmin:b,ymin:c,zmin:d,mmin:a,xmax:b,ymax:c,zmax:d,mmax:a}:{xmin:b,ymin:c,zmin:d,xmax:b,ymax:c,zmax:d}:e?{xmin:b,ymin:c,mmin:a,xmax:b,ymax:c,mmax:a}:{xmin:b,ymin:c,xmax:b,ymax:c}}function d(a){var b=a.hasZ,c=a.hasM;return(a=l.getRingsOrPathsBounds(n,a.rings,b,c))?e(a,b,c):null}function g(a){var b=a.hasZ,c=a.hasM;return(a=l.getRingsOrPathsBounds(n,a.paths,b,c))?e(a,b,c):null}Object.defineProperty(b,"__esModule",{value:!0});var n=[];b.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==
a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?h(a):void 0!==a.rings?d(a):void 0!==a.paths?g(a):void 0!==a.points?k(a):null:null};b.getMultipointExtent=k;b.getPointExtent=h;b.getPolygonExtent=d;b.getPolylineExtent=g})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(a,b){function l(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}function e(a,b,e,h){var c=e?3:2;if(!b.length||!b[0].length)return null;for(var f=b[0][0],n=f[0],f=f[1],
k=b[0][0],p=k[0],k=k[1],l=void 0,u=void 0,w=void 0,z=void 0,A=0;A<b.length;A++)for(var y=b[A],B=0;B<y.length;B++){var D=y[B],C=D[0],E=D[1],n=d(n,C),f=d(f,E),p=g(p,C),k=g(k,E);e&&2<D.length&&(C=D[2],l=d(l,C),u=g(u,C));h&&D.length>c&&(z=D[c],w=d(l,z),z=g(u,z))}if(e){if(h)return a[0]=n,a[1]=f,a[2]=l,a[3]=w,a[4]=p,a[5]=k,a[6]=u,a[7]=z,a.length=8,a;a[0]=n;a[1]=f;a[2]=l;a[3]=p;a[4]=k;a[5]=u;a.length=6;return a}if(h)return a[0]=n,a[1]=f,a[2]=w,a[3]=p,a[4]=k,a[5]=z,a.length=6,a;a[0]=n;a[1]=f;a[2]=p;a[3]=
k;a.length=4;return a}function k(a,b,d,e,g,m){d=b.xmin;e=b.xmax;var c=b.ymin,f=b.ymax,n=b.zmin,h=b.zmax,k=b.mmin;b=b.mmax;if(g){n=n||0;h=h||0;if(m)return a[0]=d,a[1]=c,a[2]=n,a[3]=k||0,a[4]=e,a[5]=f,a[6]=h,a[7]=b||0,a;a[0]=d;a[1]=c;a[2]=n;a[3]=e;a[4]=f;a[5]=h;return a}if(m)return a[0]=d,a[1]=c,a[2]=k||0,a[3]=e,a[4]=f,a[5]=b||0,a;a[0]=d;a[1]=c;a[2]=e;a[3]=f;return a}function h(a,b,e,h,k,m){var c=e?3:2;h=h&&m;e=e&&k;if(!b.length||!b[0].length)return null;for(var f=b[0],n=f[0],f=f[1],p=b[0],l=p[0],p=
p[1],r=void 0,z=void 0,A=void 0,y=void 0,B=0;B<b.length;B++){var D=b[B],C=D[0],E=D[1],n=d(n,C),f=d(f,E),l=g(l,C),p=g(p,E);e&&2<D.length&&(C=D[2],r=d(r,C),z=g(z,C));h&&D.length>c&&(y=D[c],A=d(r,y),y=g(z,y))}if(k){r=r||0;z=z||0;if(m)return a[0]=n,a[1]=f,a[2]=r,a[3]=A||0,a[4]=l,a[5]=p,a[6]=z,a[7]=y||0,a;a[0]=n;a[1]=f;a[2]=r;a[3]=l;a[4]=p;a[5]=z;return a}if(m)return a[0]=n,a[1]=f,a[2]=A||0,a[3]=l,a[4]=p,a[5]=y||0,a;a[0]=n;a[1]=f;a[2]=l;a[3]=p;return a}Object.defineProperty(b,"__esModule",{value:!0});
var d=l(Math.min),g=l(Math.max);b.getBoundsXY=function(a,b){if(void 0!==b.paths)return e(a,b.paths,!1,!1);if(void 0!==b.rings)return e(a,b.rings,!1,!1);if(void 0!==b.points)return h(a,b.points,!1,!1,!1,!1);if(void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax)return k(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};b.getRingsOrPathsBounds=e;b.getExtentBounds=k;b.getPointsBounds=h;b.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;
for(var b=a[0][0],e=a[0][0],n=0;n<a.length;n++)var h=a[n][0],b=d(b,h),e=g(e,h);return e-b};b.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],e=a[0][0],n=0;n<a.length;n++)var h=a[n][0],b=d(b,h),e=g(e,h);return b+.5*(e-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.paths=[];b.type="polyline";return b}l(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,b){var d=null,e,f,m=null;a&&!Array.isArray(a)?(d=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),e=a.hasZ,f=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(m=d[0]&&d[0][0])void 0===e&&void 0===f?(e=2<m.length,
f=!1):void 0===e?e=!f&&3<m.length:void 0===f&&(f=!e&&3<m.length);return{paths:d,spatialReference:b,hasZ:e,hasM:f}};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=f.getPolylineExtent(this);if(!b)return null;b=new d(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,d){b.paths=k.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=
a.concat();else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new g;a.spatialReference=this.spatialReference;a.paths=k.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new n(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new n(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new n(a[0],
a[1],a[2],a[3],this.spatialReference):new n(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();p.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new n(a,b)})};b.prototype.removePoint=
function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new n(this.paths[a].splice(b,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();p.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=
a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var g;e([h.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);e([h.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);e([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);e([h.writer("paths")],b.prototype,"writePaths",null);return b=g=e([h.subclass("esri.geometry.Polyline")],b)}(h.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},
"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,l,e,k,h,d,g){function n(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function c(a){return void 0!==a.points}function f(a){return void 0!==a.x&&void 0!==a.y}function p(a){return void 0!==a.paths}function r(a){return void 0!==a.rings}function m(a){return a?a instanceof e?a:f(a)?h.fromJSON(a):p(a)?g.fromJSON(a):
r(a)?d.fromJSON(a):c(a)?k.fromJSON(a):n(a)?l.fromJSON(a):null:null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(v){console.warn(v.stack)}return m(a)};b.isExtent=n;b.isMultipoint=c;b.isPoint=f;b.isPolyline=p;b.isPolygon=r;b.isMesh=function(a){return void 0!==a.vertexAttributes};b.fromJSON=m;b.getJsonType=function(a){return a?f(a)?"esriGeometryPoint":p(a)?"esriGeometryPolyline":r(a)?"esriGeometryPolygon":
n(a)?"esriGeometryEnvelope":c(a)?"esriGeometryMultipoint":null:null};var q={esriGeometryPoint:h,esriGeometryPolyline:g,esriGeometryPolygon:d,esriGeometryEnvelope:l,esriGeometryMultipoint:k};b.getGeometryType=function(a){return a&&q[a]||null}})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(a,b,l,e){function k(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function h(a){return a[0]>=a[2]?0:a[2]-a[0]}function d(a){return a[1]>=
a[3]?0:a[3]-a[1]}function g(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function n(a){return 4===a.length}function c(a,b,c){return a<b?b:a>c?c:a}Object.defineProperty(b,"__esModule",{value:!0});b.create=k;b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,b,c,d,e){void 0===e&&(e=k());e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e};b.fromExtent=function(a,b){void 0===b&&(b=k());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};b.toExtent=function(a,b){return new e({xmin:a[0],
ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};b.expand=function(a,b,c){void 0===c&&(c=a);if("length"in b)if(n(b))c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.max(a[2],b[2]),c[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.max(a[2],b[0]),c[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":c[0]=
Math.min(a[0],b.xmin);c[1]=Math.min(a[1],b.ymin);c[2]=Math.max(a[2],b.xmax);c[3]=Math.max(a[3],b.ymax);break;case "point":c[0]=Math.min(a[0],b.x);c[1]=Math.min(a[1],b.y);c[2]=Math.max(a[2],b.x);c[3]=Math.max(a[3],b.y);break;default:l.neverReached(b)}return c};b.expandWithNestedArray=function(a,b,c){void 0===c&&(c=a);var d=b.length,e=a[0],f=a[1],g=a[2];a=a[3];for(var n=0;n<d;n++){var h=b[n],e=Math.min(e,h[0]),f=Math.min(f,h[1]),g=Math.max(g,h[0]);a=Math.max(a,h[1])}c[0]=e;c[1]=f;c[2]=g;c[3]=a;return c};
b.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=h;b.height=d;b.diameter=function(a){var b=h(a);a=d(a);return Math.sqrt(b*b+a*a)};b.area=function(a){return h(a)*d(a)};b.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+h(a)/2;b[1]=a[1]+d(a)/2;return b};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};b.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[0]<=a[2]+c&&b[1]<=a[3]+c};b.intersects=function(a,
b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};b.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};b.intersection=function(a,b,d){void 0===d&&(d=a);var e=b[0],f=b[1],g=b[2];b=b[3];d[0]=c(a[0],e,g);d[1]=c(a[1],f,b);d[2]=c(a[2],e,g);d[3]=c(a[3],f,b);return d};b.distance=function(a,b){var c=(a[1]+a[3])/2,e=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-h(a)/2,0);a=Math.max(Math.abs(b[1]-c)-d(a)/2,0);return Math.sqrt(e*e+a*a)};b.size=function(a,
b){b[0]=a[2]-a[0];b[1]=a[3]-a[1]};b.offset=function(a,b,c,d){void 0===d&&(d=a);d[0]=a[0]+b;d[1]=a[1]+c;d[2]=a[2]+b;d[3]=a[3]+c;return d};b.pad=function(a,b,c){void 0===c&&(c=a);c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]+b;c[3]=a[3]+b;return c};b.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c!==a&&(c[2]=a[2],c[3]=a[3]);return c};b.setMax=function(a,b,c){void 0===c&&(c=a);c[2]=b[0];c[3]=b[1];c!==a&&(c[0]=a[0],c[1]=a[1]);return a};b.set=g;b.empty=function(a){return a?g(a,b.NEGATIVE_INFINITY):
k(b.NEGATIVE_INFINITY)};b.is=n;b.isPoint=function(a){return(0===h(a)||!isFinite(a[0]))&&(0===d(a)||!isFinite(a[1]))};b.equals=function(a,b,c){if(null==a||null==b)return a===b;if(!n(a)||!n(b))return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0];b.UNIT=[0,0,1,1]})},"esri/layers/support/TileInfo":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../geometry/support/aaBoundingRect ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils ./LOD".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q){var t=new d.default({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",pbf:"pbf"});return function(a){function b(b){b=a.call(this)||this;b.dpi=96;b.format=null;b.origin=null;b.minScale=0;b.maxScale=0;b.size=null;b.spatialReference=null;return b}e(b,a);d=b;b.create=function(a){void 0===a&&(a={size:256,spatialReference:h.SpatialReference.WebMercator});
var b=a.resolutionFactor||1,c=a.scales,e=a.size||256;a=a.spatialReference||h.SpatialReference.WebMercator;if(!r.isValid(a)){b=[];if(c)for(var f=0;f<c.length;f++){var m=c[f];b.push({level:f,scale:m,resolution:m})}else for(var g=5E-4,f=23;0<=f;f--)b.unshift({level:f,scale:g,resolution:g}),g*=2;return new d({dpi:96,lods:b,origin:new h.Point(0,0,a),size:[e,e],spatialReference:a})}var k=(f=r.getInfo(a))?new h.Point(f.origin[0],f.origin[1],a):new h.Point(0,0,a),q=1/(39.37*n.getMetersPerUnitForSR(a)*96),
p=[];if(c)for(f=0;f<c.length;f++)m=c[f],g=m*q,p.push({level:f,scale:m,resolution:g});else for(m=r.isGeographic(a)?512/e*5.916575275917094E8:256/e*5.91657527591555E8,c=Math.ceil(24/b),p.push({level:0,scale:m,resolution:m*q}),f=1;f<c;f++)m/=Math.pow(2,b),g=m*q,p.push({level:f,scale:m,resolution:g});return new d({dpi:96,lods:p,origin:k,size:[e,e],spatialReference:a})};Object.defineProperty(b.prototype,"isWrappable",{get:function(){var a=this.spatialReference,b=this.origin;if(a&&b){var c=r.getInfo(a);
return a.isWrappable&&Math.abs(c.origin[0]-b.x)<=c.dx}return!1},enumerable:!0,configurable:!0});b.prototype.readOrigin=function(a,b){return h.Point.fromJSON(l({spatialReference:b.spatialReference},a))};Object.defineProperty(b.prototype,"lods",{set:function(a){var b=this,c=0,d=0,e=[];this._levelToLOD={};a&&(c=-Infinity,d=Infinity,a.forEach(function(a){e.push(a.scale);c=a.scale>c?a.scale:c;d=a.scale<d?a.scale:d;b._levelToLOD[a.level]=a}));this._set("scales",e);this._set("minScale",c);this._set("maxScale",
d);this._set("lods",a);this._initializeUpsampleLevels()},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return[b.cols,b.rows]};b.prototype.writeSize=function(a,b){b.cols=a[0];b.rows=a[0]};b.prototype.zoomToScale=function(a){var b=this.scales;if(0>=a)return b[0];if(a>=b.length)return b[b.length-1];var c=Math.round(a);return b[c]+(c-a)*(b[Math.round(a-.5)]-b[c])};b.prototype.scaleToZoom=function(a){for(var b=this.scales,c=b.length-1,d=0;d<c;d++){var e=b[d],f=b[d+1];if(e<=a)break;
if(f===a)return d+1;if(e>a&&f<a)return d+1-(a-f)/(e-f)}return d};b.prototype.snapScale=function(a,b){void 0===b&&(b=.95);a=this.scaleToZoom(a);return a%Math.floor(a)>=b?this.zoomToScale(Math.ceil(a)):this.zoomToScale(Math.floor(a))};b.prototype.tileAt=function(a,b,c,d){var e=this.lodAt(a);if(!e)return null;var f;if("number"===typeof b)f=b,b=c;else{if(r.equals(b.spatialReference,this.spatialReference))f=b.x,b=b.y;else{d=m.project(b,this.spatialReference);if(!d)return null;f=d.x;b=d.y}d=c}c=e.resolution*
this.size[0];e=e.resolution*this.size[1];d||(d={id:null,level:0,row:0,col:0,extent:p.create()});d.level=a;d.row=Math.floor((this.origin.y-b)/e+.001);d.col=Math.floor((f-this.origin.x)/c+.001);this.updateTileInfo(d);return d};b.prototype.updateTileInfo=function(a){var b=this.lodAt(a.level);if(b){var c=b.resolution*this.size[0],b=b.resolution*this.size[1];a.id=a.level+"/"+a.row+"/"+a.col;a.extent||(a.extent=p.create());a.extent[0]=this.origin.x+a.col*c;a.extent[1]=this.origin.y-(a.row+1)*b;a.extent[2]=
a.extent[0]+c;a.extent[3]=a.extent[1]+b}};b.prototype.upsampleTile=function(a){var b=this._upsampleLevels[a.level];if(!b||-1===b.parentLevel)return!1;a.level=b.parentLevel;a.row=Math.floor(a.row/b.factor+.001);a.col=Math.floor(a.col/b.factor+.001);this.updateTileInfo(a);return!0};b.prototype.getTileBounds=function(a,b){var c=this.lodAt(b.level).resolution,d=c*this.size[0],c=c*this.size[1];a[0]=this.origin.x+b.col*d;a[1]=this.origin.y-(b.row+1)*c;a[2]=a[0]+d;a[3]=a[1]+c;return a};b.prototype.lodAt=
function(a){return this._levelToLOD&&this._levelToLOD[a]||null};b.prototype.clone=function(){return d.fromJSON(this.write({}))};b.prototype._initializeUpsampleLevels=function(){var a=this.lods;this._upsampleLevels=[];for(var b=null,c=0;c<a.length;c++){var d=a[c];this._upsampleLevels[d.level]={parentLevel:b?b.level:-1,factor:b?b.resolution/d.resolution:0};b=d}};var d;k([c.property({type:Number,json:{write:!0}})],b.prototype,"compressionQuality",void 0);k([c.property({type:Number,json:{write:!0}})],
b.prototype,"dpi",void 0);k([c.property({type:String,json:{read:t.read,write:t.write,origins:{"web-scene":{read:!1,write:!1}}}})],b.prototype,"format",void 0);k([c.property({readOnly:!0,dependsOn:["spatialReference","origin"]})],b.prototype,"isWrappable",null);k([c.property({type:h.Point,json:{write:!0}})],b.prototype,"origin",void 0);k([c.reader("origin")],b.prototype,"readOrigin",null);k([c.property({type:[q],value:null,json:{write:!0}})],b.prototype,"lods",null);k([c.property({readOnly:!0})],b.prototype,
"minScale",void 0);k([c.property({readOnly:!0})],b.prototype,"maxScale",void 0);k([c.property({readOnly:!0})],b.prototype,"scales",void 0);k([c.property({cast:function(a){return Array.isArray(a)?a:"number"===typeof a?[a,a]:[256,256]}})],b.prototype,"size",void 0);k([c.reader("size",["rows","cols"])],b.prototype,"readSize",null);k([c.writer("size",{cols:{type:f.Integer},rows:{type:f.Integer}})],b.prototype,"writeSize",null);k([c.property({type:h.SpatialReference,json:{write:!0}})],b.prototype,"spatialReference",
void 0);return b=d=k([c.subclass("esri.layers.support.TileInfo")],b)}(c.declared(g))})},"esri/core/unitUtils":function(){define("require exports @dojo/framework/shim/Set ./compilerUtils ./jsonMap ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,l,e,k,h,d){function g(a){if(a=y[a])return a;throw Error("unknown measure");}function n(a){return A[a].baseUnit}function c(a,b){void 0===b&&(b=null);b=b||g(a);return A[b].baseUnit===a}function f(a,b,d){if(b===d)return a;var e=
g(b);if(e!==g(d))throw Error("incompatible units");a=c(b,e)?a:a*A[e].units[b].inBaseUnits;return c(d,e)?a:a/A[e].units[d].inBaseUnits}function p(a){return z.fromJSON(a.toLowerCase())||null}function r(a,b){void 0===b&&(b=t);return m(a,!0)||b}function m(a,b){void 0===b&&(b=!1);var c,d,e;null!=a&&("object"===typeof a?(c=a.wkid,d=a.wkt):"number"===typeof a?c=a:"string"===typeof a&&(d=a));c?(e=u.values[u[c]],!e&&b&&w.has(c)&&(e=v)):d&&-1!==d.search(/^PROJCS/i)&&(a=x.exec(d))&&a[1]&&(e=parseFloat(a[1].split(",")[1]));
return e}function q(a){var b,c,d;null!=a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?d=u.units[u[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=x.exec(c))&&a[1]&&(d=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);return d?p(d):null}Object.defineProperty(b,"__esModule",{value:!0});b.inchesPerMeter=39.37;var t=h.wgs84Radius*Math.PI/180,v=h.wgs84Radius*Math.PI/200,x=/UNIT\[([^\]]+)\]\]$/i,u=d,w=new l.default([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,
4902,37225,104139,104140]),z=k.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});
a={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};l={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},
"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var A={length:{baseUnit:"meters",units:a},area:{baseUnit:"square-meters",units:l},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},
"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},y=function(){var a={},b;for(b in A)for(var c in A[b].units)a[c]=b;return a}();b.measureForUnit=g;b.baseUnitForMeasure=n;b.baseUnitForUnit=
function(a){return n(g(a))};b.isBaseUnit=c;b.convertUnit=f;b.preferredMetricLengthUnit=function(a,b){return 3E3>f(a,b,"meters")?"meters":"kilometers"};b.preferredMetricVerticalLengthUnit=function(a,b){return 1E5>f(a,b,"meters")?"meters":"kilometers"};b.preferredImperialLengthUnit=function(a,b){return 1E3>f(a,b,"feet")?"feet":"miles"};b.preferredImperialVerticalLengthUnit=function(a,b){return 1E5>f(a,b,"feet")?"feet":"miles"};b.preferredMetricAreaUnit=function(a,b){return 3E6>f(a,b,"square-meters")?
"square-meters":"square-kilometers"};b.preferredImperialAreaUnit=function(a,b){return 1E6>f(a,b,"square-feet")?"square-feet":"square-miles"};b.lengthToDegrees=function(a,b,c){void 0===c&&(c=h.wgs84Radius);return f(a,b,"meters")/(c*Math.PI/180)};b.unitFromRESTJSON=p;b.unitToRESTJSON=function(a){return z.toJSON(a)||null};b.getMetersPerVerticalUnitForSR=function(a){a=r(a);return 1E5<a?1:a};b.getVerticalUnitStringForSR=function(a){return 1E5<r(a)?"meters":q(a)};b.getMetersPerUnitForSR=r;b.getMetersPerUnit=
m;b.getUnitString=q;b.getDefaultUnitSystem=function(a){if(!a)return null;a=q(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:e.neverReached(a)}return null}})},
"@dojo/framework/shim/Set":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=a("tslib"),e=a("./global"),k=a("./iterator"),h=a("../has/has");a("./Symbol");b.Set=e.default.Set;h.default("es6-set")||(b.Set=(d=function(){function a(a){this._setData=
[];this[Symbol.toStringTag]="Set";if(a)if(k.isArrayLike(a))for(var b=0;b<a.length;b++)this.add(a[b]);else try{for(var b=l.__values(a),d=b.next();!d.done;d=b.next())this.add(d.value)}catch(m){e={error:m}}finally{try{d&&!d.done&&(g=b.return)&&g.call(b)}finally{if(e)throw e.error;}}var e,g}a.prototype.add=function(a){if(this.has(a))return this;this._setData.push(a);return this};a.prototype.clear=function(){this._setData.length=0};a.prototype.delete=function(a){a=this._setData.indexOf(a);if(-1===a)return!1;
this._setData.splice(a,1);return!0};a.prototype.entries=function(){return new k.ShimIterator(this._setData.map(function(a){return[a,a]}))};a.prototype.forEach=function(a,b){for(var c=this.values(),d=c.next();!d.done;)a.call(b,d.value,d.value,this),d=c.next()};a.prototype.has=function(a){return-1<this._setData.indexOf(a)};a.prototype.keys=function(){return new k.ShimIterator(this._setData)};Object.defineProperty(a.prototype,"size",{get:function(){return this._setData.length},enumerable:!0,configurable:!0});
a.prototype.values=function(){return new k.ShimIterator(this._setData)};a.prototype[Symbol.iterator]=function(){return new k.ShimIterator(this._setData)};return a}(),d[Symbol.species]=d,d));b.default=b.Set;var d})},"esri/layers/support/LOD":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(b){b=
a.call(this,b)||this;b.level=0;b.levelValue=null;b.resolution=0;b.scale=0;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})};var c;e([h.property({type:d.Integer,json:{write:!0}})],b.prototype,"level",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"levelValue",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"resolution",void 0);e([h.property({type:Number,json:{write:!0}})],
b.prototype,"scale",void 0);return b=c=e([h.subclass("esri.layers.support.LOD")],b)}(h.declared(k))})},"esri/layers/support/types":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isOfType=function(a,b){a=a.constructor._meta;if(!a||!a.bases)return!1;a=a.bases;var e=Array.isArray(b);return a.some(function(a){a=a.__accessorMetadata__;if(!a)return!1;a=a.properties;if(!a||!a.type||!a.type.value)return!1;a=a.type.value;return e?-1!==b.indexOf(a):
a===b})}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.opacityToTransparency=function(a){a=l.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};b.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/core/CollectionFlattener":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Collection ./Handles ./accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b._handles=new h;b.root=null;b.refresh=b.refresh.bind(b);b.updateCollections=b.updateCollections.bind(b);return b}l(b,a);b.prototype.initialize=function(){var a=this;this._handles.add(this.rootCollectionNames.map(function(b){return a.watch("root."+b,a.updateCollections,!0)}));this.updateCollections()};b.prototype.destroy=function(){this.root=null;this.refresh();this._handles.destroy();this._handles=null};b.prototype.updateCollections=
function(){var a=this;this._collections=this.rootCollectionNames.map(function(b){return a.get("root."+b)}).filter(function(a){return null!=a});this.refresh()};b.prototype.refresh=function(){var a=this._handles;a.remove("collections");this.removeAll();for(var b=[],d=[],e=0,m=this._collections;e<m.length;e++)this._processCollection(b,d,m[e]);this.push.apply(this,d);for(d=0;d<b.length;d++)a.add(b[d].on("after-changes",this.refresh),"collections")};b.prototype._createNewInstance=function(a){return new k(a)};
b.prototype._processCollection=function(a,b,d){var c=this;d&&(a.push(d),d.forEach(function(d){d&&(b.push(d),c._processCollection(a,b,c.getChildrenFunction(d)))}))};e([d.property()],b.prototype,"rootCollectionNames",void 0);e([d.property()],b.prototype,"root",void 0);e([d.property()],b.prototype,"getChildrenFunction",void 0);return b=e([d.subclass("esri.core.CollectionFlattener")],b)}(d.declared(k))})},"esri/core/Handles":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Accessor ./Collection ./accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b._groups=new Map;return b}l(b,a);b.prototype.destroy=function(){this.removeAll()};Object.defineProperty(b.prototype,"size",{get:function(){var a=0;this._groups.forEach(function(b){a+=b.length});return a},enumerable:!0,configurable:!0});b.prototype.add=function(a,b){var c=this;if(!this._isHandle(a)&&!Array.isArray(a)&&!h.isCollection(a))return this;var d=this._getOrCreateGroup(b);Array.isArray(a)||h.isCollection(a)?a.forEach(function(a){return c._isHandle(a)&&
d.push(a)}):d.push(a);this.notifyChange("size");return this};b.prototype.forEach=function(a,b){if("function"===typeof a)this._groups.forEach(function(b){return b.forEach(a)});else{var c=this._getGroup(a);c&&c.forEach(b)}};b.prototype.has=function(a){return this._groups.has(this._ensureGroupKey(a))};b.prototype.remove=function(a){if(Array.isArray(a)||h.isCollection(a))return a.forEach(this.remove,this),this;if(!this.has(a))return this;for(var b=this._getGroup(a),c=0;c<b.length;c++)b[c].remove();this._deleteGroup(a);
this.notifyChange("size");return this};b.prototype.removeAll=function(){this._groups.forEach(function(a){for(var b=0;b<a.length;b++)a[b].remove()});this._groups.clear();this.notifyChange("size");return this};b.prototype._isHandle=function(a){return a&&!!a.remove};b.prototype._getOrCreateGroup=function(a){if(this.has(a))return this._getGroup(a);var b=[];this._groups.set(this._ensureGroupKey(a),b);return b};b.prototype._getGroup=function(a){return this._groups.get(this._ensureGroupKey(a))};b.prototype._deleteGroup=
function(a){return this._groups.delete(this._ensureGroupKey(a))};b.prototype._ensureGroupKey=function(a){return a||"_default_"};e([d.property({readOnly:!0})],b.prototype,"size",null);return b=e([d.subclass("esri.core.Handles")],b)}(d.declared(k))})},"esri/support/basemapUtils":function(){define("require exports ../Basemap ../core/Collection ../core/Logger ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(a,b,l,e,k,h,d,g){function n(a,b){var c;if("string"===
typeof a){if(!(a in g))return b=Object.keys(g).map(function(a){return'"'+a+'"'}).join(", "),w.warn("Unable to find basemap definition for: "+a+". Try one of these: "+b),null;b&&(c=b[a]);c||(c=l.fromId(a),b&&(b[a]=c))}else c=d.default(l,a);return c}function c(a,b){return a.map(function(a){return b.find(function(b){return x(r(a),r(b))})||a})}function f(a){return a?!a.loaded&&a.resourceInfo?m(a.resourceInfo.data):{baseLayers:p(a.baseLayers),referenceLayers:p(a.referenceLayers)}:null}function p(a){return(e.isCollection(a)?
a.toArray():a).map(r)}function r(a){return{type:a.type,url:u("urlTemplate"in a&&a.urlTemplate||a.url||"styleUrl"in a&&a.styleUrl),minScale:"minScale"in a&&null!=a.minScale?a.minScale:0,maxScale:"maxScale"in a&&null!=a.maxScale?a.maxScale:0,opacity:null!=a.opacity?a.opacity:1,visible:null!=a.visible?!!a.visible:!0}}function m(a){return a?{baseLayers:q(a.baseMapLayers.filter(function(a){return!a.isReference})),referenceLayers:q(a.baseMapLayers.filter(function(a){return a.isReference}))}:null}function q(a){return a.map(function(a){var b;
switch(a.layerType){case "VectorTileLayer":b="vector-tile";break;case "ArcGISTiledMapServiceLayer":b="tile";break;default:b="unknown"}return{type:b,url:u(a.templateUrl||a.urlTemplate||a.styleUrl||a.url),minScale:null!=a.minScale?a.minScale:0,maxScale:null!=a.maxScale?a.maxScale:0,opacity:null!=a.opacity?a.opacity:1,visible:null!=a.visibility?!!a.visibility:!0}})}function t(a,b,c){return null!=a!==(null!=b)?"not-equal":a?v(a.baseLayers,b.baseLayers)?v(a.referenceLayers,b.referenceLayers)?"equal":c.mustMatchReferences?
"not-equal":"base-layers-equal":"not-equal":"equal"}function v(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!x(a[c],b[c]))return!1;return!0}function x(a,b){return a.type===b.type&&a.url===b.url&&a.minScale===b.minScale&&a.maxScale===b.maxScale&&a.visible===b.visible&&a.opacity===b.opacity}function u(a){return a?h.normalize(a).replace(/^\s*https?:/i,"").toLowerCase():""}Object.defineProperty(b,"__esModule",{value:!0});var w=k.getLogger("esri.support.basemapUtils");b.createCache=
function(){return{}};b.ensureType=n;b.clonePreservingTiledLayers=function(a,b){void 0===b&&(b=null);a=n(a);if(!a)return null;var d=new l({id:a.id,title:a.title,baseLayers:a.baseLayers.slice(),referenceLayers:a.referenceLayers.slice()});b&&(d.baseLayers=c(d.baseLayers,b.baseLayers),d.referenceLayers=c(d.referenceLayers,b.referenceLayers));d.load();d.portalItem=a.portalItem;return d};b.getWellKnownBasemapId=function(a){var b=null;a=f(a);for(var c in g){var d=m(g[c]),d=t(a,d,{mustMatchReferences:!1});
if("equal"===d){b=c;break}"base-layers-equal"===d&&(b=c)}return b};b.contentEquals=function(a,b){if(a===b)return!0;a=f(a);b=f(b);return"equal"===t(a,b,{mustMatchReferences:!0})}})},"esri/support/groundUtils":function(){define(["require","exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,l,e,k){Object.defineProperty(b,"__esModule",{value:!0});var h=e.getLogger("esri.support.groundUtils");b.groundElevationLayers={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",
layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};b.ensureType=function(a){var d;"string"===typeof a?a in b.groundElevationLayers?d=new l({resourceInfo:{data:{layers:[b.groundElevationLayers[a]]}}}):h.warn("Unable to find ground definition for: "+a+'. Try "world-elevation"'):d=k.default(l,a);return d}})},"esri/support/LayersMixin":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ../layers/Layer ../layers/support/LayerCollection".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){function p(a,b,c){for(var d,e=0,f=a.length;e<f;e++)if(d=a.getItemAt(e),d[b]===c||d&&"group"===d.type&&(d=p(d.layers,b,c)))return d}var r=d.getLogger("esri.support.LayersMixin");return function(a){function b(b){var c=a.call(this,b)||this;c.layers=new f.default;c.layers.on("after-add",function(a){a=a.item;a.parent&&a.parent!==c&&"remove"in a.parent&&a.parent.remove(a);a.parent=c;c.layerAdded(a);"elevation"===a.type&&r.error("Layer '"+a.title+", id:"+a.id+"' of type '"+
a.type+"' is not supported as an operational layer and will therefore be ignored.")});c.layers.on("after-remove",function(a){a=a.item;a.parent=null;c.layerRemoved(a)});return c}l(b,a);b.prototype.destroy=function(){this.layers.drain(this.layerRemoved,this)};Object.defineProperty(b.prototype,"layers",{set:function(a){this._set("layers",h.referenceSetter(a,this._get("layers"),f.default))},enumerable:!0,configurable:!0});b.prototype.findLayerById=function(a){return p(this.layers,"id",a)};b.prototype.add=
function(a,b){var d=this,e=this.layers;b=e.getNextIndex(b);a instanceof c?(a.parent===this&&this.reorder(a,b),e.add(a,b)):g.isThenable(a)?a.then(function(a){d.destroyed||d.add(a,b)}):r.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};b.prototype.addMany=function(a,b){var c=this,d=this.layers;b=d.getNextIndex(b);a.slice().forEach(function(a){a.parent===c?c.reorder(a,b):(d.add(a,b),b+=1)})};b.prototype.findLayerByUid=function(a){return p(this.layers,"uid",
a)};b.prototype.remove=function(a){return this.layers.remove(a)};b.prototype.removeMany=function(a){return this.layers.removeMany(a)};b.prototype.removeAll=function(){return this.layers.removeAll()};b.prototype.reorder=function(a,b){return this.layers.reorder(a,b)};b.prototype.layerAdded=function(a){};b.prototype.layerRemoved=function(a){};e([n.property({type:f.default,cast:h.castForReferenceSetter})],b.prototype,"layers",null);return b=e([n.subclass("esri.support.LayersMixin")],b)}(n.declared(k))})},
"esri/Viewpoint":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators ./geometry/support/jsonUtils".split(" "),function(a,b,l,e,k,h,d,g,n){function c(){return{enabled:!this.camera}}return function(a){function b(b){b=a.call(this)||this;b.rotation=0;b.scale=0;b.targetGeometry=null;b.camera=null;return b}l(b,a);d=b;b.prototype.castRotation=function(a){a%=360;0>a&&(a+=360);return a};
b.prototype.clone=function(){return new d({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry?this.targetGeometry.clone():null,camera:this.camera?this.camera.clone():null})};var d;e([g.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:c}}}}})],b.prototype,"rotation",void 0);e([g.cast("rotation")],b.prototype,"castRotation",null);e([g.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:c}}}}})],b.prototype,"scale",
void 0);e([g.property({types:h.geometryTypes,json:{read:n.fromJSON,write:!0,origins:{"web-scene":{read:n.fromJSON,write:{overridePolicy:c}}}}})],b.prototype,"targetGeometry",void 0);e([g.property({type:k,json:{write:!0}})],b.prototype,"camera",void 0);return b=d=e([g.subclass("esri.Viewpoint")],b)}(g.declared(d))})},"esri/Camera":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./geometry/Point ./views/3d/support/mathUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c){return function(a){function b(b,c,d,e){b=a.call(this)||this;b.position=new n([0,0,0]);b.heading=0;b.tilt=0;b.fov=55;return b}l(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){a&&"object"===typeof a&&("x"in a||Array.isArray(a))&&(a={position:a},null!=b&&(a.heading=b),null!=c&&(a.tilt=c),null!=d&&(a.fov=d));return a};b.prototype.writePosition=function(a,b,c,d){var e=a.clone();e.x=g.ensureNumber(a.x||0);e.y=g.ensureNumber(a.y||0);e.z=a.hasZ?g.ensureNumber(a.z||
0):a.z;b[c]=e.write(null,d)};b.prototype.readPosition=function(a,b){var c=new n;c.read(a,b);c.x=g.ensureNumber(c.x||0);c.y=g.ensureNumber(c.y||0);c.z=c.hasZ?g.ensureNumber(c.z||0):c.z;return c};b.prototype.equals=function(a){return a?this.tilt===a.tilt&&this.heading===a.heading&&this.fov===a.fov&&this.position.equals(a.position):!1};b.prototype.clone=function(){return new f({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})};var f;e([d.property({type:n,json:{write:{isRequired:!0}}})],
b.prototype,"position",void 0);e([d.writer("position")],b.prototype,"writePosition",null);e([d.reader("position")],b.prototype,"readPosition",null);e([d.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),d.cast(function(a){return c.cyclicalDeg.normalize(g.ensureNumber(a))})],b.prototype,"heading",void 0);e([d.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),d.cast(function(a){return h.clamp(g.ensureNumber(a),-180,180)})],b.prototype,"tilt",void 0);e([d.property({type:Number,
nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"fov",void 0);return b=f=e([d.subclass("esri.Camera")],b)}(d.declared(k))})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(a,b,l,e,k){function h(a){return Math.asin(1<a?1:-1>a?-1:a)}function d(a){return Math.acos(1<a?1:-1>a?-1:a)}function g(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}
Object.defineProperty(b,"__esModule",{value:!0});b.deg2rad=function(a){return a*Math.PI/180};b.rad2deg=function(a){return 180*a/Math.PI};b.asin=h;b.acos=d;b.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};b.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};b.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};b.isPowerOfTwo=function(a){return 0===(a&a-1)};b.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};b.fovx2fovy=function(a,b,c){return 2*
Math.atan(c*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};b.maxScale=function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};b.scaleFromMatrix=function(a,b){e.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};b.makeOrthonormal=function(a,b,c){c=c||a;var d=
e.vec3.dot(a,b);e.vec3.set(c,a[0]-d*b[0],a[1]-d*b[1],a[2]-d*b[2]);e.vec3.normalize(c,c)};b.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?e.vec3.set(b,0,1,0):e.vec3.set(b,1,0,0);e.vec3.cross(c,a,b);e.vec3.normalize(b,b);e.vec3.cross(b,c,a);e.vec3.normalize(c,c)};b.moduloPositive=function(a,b){return(a%b+b)%b};b.cartesianToSpherical=function(a,b){var c=e.vec3.length(a),d=h(a[2]/c);e.vec3.set(b,c,d,Math.atan2(a[1]/c,a[0]/c));return b};b.sphericalToCartesian=function(a,b){var c=a[0],d=a[1];
a=a[2];var f=Math.cos(d);e.vec3.set(b,c*f*Math.cos(a),c*f*Math.sin(a),c*Math.sin(d))};b.directionFromTo=function(a,b,c){var d=c[0]-b[0],e=c[1]-b[1];b=c[2]-b[2];c=d*d+e*e+b*b;if(!c)return a[0]=0,a[1]=0,a[2]=0,a;c=1/Math.sqrt(c);a[0]=d*c;a[1]=e*c;a[2]=b*c;return a};b.lerp=function(a,b,c){return a+(b-a)*c};b.bilerp=function(a,b,c,d,e,f){a+=(b-a)*e;return a+(c+(d-c)*e-a)*f};b.slerp=function(a,b,c,d){void 0===d&&(d=k.vec3f64.create());var f=e.vec3.length(a),m=e.vec3.length(b),g=e.vec3.dot(a,b)/(f*m);if(.9999999999999999>
g){var g=Math.acos(g),n=((1-c)*f+c*m)/Math.sin(g),m=n/m*Math.sin(c*g);e.vec3.scale(p,a,n/f*Math.sin((1-c)*g));e.vec3.scale(r,b,m);return e.vec3.add(d,p,r)}return e.vec3.lerp(d,a,b,c)};b.angle=function(a,b,c){a=e.vec3.normalize(p,a);b=e.vec3.normalize(r,b);var m=d(e.vec3.dot(a,b));return c&&(a=e.vec3.cross(f,a,b),0>e.vec3.dot(a,c))?-m:m};b.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var d=1;c>a[d][0];)d++;
var e=a[d][0];c=(e-c)/(e-a[d-1][0]);return c*a[d-1][1]+(1-c)*a[d][1]}};b.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.floatEqualRelative=function(a,b,c){void 0===c&&(c=1E-6);if(isNaN(a)||isNaN(b))return!1;if(a===b)return!0;var d=Math.abs(a-b),e=Math.abs(a),f=Math.abs(b);if(0===a||0===b||1E-12>e&&1E-12>f){if(d>.01*c)return!1}else if(d/(e+f)>c)return!1;return!0};b.floatEqualAbsolute=function(a,
b,c){void 0===c&&(c=1E-6);return isNaN(a)||isNaN(b)?!1:(a>b?a-b:b-a)<=c};a=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d){void 0===d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return l.clamp(a-
b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.shortestSignedDiff=function(a,b){a=this.normalize(a);b=this.normalize(b);var c=b-a;a=b<a?this.minimalMonotonic(a,b)-a:b-this.minimalMonotonic(b,a);
return Math.abs(c)<Math.abs(a)?c:a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();b.Cyclical=a;b.planeFromPoints=function(a,b,d,f){e.vec3.subtract(n,b,a);e.vec3.subtract(c,d,a);e.vec3.cross(f,n,c);e.vec3.normalize(f,f);f[3]=-e.vec3.dot(a,f)};var n=k.vec3f64.create(),c=k.vec3f64.create();b.cyclical2PI=g(new a(0,2*Math.PI));b.cyclicalPI=g(new a(-Math.PI,Math.PI));b.cyclicalDeg=g(new a(0,360));var f=k.vec3f64.create(),p=k.vec3f64.create(),
r=k.vec3f64.create()})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.vec3=l})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(a,b,l,e){function k(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)}function h(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a}function d(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-
c[2];return a}function g(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a}function n(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a}function c(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(c*c+d*d+a*a)}function f(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return c*c+d*d+a*a}function p(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}function r(a,b){var c=b[0],d=b[1],e=b[2],c=c*c+d*d+e*e;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a}
function m(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}Object.defineProperty(b,"__esModule",{value:!0});b.length=k;b.copy=h;b.set=function(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a};b.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a};b.subtract=d;b.multiply=g;b.divide=n;b.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};b.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a};b.min=function(a,b,
c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a};b.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a};b.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a};b.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a};b.scaleAndAdd=function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;return a};b.distance=c;b.squaredDistance=f;b.squaredLength=
p;b.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};b.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};b.normalize=r;b.dot=m;b.cross=function(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],m=c[1];c=c[2];a[0]=e*c-b*m;a[1]=b*f-d*c;a[2]=d*m-e*f;return a};b.lerp=function(a,b,c,d){var e=b[0],f=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=b+d*(c[2]-b);return a};b.hermite=function(a,b,c,d,e,f){var m=f*f,g=m*(2*f-3)+1,n=m*(f-2)+f,h=m*(f-1);f=m*(3-2*f);a[0]=b[0]*g+c[0]*
n+d[0]*h+e[0]*f;a[1]=b[1]*g+c[1]*n+d[1]*h+e[1]*f;a[2]=b[2]*g+c[2]*n+d[2]*h+e[2]*f;return a};b.bezier=function(a,b,c,d,e,f){var m=1-f,g=m*m,n=f*f,h=g*m,g=3*f*g,m=3*n*m;f*=n;a[0]=b[0]*h+c[0]*g+d[0]*m+e[0]*f;a[1]=b[1]*h+c[1]*g+d[1]*m+e[1]*f;a[2]=b[2]*h+c[2]*g+d[2]*m+e[2]*f;return a};b.random=function(a,b){b=b||1;var c=2*e.RANDOM()*Math.PI,d=2*e.RANDOM()-1,f=Math.sqrt(1-d*d)*b;a[0]=Math.cos(c)*f;a[1]=Math.sin(c)*f;a[2]=d*b;return a};b.transformMat4=function(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=c[0]*d+
c[4]*e+c[8]*b+c[12];a[1]=c[1]*d+c[5]*e+c[9]*b+c[13];a[2]=c[2]*d+c[6]*e+c[10]*b+c[14];return a};b.transformMat3=function(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];a[2]=d*c[2]+e*c[5]+b*c[8];return a};b.transformQuat=function(a,b,c){var d=c[0],e=c[1],f=c[2],m=b[0],g=b[1];b=b[2];var n=e*b-f*g,h=f*m-d*b,k=d*g-e*m;c=2*c[3];a[0]=m+n*c+2*(e*k-f*h);a[1]=g+h*c+2*(f*n-d*k);a[2]=b+k*c+2*(d*h-e*n);return a};b.rotateX=function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=
b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0];f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d);f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};b.rotateY=function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d);f[1]=e[1];f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};b.rotateZ=function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0]*Math.cos(d)-
e[1]*Math.sin(d);f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d);f[2]=e[2];a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};b.angle=function(a,b){h(q,a);h(t,b);r(q,q);r(t,t);a=m(q,t);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var q=l.create(),t=l.create();b.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};b.equals=function(a,b){var c=a[0],d=a[1];a=a[2];var f=b[0],m=b[1];b=b[2];return Math.abs(c-f)<=e.EPSILON*Math.max(1,
Math.abs(c),Math.abs(f))&&Math.abs(d-m)<=e.EPSILON*Math.max(1,Math.abs(d),Math.abs(m))&&Math.abs(a-b)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.sub=d;b.mul=g;b.div=n;b.dist=c;b.sqrDist=f;b.len=k;b.sqrLen=p})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(a,b){function l(){return[0,0,0]}function e(){return[1,1,1]}function k(){return[1,0,0]}function h(){return[0,1,0]}function d(){return[0,0,1]}Object.defineProperty(b,"__esModule",{value:!0});
b.create=l;b.clone=function(a){return[a[0],a[1],a[2]]};b.fromValues=function(a,b,c){return[a,b,c]};b.fromArray=function(a){for(var b=l(),c=Math.min(3,a.length),d=0;d<c;++d)b[d]=a[d];return b};b.createView=function(a,b){return new Float64Array(a,b,3)};b.zeros=function(){return l()};b.ones=e;b.unitX=k;b.unitY=h;b.unitZ=d;b.ZEROS=l();b.ONES=e();b.UNIT_X=k();b.UNIT_Y=h();b.UNIT_Z=d()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,
"__esModule",{value:!0});b.EPSILON=1E-6;b.RANDOM=Math.random;var l=Math.PI/180,e=180/Math.PI;b.toRadian=function(a){return a*l};b.toDegree=function(a){return a*e};b.equals=function(a,e){return Math.abs(a-e)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(e))}})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.vec3f64=l})},"esri/layers/mixins/OperationalLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Error ../../core/MultiOriginJSONSupport ../../core/promiseUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/read ../../core/accessorSupport/write ../../webdoc/support/opacityUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.title="Layer";return b}l(b,a);d=b;b.prototype.writeListMode=function(a,b,c,d){d&&"ground"===d.layerContainerType?b[c]=a:a&&f.willPropertyWrite(this,c,{},d)&&(b[c]=a)};b.prototype.writeTitle=function(a,b){b.title=a||"Layer"};b.prototype.writeOperationalLayerType=function(a,b){a&&(b.layerType=a)};b.prototype.readOpacity=function(a,b,c){if(void 0!==b.opacity&&(!c||"web-map"===c.origin||"web-scene"===
c.origin))return b.opacity;if((!c||"service"===c.origin)&&b.drawingInfo&&void 0!==b.drawingInfo.transparency)return p.transparencyToOpacity(b.drawingInfo.transparency);if(b.layerDefinition&&b.layerDefinition.drawingInfo&&void 0!==b.layerDefinition.drawingInfo.transparency)return p.transparencyToOpacity(b.layerDefinition.drawingInfo.transparency)};b.prototype.read=function(a,b){var d=this,e=arguments;b&&(b.layer=this);c.readLoadable(this,a,function(b){return d.inherited(e,[a,b])},b)};b.prototype.write=
function(a,b){if(b&&b.origin){var c=b.origin+"/"+(b.layerContainerType||"operational-layers"),e=d.supportedTypes[c],e=e&&e[this.operationalLayerType];if("write"!==e&&"readwrite"!==e)return b.messages&&b.messages.push(new h("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' are not supported in the context of '"+c+"'",{layer:this})),null}c=this.inherited(arguments,[a,b]);e=!!b&&!!b.messages&&!!b.messages.filter(function(a){return a instanceof h&&"web-document-write:property-required"===
a.name}).length;return!this.url&&e?null:c};var d;e([n.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}}}}})],b.prototype,"id",void 0);e([n.property({json:{write:{ignoreOrigin:!0}}})],b.prototype,"listMode",void 0);e([n.writer("listMode")],b.prototype,"writeListMode",null);e([n.property({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}}}}})],b.prototype,"title",void 0);e([n.writer("title")],
b.prototype,"writeTitle",null);e([n.property({type:String,readOnly:!0,json:{write:{target:"layerType",ignoreOrigin:!0}}})],b.prototype,"operationalLayerType",void 0);e([n.writer("operationalLayerType")],b.prototype,"writeOperationalLayerType",null);e([n.property({type:Number,json:{origins:{"web-document":{default:1,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}}}})],b.prototype,"opacity",void 0);e([n.reader("opacity",["opacity","layerDefinition.drawingInfo.transparency",
"drawingInfo.transparency"])],b.prototype,"readOpacity",null);e([n.property({type:Boolean,json:{read:{source:"visibility"},write:{target:"visibility"},origins:{"web-document":{read:{source:"visibility"},write:{target:"visibility"},default:!0}}}})],b.prototype,"visible",void 0);return b=d=e([n.subclass("esri.layers.mixins.OperationalLayer")],b)}(n.declared(k,d));(function(b){b.typeModuleMap={ArcGISFeatureLayer:function(){return g.create(function(b){return a(["../FeatureLayer"],b)})},ArcGISImageServiceLayer:function(){return g.create(function(b){return a(["../ImageryLayer"],
b)})},ArcGISImageServiceVectorLayer:function(){return g.resolve(null)},ArcGISMapServiceLayer:function(){return g.create(function(b){return a(["../MapImageLayer"],b)})},ArcGISSceneServiceLayer:function(){return g.create(function(b){return a(["../SceneLayer"],b)})},ArcGISStreamLayer:function(){return g.create(function(b){return a(["../StreamLayer"],b)})},ArcGISTiledElevationServiceLayer:function(){return g.create(function(b){return a(["../ElevationLayer"],b)})},ArcGISTiledImageServiceLayer:function(){return g.create(function(b){return a(["../TileLayer"],
b)})},ArcGISTiledMapServiceLayer:function(){return g.create(function(b){return a(["../TileLayer"],b)})},BingMapsAerial:function(){return g.create(function(b){return a(["../BingMapsLayer"],b)})},BingMapsRoad:function(){return g.create(function(b){return a(["../BingMapsLayer"],b)})},BingMapsHybrid:function(){return g.create(function(b){return a(["../BingMapsLayer"],b)})},BuildingSceneLayer:function(){return g.create(function(b){return a(["../BuildingSceneLayer"],b)})},CSV:function(){return g.create(function(b){return a(["../CSVLayer"],
b)})},GeoRSS:function(){return g.create(function(b){return a(["../GeoRSSLayer"],b)})},GroupLayer:function(){return g.create(function(b){return a(["../GroupLayer"],b)})},IntegratedMeshLayer:function(){return g.create(function(b){return a(["../IntegratedMeshLayer"],b)})},KML:function(){return g.create(function(b){return a(["../KMLLayer"],b)})},OpenStreetMap:function(){return g.create(function(b){return a(["../OpenStreetMapLayer"],b)})},PointCloudLayer:function(){return g.create(function(b){return a(["../PointCloudLayer"],
b)})},VectorTileLayer:function(){return g.create(function(b){return a(["../VectorTileLayer"],b)})},WebTiledLayer:function(){return g.create(function(b){return a(["../WebTileLayer"],b)})},WMS:function(){return g.create(function(b){return a(["../WMSLayer"],b)})},RasterDataLayer:function(){return g.resolve(null)}};b.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:"readwrite",ArcGISImageServiceLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISSceneServiceLayer:"readwrite",ArcGISTiledElevationServiceLayer:"read",
ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",BuildingSceneLayer:"readwrite",GroupLayer:"readwrite",IntegratedMeshLayer:"readwrite",PointCloudLayer:"readwrite",WebTiledLayer:"readwrite",CSV:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",KML:"readwrite",RasterDataLayer:"readwrite"},"web-scene/basemap":{ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",WebTiledLayer:"readwrite",OpenStreetMap:"readwrite",VectorTileLayer:"readwrite",
ArcGISImageServiceLayer:"readwrite",WMS:"readwrite",ArcGISMapServiceLayer:"readwrite"},"web-scene/ground":{ArcGISTiledElevationServiceLayer:"readwrite"},"web-map/operational-layers":{ArcGISImageServiceLayer:"readwrite",ArcGISImageServiceVectorLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISStreamLayer:"readwrite",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",ArcGISFeatureLayer:"readwrite",BingMapsAerial:"readwrite",BingMapsRoad:"readwrite",BingMapsHybrid:"readwrite",
CSV:"readwrite",GeoRSS:"readwrite",KML:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",WebTiledLayer:"readwrite"},"web-map/basemap":{ArcGISImageServiceLayer:"readwrite",ArcGISImageServiceVectorLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",OpenStreetMap:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",WebTiledLayer:"readwrite",BingMapsAerial:"readwrite",BingMapsRoad:"readwrite",BingMapsHybrid:"readwrite"}}})(b||
(b={}));return b})},"esri/core/MultiOriginJSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./accessorSupport/decorators ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write".split(" "),function(a,b,l,e,k,h,d,g,n,c,f){function p(a){return c.getProperties(a).store}return function(a){function b(){var b=a.call(this)||this,e=c.getProperties(b),f=e.metadatas,
m=e.store,n=new d.default;e.store=n;m.keys().forEach(function(a){n.set(a,m.get(a),g.OriginId.DEFAULTS)});Object.keys(f).forEach(function(a){e.internalGet(a)&&n.set(a,e.internalGet(a),g.OriginId.DEFAULTS)});return b}l(b,a);b.prototype.clear=function(a,b){void 0===b&&(b="user");return p(this).clear(a,g.nameToId(b))};b.prototype.read=function(a,b){n.default(this,a,b)};b.prototype.write=function(a,b){a=a||{};f.default(this,a,b);return a};b.prototype.getAtOrigin=function(a,b){var c=p(this),d=g.nameToId(b);
if("string"===typeof a)return c.get(a,d);var e={};a.forEach(function(a){e[a]=c.get(a,d)});return e};b.prototype.originOf=function(a){var b=p(this);if("string"===typeof a)return g.idToName(b.originOf(a));a.forEach(function(a){g.idToName(b.originOf(a))})};b.prototype.revert=function(a,b){var d=p(this),e=g.nameToId(b),f=c.getProperties(this);("string"===typeof a?"*"===a?Object.keys(d.getAll(e)):[a]:a).forEach(function(a){f.propertyInvalidated(a);d.revert(a,e);f.propertyCommitted(a)})};b.prototype.removeOrigin=
function(a){var b=p(this);a=g.nameToId(a);var c=b.getAll(a),d;for(d in c)b.originOf(d)===a&&b.set(d,c[d],g.OriginId.USER)};b.prototype.updateOrigin=function(a,b){var c=p(this);b=g.nameToId(b);var d=this.get(a);c.clear(a);c.set(a,d,b)};return b=e([h.subclass("esri.core.MultiOriginJSONSupport")],b)}(h.declared(k))})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["require","exports","./PropertyOrigin"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._propertyOriginMap=
{};this._originStores=Array(l.OriginId.NUM);this._values={}}a.prototype.get=function(a,b){return(b=void 0===b?this._values:this._originStores[b])?b[a]:void 0};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b,d){void 0===d&&(d=l.OriginId.USER);var e=this._originStores[d];e||(e={},this._originStores[d]=e);e[a]=b;return!(a in this._values)||this._propertyOriginMap[a]<=d?(e=this._values[a],this._values[a]=b,this._propertyOriginMap[a]=d,e!==b):!1};a.prototype.clear=
function(a,b){void 0===b&&(b=l.OriginId.USER);var d=this._originStores[b];if(d){var e=d[a];delete d[a];if(a in this._values&&this._propertyOriginMap[a]===b)for(delete this._values[a],--b;0<=b;b--)if((d=this._originStores[b])&&a in d){this._values[a]=d[a];this._propertyOriginMap[a]=b;break}return e}};a.prototype.has=function(a,b){return(b=void 0===b?this._values:this._originStores[b])?a in b:!1};a.prototype.revert=function(a,b){for(;0<b&&!this.has(a,b);)--b;var d=this._originStores[b],d=d&&d[a],e=
this._values[a];this._values[a]=d;this._propertyOriginMap[a]=b;return e!==d};a.prototype.originOf=function(a,b){return this._propertyOriginMap[a]||l.OriginId.DEFAULTS};a.prototype.getAll=function(a){return this._originStores[a]};return a}();b.default=a})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/Error ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators ../../portal/Portal ../../portal/PortalItem".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m){var q=n.getLogger("esri.layers.mixins.PortalLayer");return function(b){function d(){return null!==b&&b.apply(this,arguments)||this}l(d,b);Object.defineProperty(d.prototype,"portalItem",{set:function(a){a!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",a))},enumerable:!0,configurable:!0});d.prototype.readPortalItem=function(a,b,c){if(b.itemId)return new m({id:b.itemId,portal:c&&c.portal})};d.prototype.writePortalItem=function(a,
b,c){a&&a.id&&(b.itemId=a.id)};d.prototype.loadFromPortal=function(b,d){return h(this,void 0,void 0,function(){var e,f;return k(this,function(g){switch(g.label){case 0:if(!this.portalItem||!this.portalItem.id)return[2];g.label=1;case 1:return g.trys.push([1,4,,5]),[4,c.create(function(b){return a(["../../portal/support/layersLoader"],b)})];case 2:return e=g.sent(),c.throwIfAborted(d),[4,e.load({instance:this,supportedTypes:b.supportedTypes,validateItem:b.validateItem,supportsData:b.supportsData},
d)];case 3:return[2,g.sent()];case 4:throw f=g.sent(),q.warn("Failed to load layer ("+this.title+", "+this.id+") portal item ("+this.portalItem.id+")\n  "+f),f;case 5:return[2]}})})};d.prototype.read=function(a,b){b&&(b.layer=this);this.inherited(arguments)};d.prototype.write=function(a,b){var c=b&&b.portal,d=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||r.getDefault());return c&&d&&!f.hasSamePortal(d.restUrl,c.restUrl)?(b.messages&&b.messages.push(new g("layer:cross-portal","The layer '"+
this.title+" ("+this.id+")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer",{layer:this})),null):this.inherited(arguments)};e([p.property({type:m})],d.prototype,"portalItem",null);e([p.reader("web-document","portalItem",["itemId"])],d.prototype,"readPortalItem",null);e([p.writer("portalItem",{itemId:{type:String}})],d.prototype,
"writePortalItem",null);return d=e([p.subclass("esri.layers.mixins.PortalLayer")],d)}(p.declared(d))})},"esri/layers/mixins/ScaleRangeLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.minScale=0;b.maxScale=0;return b}l(b,a);e([h.property({type:Number,json:{write:!0}})],
b.prototype,"minScale",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"maxScale",void 0);return b=e([h.subclass("esri.layers.mixins.ScaleRangeLayer")],b)}(h.declared(k))})},"esri/layers/mixins/RefreshableLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||
this;b.refreshInterval=0;return b}l(b,a);b.prototype.refresh=function(){this.emit("refresh")};e([h.property({type:Number,cast:function(a){return.1<=a?a:0>=a?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],b.prototype,"refreshInterval",void 0);return b=e([h.subclass("esri.layers.mixins.RefreshableLayer")],b)}(h.declared(k))})},"esri/portal/support/layersCreator":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Collection ../../core/has ../../core/promiseUtils ../../layers/support/lazyLayerLoader ../PortalItem ./mapNotesUtils ./portalLayers ../../renderers/support/styleUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){function r(a,b,c){return e(this,void 0,void 0,function(){var d;return l(this,function(e){switch(e.label){case 0:return d=new a,d.read(b,c.context),[4,p.loadStyleRenderer(d,c.context)];case 1:return e.sent(),[2,d]}})})}function m(a,b){return e(this,void 0,void 0,function(){var c;return l(this,function(d){switch(d.label){case 0:return[4,q(a,b)];case 1:return c=d.sent(),[2,r(c,a,b)]}})})}function q(a,b){return e(this,void 0,void 0,function(){var d,e,m,h,k,q,p,r;return l(this,
function(l){switch(l.label){case 0:d=b.context;switch(d.origin){case "web-scene":switch(d.layerContainerType){case "basemap":l=w;break;case "ground":l=u;break;default:l=x}break;default:switch(d.layerContainerType){case "basemap":l=A;break;default:l=z}}e=l;m=a.layerType||a.type;!m&&b&&b.defaultLayerType&&(m=b.defaultLayerType);k=(h=e[m])?g.layerLookupMap[h]:g.layerLookupMap.UnknownLayer;if("Feature Collection"!==a.type)return[3,4];if(!a.itemId)return[3,3];q=new n({id:a.itemId,portal:d&&d.portal});
return[4,q.load()];case 1:return l.sent(),[4,f.selectLayerClassPath(q)];case 2:p=l.sent(),r=p.className||"UnknownLayer",k=g.layerLookupMap[r],l.label=3;case 3:return[3,5];case 4:"ArcGISFeatureLayer"===m&&c.isMapNotesLayer(a)&&(k=g.layerLookupMap.MapNotesLayer),l.label=5;case 5:return a.wmtsInfo&&(k=g.layerLookupMap.WMTSLayer),[2,k()]}})})}function t(a,b,c){return e(this,void 0,void 0,function(){var d,e,f;return l(this,function(g){switch(g.label){case 0:return d=new k,e=v(d,Array.isArray(b.layers)?
b.layers:[],c),[4,a];case 1:return f=g.sent(),[4,e];case 2:return g.sent(),"group"===f.type?(f.layers.addMany(d),[2,f]):[2]}})})}function v(a,b,c){return e(this,void 0,void 0,function(){var e,f,g,n,h,k,q,p,r;return l(this,function(l){switch(l.label){case 0:if(!b)return[2];e=[];f=0;for(g=b;f<g.length;f++)n=g[f],h=m(n,c),"GroupLayer"===n.layerType?e.push(t(h,n,c)):e.push(h);return[4,d.eachAlways(e)];case 1:k=l.sent();q=0;for(p=k;q<p.length;q++)r=p[q],!r.value||c.filter&&!c.filter(r.value)||a.add(r.value);
return[2]}})})}Object.defineProperty(b,"__esModule",{value:!0});var x={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",
CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},u={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer"},w={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",
DefaultTileLayer:"TileLayer"},z={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",
DefaultTileLayer:"TileLayer"},A={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};b.createLayer=m;b.populateOperationalLayers=
function(a,b,c){return e(this,void 0,void 0,function(){return l(this,function(d){return[2,v(a,b,c)]})})}})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports","../../core/promiseUtils"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.layerLookupMap={CSVLayer:function(){return l.create(function(b){return a(["../CSVLayer"],b)})},ElevationLayer:function(){return l.create(function(b){return a(["../ElevationLayer"],b)})},FeatureLayer:function(){return l.create(function(b){return a(["../FeatureLayer"],
b)})},GroupLayer:function(){return l.create(function(b){return a(["../GroupLayer"],b)})},GeoRSSLayer:function(){return l.create(function(b){return a(["../GeoRSSLayer"],b)})},ImageryLayer:function(){return l.create(function(b){return a(["../ImageryLayer"],b)})},KMLLayer:function(){return l.create(function(b){return a(["../KMLLayer"],b)})},MapImageLayer:function(){return l.create(function(b){return a(["../MapImageLayer"],b)})},MapNotesLayer:function(){return l.create(function(b){return a(["../MapNotesLayer"],
b)})},OpenStreetMapLayer:function(){return l.create(function(b){return a(["../OpenStreetMapLayer"],b)})},PointCloudLayer:function(){return l.create(function(b){return a(["../PointCloudLayer"],b)})},SceneLayer:function(){return l.create(function(b){return a(["../SceneLayer"],b)})},BuildingSceneLayer:function(){return l.create(function(b){return a(["../BuildingSceneLayer"],b)})},IntegratedMeshLayer:function(){return l.create(function(b){return a(["../IntegratedMeshLayer"],b)})},StreamLayer:function(){return l.create(function(b){return a(["../StreamLayer"],
b)})},TileLayer:function(){return l.create(function(b){return a(["../TileLayer"],b)})},UnknownLayer:function(){return l.create(function(b){return a(["../UnknownLayer"],b)})},UnsupportedLayer:function(){return l.create(function(b){return a(["../UnsupportedLayer"],b)})},VectorTileLayer:function(){return l.create(function(b){return a(["../VectorTileLayer"],b)})},WebTileLayer:function(){return l.create(function(b){return a(["../WebTileLayer"],b)})},WMSLayer:function(){return l.create(function(b){return a(["../WMSLayer"],
b)})},WMTSLayer:function(){return l.create(function(b){return a(["../WMTSLayer"],b)})},BingMapsLayer:function(){return l.create(function(b){return a(["../BingMapsLayer"],b)})}}})},"esri/portal/support/mapNotesUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isMapNotesLayer=function(a){var b=["TITLE","DESCRIPTION","IMAGE_URL","IMAGE_LINK_URL"];if((a=a.layers||a.featureCollection&&a.featureCollection.layers)&&Array.isArray(a))return a=a[0],
a.layerDefinition&&Array.isArray(a.layerDefinition.fields)&&a.layerDefinition.fields.forEach(function(a){a=b.indexOf(a.name);-1<a&&b.splice(a,1)}),b.length?!1:!0}})},"esri/portal/support/portalLayers":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../core/Collection ../../core/Error ../../core/promiseUtils ../../layers/support/lazyLayerLoader ../PortalItem ./mapNotesUtils".split(" "),function(a,b,l,e,k,h,d,g,n,c){function f(a){switch(a.type){case "Map Service":return r(a);
case "Feature Service":return m(a);case "Feature Collection":return t(a);case "Scene Service":return q(a);case "Image Service":return v(a);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "KML":return{className:"KMLLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};default:return d.reject(new h("portal:unknown-item-type","Unknown item type '${type}'",{type:a.type}))}}function p(a){return(0,g.layerLookupMap[a.className])().then(function(b){return{constructor:b,
properties:a.properties}})}function r(a){return x(a).then(function(a){return a?{className:"TileLayer"}:{className:"MapImageLayer"}})}function m(a){return u(a).then(function(a){if("object"===typeof a){var b={outFields:["*"]};null!=a.id&&(b.layerId=a.id);return{className:"FeatureLayer",properties:b}}return{className:"GroupLayer"}})}function q(a){return u(a).then(function(b){if("object"===typeof b){var c={},d=void 0;null!=b.id?(c.layerId=b.id,d=a.url+"/layers/"+b.id):d=a.url;if(Array.isArray(a.typeKeywords)&&
0<a.typeKeywords.length){b={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(var e=0,f=Object.keys(b);e<f.length;e++){var g=f[e];if(-1!==a.typeKeywords.indexOf(g))return{className:b[g]}}}return w(d).then(function(a){var b="SceneLayer",d={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a&&a.layerType&&d[a.layerType]&&
(b=d[a.layerType]);return{className:b,properties:c}})}return{className:"GroupLayer"}})}function t(a){return a.load().then(function(){return a.fetchData()}).then(function(a){if(a&&Array.isArray(a.layers)){if(c.isMapNotesLayer(a))return{className:"MapNotesLayer"};if(1===a.layers.length)return{className:"FeatureLayer"}}return{className:"GroupLayer"}})}function v(a){return x(a).then(function(b){var c=new k(a.typeKeywords);return b?c.find(function(a){return"elevation 3d layer"===a.toLowerCase()})?{className:"ElevationLayer"}:
{className:"TileLayer"}:{className:"ImageryLayer"}})}function x(a){return w(a.url).then(function(a){return a.tileInfo})}function u(a){return!a.url||a.url.match(/\/\d+$/)?d.resolve({}):a.load().then(function(){return a.fetchData()}).then(function(b){return b&&Array.isArray(b.layers)?1===b.layers.length?{id:b.layers[0].id}:!1:w(a.url).then(function(a){return a&&Array.isArray(a.layers)?1===a.layers.length?{id:a.layers[0].id}:!1:{}})})}function w(a){return e(a,{responseType:"json",query:{f:"json"}}).then(function(a){return a.data})}
Object.defineProperty(b,"__esModule",{value:!0});b.fromItem=function(a){!a.portalItem||a.portalItem instanceof n||a.portalItem.constructor&&a.portalItem.constructor._meta||(a=l({},a,{portalItem:new n(a.portalItem)}));return a.portalItem.load().then(f).then(p).then(function(b){var c=l({portalItem:a.portalItem},b.properties);return d.resolve(new b.constructor(c))})};b.selectLayerClassPath=f})},"esri/renderers/support/styleUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/asyncUtils ../../core/promiseUtils ../../core/Warning".split(" "),
function(a,b,l,e,k,h,d){Object.defineProperty(b,"__esModule",{value:!0});b.loadStyleRenderer=function(a,b,c){return e(this,void 0,void 0,function(){var e,g,n;return l(this,function(f){switch(f.label){case 0:return(e=a&&a.getAtOrigin&&a.getAtOrigin("renderer",b.origin))&&"unique-value"===e.type&&e.styleOrigin?[4,k.result(e.populateFromStyle())]:[3,2];case 1:g=f.sent(),h.throwIfAborted(c),!1===g.ok&&(n=g.error,b&&b.messages&&b.messages.push(new d("renderer:style-reference","Failed to create unique value renderer from style reference: "+
n.message,{error:n,context:b})),a.clear("renderer",b.origin)),f.label=2;case 2:return[2]}})})}})},"esri/layers/FeatureLayer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../PopupTemplate ../renderers ../request ../symbols ../core/asyncUtils ../core/Collection ../core/Error ../core/Handles ../core/jsonMap ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ./Layer ./graphics/editingSupport ./graphics/sources/MemorySource ./mixins/ArcGISService ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/FeatureIndex ./support/FeatureProcessing ./support/FeatureReduction ./support/FeatureReductionSelection ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/FieldsIndex ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/layerSourceUtils ./support/Relationship ../renderers/support/jsonUtils ../renderers/support/styleUtils ../support/popupUtils ../symbols/support/jsonUtils ../tasks/support/AttachmentQuery ../tasks/support/FeatureSet ../tasks/support/Query ../tasks/support/RelationshipQuery".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y,B,D,C,E,F,G,H,O,I,L,J,M,P,Q,R,la,sa,ga,V,S,fa,N,W,T,X,ia,ka,Z,U,ca,Y,oa,ma,na,pa){function K(a,b,c){return!(a&&a.hasOwnProperty(b)?!a[b]:!c)}var ha=new v.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),aa={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},
ba=x.getLogger("esri.layers.FeatureLayer"),da=fa.defineFieldProperties();return function(b){function h(a){a=b.call(this)||this;a._handles=new t;a.capabilities=null;a.copyright=null;a.displayField=null;a.definitionExpression=null;a.dynamicDataSource=null;a.editFieldsInfo=null;a.editingEnabled=!0;a.editingInfo=null;a.elevationInfo=null;a.featureReduction=null;a.fields=null;a.fullExtent=null;a.gdbVersion=null;a.geometryProperties=null;a.geometryType=null;a.hasM=void 0;a.hasZ=void 0;a.heightModelInfo=
null;a.historicMoment=null;a.isTable=!1;a.labelsVisible=!0;a.labelingInfo=null;a.layerId=void 0;a.legendEnabled=!0;a.maxRecordCount=void 0;a.tileMaxRecordCount=void 0;a.minScale=0;a.maxScale=0;a.objectIdField=null;a.outFields=null;a.path=null;a.popupEnabled=!0;a.popupTemplate=null;a.relationships=null;a.returnM=void 0;a.returnZ=void 0;a.screenSizePerspectiveEnabled=!0;a.serviceDefinitionExpression=null;a.spatialReference=C.WGS84;a.templates=null;a.timeInfo=null;a.title=null;a.sublayerTitleMode="item-title";
a.trackIdField=null;a.type="feature";a.typeIdField=null;a.types=null;a.indexes=new (m.ofType(R.FeatureIndex));a.userIsAdmin=!1;a.version=void 0;a.visible=!0;return a}e(h,b);h.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null)};h.prototype.normalizeCtorArgs=function(a,b){return"string"===typeof a?l({url:a},b):a};h.prototype.load=function(a){var b=this,c=u.isSome(a)?a.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)this.addResolvingPromise(this.createGraphicsSource(c).then(function(a){return b._initLayerProperties(a)}));
else return a=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},a).catch(function(a){return a}).then(function(){return g(b,void 0,void 0,function(){var a,b;return d(this,function(d){switch(d.label){case 0:return this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)?[4,this._fetchFirstLayerId(c)]:[3,2];case 1:a=d.sent(),null!=a&&(this.layerId=a),d.label=2;case 2:if(!this.url&&!this._hasMemorySource())throw new q("feature-layer:missing-url-or-source",
"Feature layer must be created with either a url or a source");b=this._initLayerProperties;return[4,this.createGraphicsSource(c)];case 3:return[2,b.apply(this,[d.sent()])]}})})}),this.addResolvingPromise(a),this.when()};h.prototype.readCapabilities=function(a,b){b=b.layerDefinition||b;return{attachment:this._readAttachmentCapabilities(b.attachmentProperties),data:this._readDataCapabilities(b),metadata:this._readMetadataCapabilities(b),operations:this._readOperationsCapabilities(b.capabilities||a,
b),query:this._readQueryCapabilities(b),queryRelated:this._readQueryRelatedCapabilities(b),editing:this._readEditingCapabilities(b)}};h.prototype.readEditingEnabled=function(a,b){return"Query"===b.capabilities?!1:!0};h.prototype.writeEditingEnabled=function(a,b,c,d){a||(b.capabilities="Query")};h.prototype.readEditingInfo=function(a,b){return(a=b.editingInfo)?{lastEditDate:null!=a.lastEditDate?new Date(a.lastEditDate):null}:null};Object.defineProperty(h.prototype,"fieldsIndex",{get:function(){return new N((this.fields?
this.fields:[]).concat(this.processing&&this.processing.fields?this.processing.fields:[]))},enumerable:!0,configurable:!0});h.prototype.readIsTable=function(a,b){b=b&&b.layerDefinition||b;return"Table"===b.type};Object.defineProperty(h.prototype,"hasService",{get:function(){return!this._hasMemorySource()},enumerable:!0,configurable:!0});h.prototype.readMinScale=function(a,b){return b.effectiveMinScale||a||0};h.prototype.readMaxScale=function(a,b){return b.effectiveMaxScale||a||0};h.prototype.readObjectIdFieldFromService=
function(a,b){b=b.layerDefinition||b;if(b.objectIdField)return b.objectIdField;if(b.fields)for(a=0,b=b.fields;a<b.length;a++){var c=b[a];if("esriFieldTypeOID"===c.type)return c.name}};Object.defineProperty(h.prototype,"parsedUrl",{get:function(){var a=this.url?A.urlToObject(this.url):null;if(null!=a)if(null!=this.layerId)a.path=A.join(a.path,this.layerId.toString());else if(null!=this.dynamicDataSource){var b={source:ia.sourceToJSON(this.dynamicDataSource)};a.query={layer:JSON.stringify(b)}}return a},
enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"renderer",{set:function(a){W.fixRendererFields(a,this.fields);this._set("renderer",a)},enumerable:!0,configurable:!0});h.prototype.readRenderer=function(a,b,d){b=b.layerDefinition||b;var e=b.drawingInfo&&b.drawingInfo.renderer||void 0,f,g;if(e)(f=Z.read(e,b,d)||void 0)||ba.error("Failed to create renderer",
{rendererDefinition:b.drawingInfo.renderer,layer:this,context:d});else if(b.defaultSymbol)Y.read(b.defaultSymbol,b,d),b.types&&b.types.length?(f=new c.UniqueValueRenderer({defaultSymbol:g,field:b.typeIdField}),b.types.forEach(function(a){e.addUniqueValueInfo(a.id,Y.read(a.symbol,a,d))})):f=new c.SimpleRenderer({symbol:g});else if("Table"!==b.type){switch(b.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":g=new p.SimpleMarkerSymbol;break;case "esriGeometryPolyline":g=new p.SimpleLineSymbol;
break;case "esriGeometryPolygon":g=new p.SimpleFillSymbol}f=g&&new c.SimpleRenderer({symbol:g})}return f};h.prototype.writeRenderer=function(a,b,c,d){Z.writeTarget(a,b,c,d)};h.prototype.writeWebSceneRenderer=function(a,b,c,d){Z.writeTarget(a,b,"layerDefinition.drawingInfo.renderer",d)};Object.defineProperty(h.prototype,"source",{set:function(a){var b=this._get("source");b!==a&&(b&&b&&b.isInstanceOf&&b.isInstanceOf(m)&&this._resetMemorySource(b),a&&a&&a.isInstanceOf&&a.isInstanceOf(m)&&this._initMemorySource(a),
this._set("source",a))},enumerable:!0,configurable:!0});h.prototype.castSource=function(a){return a?Array.isArray(a)||a&&a.isInstanceOf&&a.isInstanceOf(m)?new G.default({layer:this,items:a}):a:null};h.prototype.readSource=function(a,b){a=ma.fromJSON(b.featureSet);return new G.default({layer:this,items:a&&a.features||[]})};h.prototype.readTemplates=function(a,b){var c=b.editFieldsInfo;b=c&&c.creatorField;c=c&&c.editorField;a=a&&a.map(function(a){return V.fromJSON(a)});this._fixTemplates(a,b);this._fixTemplates(a,
c);return a};h.prototype.readTitle=function(a,b){a=b.layerDefinition&&b.layerDefinition.name||b.name;b=b.title||b.layerDefinition&&b.layerDefinition.title;if(a){b=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?P.titleFromUrlAndName(this.url,a):a;a=a||this.url&&P.parse(this.url).title;if(!a)return;"item-title-and-service-name"===this.sublayerTitleMode&&b&&(a=b+" - "+a);return P.cleanTitle(a)}if("item-title"===this.sublayerTitleMode&&b)return b};h.prototype.readTitleFromWebMap=
function(a,b){return b.title||b.layerDefinition&&b.layerDefinition.name};h.prototype.readTypeIdField=function(a,b){b=b.layerDefinition||b;if(a=b.typeIdField)if(b=W.getField(b.fields,a))a=b.name;return a};h.prototype.readTypes=function(a,b){var c=this;b=b.layerDefinition||b;a=b.types;var d=(b=b.editFieldsInfo)&&b.creatorField,e=b&&b.editorField;return a&&a.map(function(a){a=S.fromJSON(a);c._fixTemplates(a.templates,d);c._fixTemplates(a.templates,e);return a})};Object.defineProperty(h.prototype,"url",
{set:function(a){a=P.sanitizeUrlWithLayerId(this,a,ba);this._set("url",a.url);null!=a.layerId&&this._set("layerId",a.layerId)},enumerable:!0,configurable:!0});h.prototype.writeUrl=function(a,b,c,d){P.writeUrlWithLayerId(this,a,null,b,d)};h.prototype.readVersion=function(a,b){return b.currentVersion?b.currentVersion:b.hasOwnProperty("capabilities")||b.hasOwnProperty("drawingInfo")||b.hasOwnProperty("hasAttachments")||b.hasOwnProperty("htmlPopupType")||b.hasOwnProperty("relationships")||b.hasOwnProperty("timeInfo")||
b.hasOwnProperty("typeIdField")||b.hasOwnProperty("types")?10:9.3};h.prototype.readVisible=function(a,b){if(b.layerDefinition&&null!=b.layerDefinition.defaultVisibility)return!!b.layerDefinition.defaultVisibility;if(null!=b.visibility)return!!b.visibility};h.prototype.addAttachment=function(a,b){var c=this;return this.load().then(function(){return c._checkAttachmentSupport(a)}).then(function(){return"addAttachment"in c.source?c.source.addAttachment(a,b):z.reject(new q("FeatureLayer","Layer source does not support addAttachment capability"))})};
h.prototype.updateAttachment=function(a,b,c){var d=this;return this.load().then(function(){return d._checkAttachmentSupport(a)}).then(function(){return"updateAttachment"in d.source?d.source.updateAttachment(a,b,c):z.reject(new q("FeatureLayer","Layer source does not support updateAttachment capability"))})};h.prototype.applyEdits=function(a){return r.safeCast(F.applyEdits(this,a))};h.prototype.on=function(a,b){return this.inherited(arguments)};h.prototype.createPopupTemplate=function(a){return ca.createPopupTemplate(this,
a)};h.prototype.createGraphicsSource=function(b){return g(this,void 0,void 0,function(){var c,e;return d(this,function(d){switch(d.label){case 0:return this._hasMemorySource()?(this.emit("graphics-source-create",{graphicsSource:this.source}),[2,this.source.load({signal:b})]):[4,z.create(function(b){return a(["./graphics/sources/FeatureLayerSource"],b)})];case 1:return c=d.sent(),z.throwIfAborted(b),[4,(new c.default({layer:this})).load({signal:b})];case 2:return e=d.sent(),this.emit("graphics-source-create",
{graphicsSource:e}),[2,e]}})})};h.prototype.createQuery=function(){var a=new na,b=this.get("capabilities.data");a.gdbVersion=this.gdbVersion;a.historicMoment=this.historicMoment;a.returnGeometry=!0;b&&(b.supportsZ&&null!=this.returnZ&&(a.returnZ=this.returnZ),b.supportsM&&null!=this.returnM&&(a.returnM=this.returnM));a.outFields=["*"];a.where=this.definitionExpression||"1\x3d1";a.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null;return a};h.prototype.deleteAttachments=function(a,
b){var c=this;return this.load().then(function(){return c._checkAttachmentSupport(a)}).then(function(){return"deleteAttachments"in c.source?c.source.deleteAttachments(a,b):z.reject(new q("FeatureLayer","Layer source does not support deleteAttachments capability"))})};h.prototype.getFeatureType=function(a){var b=this.typeIdField;if(!b||!a)return null;var c=a.attributes?a.attributes[b]:void 0;if(null==c)return null;var d=null;this.types.some(function(a){var b=a.id;if(null==b)return!1;b.toString()===
c.toString()&&(d=a);return!!d});return d};h.prototype.getFieldDomain=function(a,b){var c=this,d,e=!1;b=(b=b&&b.feature)&&b.attributes;var f=this.typeIdField&&b&&b[this.typeIdField];null!=f&&this.types&&(e=this.types.some(function(b){return b.id==f?((d=b.domains&&b.domains[a])&&"inherited"===d.type&&(d=c._getLayerDomain(a)),!0):!1}));e||d||(d=this._getLayerDomain(a));return d};h.prototype.getField=function(a){return this.fieldsIndex.get(a)};h.prototype.queryAttachments=function(a,b){var c=this;a=oa.from(a);
return this.load().then(function(){if(!c.get("capabilities.data.supportsAttachment"))return z.reject(new q("FeatureLayer","this layer doesn't support attachments"));var b=a.attachmentTypes,d=a.objectIds,e=a.globalIds,f=a.num,g=a.size,m=a.start,h=a.where;return!c.get("capabilities.operations.supportsQueryAttachments")&&(b=b&&b.length,e=e&&e.length,g=g&&g.length,d&&1<d.length||b||e||g||f||m||h)?z.reject(new q("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",
a)):d&&d.length||h?"queryAttachments"in c.source?c.source.queryAttachments(a):z.reject(new q("FeatureLayer","Layer source does not support queryAttachments capability",a)):z.reject(new q("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",a))})};h.prototype.queryFeatures=function(a,b){var c=this;return this.load().then(function(){return c.source.queryFeatures(na.from(a)||c.createQuery(),b)}).then(function(a){if(a&&a.features)for(var b=0,d=a.features;b<d.length;b++){var e=
d[b];e.layer=e.sourceLayer=c}return a})};h.prototype.queryObjectIds=function(a,b){var c=this;return this.load().then(function(){return c.source.queryObjectIds?c.source.queryObjectIds(na.from(a)||c.createQuery(),b):z.reject(new q("FeatureLayer","Layer source does not support queryObjectIds capability"))})};h.prototype.queryFeatureCount=function(a,b){var c=this;return this.load().then(function(){return c.source.queryFeatureCount?c.source.queryFeatureCount(na.from(a)||c.createQuery(),b):z.reject(new q("FeatureLayer",
"Layer source does not support queryFeatureCount capability"))})};h.prototype.queryExtent=function(a,b){var c=this;return this.load().then(function(){return c.source.queryExtent?c.source.queryExtent(na.from(a)||c.createQuery(),b):z.reject(new q("FeatureLayer","Layer source does not support queryExtent capability"))})};h.prototype.queryRelatedFeatures=function(a,b){var c=this;return this.load().then(function(){return"queryRelatedFeatures"in c.source?c.source.queryRelatedFeatures(pa.from(a),b):z.reject(new q("FeatureLayer",
"Layer source does not support queryRelatedFeatures capability"))})};h.prototype.read=function(a,b){var c=a.featureCollection;if(c){var d=c.layers;d&&1===d.length&&(this.inherited(arguments,[d[0],b]),null!=c.showLegend&&this.inherited(arguments,[{showLegend:c.showLegend},b]))}this.inherited(arguments,[a,b]);b&&"service"===b.origin&&this.revert(["objectIdField","fields","timeInfo"],"service")};h.prototype.write=function(a,b){return b&&("web-scene"===b.origin||"web-map"===b.origin)&&b.messages&&this.isTable?
(b.messages.push(new q("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' using a Table source cannot written to web scenes",{layer:this})),null):this.inherited(arguments)};h.prototype.importLayerViewModule=function(b){return g(this,void 0,void 0,function(){return d(this,function(c){switch(b.type){case "2d":return[2,z.create(function(b){return a(["../views/2d/layers/FeatureLayerView2D"],b)})];case "3d":return[2,z.create(function(b){return a(["../views/3d/layers/FeatureLayerView3D"],
b)})]}return[2]})})};h.prototype._checkAttachmentSupport=function(a){var b=a.attributes,c=this.objectIdField;if(!this.get("capabilities.data.supportsAttachment"))return z.reject(new q("FeatureLayer","this layer doesn't support attachments"));if(!a)return z.reject(new q("FeatureLayer","A feature is required to add/delete/update attachments"));if(!b)return z.reject(new q("FeatureLayer","'attributes' are required on a feature to query attachments"));if(!b[c])return z.reject(new q("FeatureLayer","feature is missing the identifying attribute "+
c))};h.prototype._getLayerDomain=function(a){if(!this.fields)return null;var b=null;this.fields.some(function(c){c.name===a&&(b=c.domain);return!!b});return b};h.prototype._fetchFirstLayerId=function(a){return f(this.url,{query:{f:"json"},responseType:"json",signal:a}).then(function(a){if(a=a.data){if(Array.isArray(a.layers)&&0<a.layers.length)return a.layers[0].id;if(Array.isArray(a.tables)&&0<a.tables.length)return a.tables[0].id}})};h.prototype._initLayerProperties=function(a){return g(this,void 0,
void 0,function(){return d(this,function(b){this._set("source",a);a.layerDefinition&&this.read(a.layerDefinition,{origin:"service",url:this.parsedUrl});this._verifySource();this._verifyFields();W.fixRendererFields(this.renderer,this.fields);W.fixTimeInfoFields(this.timeInfo,this.fields);return[2,U.loadStyleRenderer(this,{origin:"service"})]})})};h.prototype._verifyFields=function(){var a=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+
a+")");this.isTable||this._hasMemorySource()||-1!==a.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(a){return"geometry"===a.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+a+")")};h.prototype._fixTemplates=function(a,b){a&&a.forEach(function(a){(a=a.prototype&&a.prototype.attributes)&&b&&delete a[b]})};h.prototype._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new q("feature-layer:mixed-source-and-url",
"FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new q("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};h.prototype._initMemorySource=function(a){var b=this;a.forEach(function(a){a.layer=b;a.sourceLayer=b});this._handles.add([a.on("after-add",function(a){a.item.layer=b;a.item.sourceLayer=b}),a.on("after-remove",function(a){a.item.layer=null;a.item.sourceLayer=null})],"fl-source")};h.prototype._resetMemorySource=
function(a){a.forEach(function(a){a.layer=null;a.sourceLayer=null});this._handles.remove("fl-source")};h.prototype._hasMemorySource=function(){return!(this.url||!this.source)};h.prototype._readAttachmentCapabilities=function(a){var b={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};a&&Array.isArray(a)&&a.forEach(function(a){var c=aa[a.name];c&&(b[c]=!!a.isEnabled)});return b};h.prototype._readDataCapabilities=function(a){return{supportsAttachment:K(a,
"hasAttachments",!1),supportsM:K(a,"hasM",!1),supportsZ:K(a,"hasZ",!1)}};h.prototype._readMetadataCapabilities=function(a){return{supportsAdvancedFieldProperties:K(a,"supportsFieldDescriptionProperty",!1)}};h.prototype._readOperationsCapabilities=function(a,b){a=a?a.toLowerCase().split(",").map(function(a){return a.trim()}):[];var c=-1!==a.indexOf("editing"),d=c&&-1!==a.indexOf("create"),e=c&&-1!==a.indexOf("delete"),f=c&&-1!==a.indexOf("update");!c||d||e||f||(d=e=f=!0);return{supportsCalculate:K(b,
"supportsCalculate",!1),supportsTruncate:K(b,"supportsTruncate",!1),supportsValidateSql:K(b,"supportsValidateSql",!1),supportsAdd:d,supportsDelete:e,supportsEditing:c,supportsQuery:-1!==a.indexOf("query"),supportsQueryAttachments:K(b.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:K(b,"supportsAttachmentsResizing",!1),supportsUpdate:f,supportsExceedsLimitStatistics:K(b,"supportsExceedsLimitStatistics",!1)}};h.prototype._readQueryCapabilities=function(a){var b=a.advancedQueryCapabilities,
c=a.ownershipBasedAccessControlForFeatures,d=a.archivingInfo,e=(a.supportedQueryFormats||"").split(",").reduce(function(a,b){(b=b.toLowerCase().trim())&&a.add(b);return a},new Set);return{supportsStatistics:K(b,"supportsStatistics",a.supportsStatistics),supportsCentroid:K(b,"supportsReturningGeometryCentroid",!1),supportsDistance:K(b,"supportsQueryWithDistance",!1),supportsDistinct:K(b,"supportsDistinct",a.supportsAdvancedQueries),supportsExtent:K(b,"supportsReturningQueryExtent",!1),supportsGeometryProperties:K(b,
"supportsReturningGeometryProperties",!1),supportsHavingClause:K(b,"supportsHavingClause",!1),supportsOrderBy:K(b,"supportsOrderBy",a.supportsAdvancedQueries),supportsPagination:K(b,"supportsPagination",!1),supportsQuantization:K(a,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:K(a,"supportsQuantizationEditMode",!1),supportsQueryGeometry:K(a,"supportsReturningQueryGeometry",!1),supportsResultType:K(b,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:K(b,"supportsMaxRecordCountFactor",
!1),supportsSqlExpression:K(b,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:K(a,"useStandardizedQueries",!1),supportsQueryByOthers:K(c,"allowOthersToQuery",!0),supportsHistoricMoment:K(d,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:e.has("pbf"),supportsDisjointSpatialRelationship:K(b,"supportsDisjointSpatialRel",!1),supportsCacheHint:K(b,"supportsQueryWithCacheHint",!1)}};h.prototype._readQueryRelatedCapabilities=function(a){a=a.advancedQueryCapabilities;var b=K(a,"supportsAdvancedQueryRelated",
!1);return{supportsPagination:K(a,"supportsQueryRelatedPagination",!1),supportsCount:b,supportsOrderBy:b}};h.prototype._readEditingCapabilities=function(a){var b=a.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:K(a,"allowGeometryUpdates",!0),supportsGlobalId:K(a,"supportsApplyEditsWithGlobalIds",!1),supportsRollbackOnFailure:K(a,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:K(a,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:K(a,"supportsAttachmentsByUploadId",
!1),supportsDeleteByAnonymous:K(b,"allowAnonymousToDelete",!0),supportsDeleteByOthers:K(b,"allowOthersToDelete",!0),supportsUpdateByAnonymous:K(b,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:K(b,"allowOthersToUpdate",!0)}};k([y.property({readOnly:!0,json:{read:!1}})],h.prototype,"capabilities",void 0);k([y.reader("service","capabilities","advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities hasAttachments hasM hasZ ownershipBasedAccessControlForFeatures supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql useStandardizedQueries".split(" "))],
h.prototype,"readCapabilities",null);k([y.property({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],h.prototype,"copyright",void 0);k([y.property({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],h.prototype,"displayField",void 0);k([y.property({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],
h.prototype,"definitionExpression",void 0);k([y.property({readOnly:!0,json:{read:Y.read}})],h.prototype,"defaultSymbol",void 0);k([y.property()],h.prototype,"dynamicDataSource",void 0);k([y.property({readOnly:!0})],h.prototype,"editFieldsInfo",void 0);k([y.property({type:Boolean})],h.prototype,"editingEnabled",void 0);k([y.reader(["portal-item","web-map","web-scene"],"editingEnabled",["capabilities"])],h.prototype,"readEditingEnabled",null);k([y.writer(["portal-item","web-map","web-scene"],"editingEnabled",
{capabilities:{type:String}})],h.prototype,"writeEditingEnabled",null);k([y.property({readOnly:!0})],h.prototype,"editingInfo",void 0);k([y.reader("editingInfo")],h.prototype,"readEditingInfo",null);k([y.property(Q.elevationInfo)],h.prototype,"elevationInfo",void 0);k([y.property({types:{key:"type",base:sa.default,typeMap:{selection:ga.default}},json:{origins:{"web-scene":{read:{source:"layerDefinition.featureReduction"},write:{target:"layerDefinition.featureReduction"}}}}})],h.prototype,"featureReduction",
void 0);k([y.property(l({},da.fields,{json:{origins:{service:{read:!0}},read:{source:"layerDefinition.fields"}}}))],h.prototype,"fields",void 0);k([y.property({readOnly:!0,dependsOn:["fields","processing"]})],h.prototype,"fieldsIndex",null);k([y.property({type:B,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],h.prototype,"fullExtent",void 0);k([y.property()],h.prototype,"gdbVersion",void 0);k([y.property({readOnly:!0})],h.prototype,"geometryProperties",
void 0);k([y.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:ha.read}},read:{source:"layerDefinition.geometryType",reader:ha.read}}})],h.prototype,"geometryType",void 0);k([y.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],h.prototype,"hasM",void 0);k([y.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],h.prototype,"hasZ",void 0);k([y.property({readOnly:!0,
type:D})],h.prototype,"heightModelInfo",void 0);k([y.property({type:Date})],h.prototype,"historicMoment",void 0);k([y.property({json:{origins:{service:{read:!1},"portal-item":{read:!1}}}})],h.prototype,"id",void 0);k([y.property({readOnly:!0})],h.prototype,"isTable",void 0);k([y.reader("service","isTable",["type"]),y.reader("isTable",["layerDefinition.type"])],h.prototype,"readIsTable",null);k([y.property({dependsOn:["loaded","url","source"],readOnly:!0})],h.prototype,"hasService",null);k([y.property(Q.labelsVisible)],
h.prototype,"labelsVisible",void 0);k([y.property({type:[T],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:X.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:X.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],h.prototype,"labelingInfo",void 0);k([y.property({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],h.prototype,"layerId",void 0);k([y.property(Q.legendEnabled)],
h.prototype,"legendEnabled",void 0);k([y.property({type:["show","hide"]})],h.prototype,"listMode",void 0);k([y.property({type:Number,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.maxRecordCount"}}})],h.prototype,"maxRecordCount",void 0);k([y.property({type:Number,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.tileMaxRecordCount"}}})],h.prototype,"tileMaxRecordCount",void 0);k([y.property({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},
write:{target:"layerDefinition.minScale"}}})],h.prototype,"minScale",void 0);k([y.reader("service","minScale",["minScale","effectiveMinScale"])],h.prototype,"readMinScale",null);k([y.property({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}})],h.prototype,"maxScale",void 0);k([y.reader("service","maxScale",["maxScale","effectiveMaxScale"])],h.prototype,"readMaxScale",null);k([y.property({type:String})],h.prototype,
"objectIdField",void 0);k([y.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),y.reader("service","objectIdField",["objectIdField","fields"])],h.prototype,"readObjectIdFieldFromService",null);k([y.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],h.prototype,"operationalLayerType",void 0);k([y.property(da.outFields)],h.prototype,"outFields",void 0);k([y.property({readOnly:!0,dependsOn:["layerId"]})],h.prototype,"parsedUrl",null);k([y.property({type:String,
json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],h.prototype,"path",void 0);k([y.property(Q.popupEnabled)],h.prototype,"popupEnabled",void 0);k([y.property({type:n,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],h.prototype,"popupTemplate",void 0);k([y.property({readOnly:!0,dependsOn:["fields","title"]})],h.prototype,"defaultPopupTemplate",null);k([y.property({type:la})],h.prototype,"processing",void 0);k([y.property({type:[ka],readOnly:!0})],h.prototype,"relationships",void 0);
k([y.property({types:c.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}}},write:{target:"layerDefinition.drawingInfo.renderer"}}})],h.prototype,"renderer",null);k([y.reader("service","renderer",["drawingInfo.renderer","defaultSymbol","type"]),y.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol","layerDefinition.type"])],h.prototype,"readRenderer",null);k([y.writer("renderer")],h.prototype,"writeRenderer",null);k([y.writer("web-scene",
"renderer",{"layerDefinition.drawingInfo.renderer":{types:c.webSceneRendererTypes}})],h.prototype,"writeWebSceneRenderer",null);k([y.property()],h.prototype,"resourceInfo",void 0);k([y.property({type:Boolean})],h.prototype,"returnM",void 0);k([y.property({type:Boolean})],h.prototype,"returnZ",void 0);k([y.property(Q.screenSizePerspectiveEnabled)],h.prototype,"screenSizePerspectiveEnabled",void 0);k([y.property()],h.prototype,"source",null);k([y.cast("source")],h.prototype,"castSource",null);k([y.reader("portal-item",
"source",["featureSet"]),y.reader("web-map","source",["featureSet"])],h.prototype,"readSource",null);k([y.property({readOnly:!0,json:{origins:{service:{read:{source:"definitionExpression"}}}}})],h.prototype,"serviceDefinitionExpression",void 0);k([y.property({type:C,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],h.prototype,"spatialReference",void 0);k([y.property({type:[V]})],h.prototype,"templates",void 0);k([y.reader("templates",
["editFieldsInfo","creatorField","editorField","templates"])],h.prototype,"readTemplates",null);k([y.property()],h.prototype,"timeInfo",void 0);k([y.property()],h.prototype,"title",void 0);k([y.reader("service","title",["name"]),y.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],h.prototype,"readTitle",null);k([y.reader("web-map","title",["layerDefinition.name","title"])],h.prototype,"readTitleFromWebMap",null);k([y.property({type:String})],h.prototype,"sublayerTitleMode",
void 0);k([y.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],h.prototype,"trackIdField",void 0);k([y.property({json:{read:!1}})],h.prototype,"type",void 0);k([y.property({type:String,readOnly:!0})],h.prototype,"typeIdField",void 0);k([y.reader("service","typeIdField"),y.reader("typeIdField",["layerDefinition.typeIdField"])],h.prototype,"readTypeIdField",null);k([y.property({type:[S]})],h.prototype,"types",void 0);k([y.reader("service","types",["types"]),y.reader("types",["layerDefinition.types"])],
h.prototype,"readTypes",null);k([y.property({type:m.ofType(R.FeatureIndex),readOnly:!0})],h.prototype,"indexes",void 0);k([y.property(Q.url)],h.prototype,"url",null);k([y.writer("url")],h.prototype,"writeUrl",null);k([y.property({readOnly:!0})],h.prototype,"userIsAdmin",void 0);k([y.property({json:{origins:{service:{read:!0}},read:!1}})],h.prototype,"version",void 0);k([y.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],
h.prototype,"readVersion",null);k([y.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],h.prototype,"visible",void 0);k([y.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],h.prototype,"readVisible",null);return h=k([y.subclass("esri.layers.FeatureLayer")],h)}(y.declared(E,O,I,J,L,H,w,M))})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y,B,D,C,E,F,G,H,O){var I=c.ofType({key:"type",defaultKeyValue:"button",base:G,typeMap:{button:H,toggle:O}}),L={base:B,key:"type",typeMap:{media:C,text:E,attachments:y,fields:D}},J=r.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}e(b,a);f=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return t.ensureOneOfType(L,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||m.isThenable(a))return a;J.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){var c=b.description,d=b.mediaInfos;a=b.popupElements;b=b.showAttachments;if(Array.isArray(a)&&0<a.length)return a.map(function(a){if("media"===
a.type)return!a.mediaInfos&&d&&(a.mediaInfos=d),C.fromJSON(a);if("text"===a.type)return!a.text&&c&&(a.text=c),E.fromJSON(a);if("attachments"===a.type)return y.fromJSON(a);if("fields"===a.type)return D.fromJSON(a)}).filter(Boolean);a=[];c?a.push(new E({text:c})):a.push(new D);Array.isArray(d)&&d.length&&a.push(C.fromJSON({mediaInfos:d}));b&&a.push(y.fromJSON({displayType:"list"}));return a.length?a:c};b.prototype.writeContent=function(a,b){"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=
a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"!==a.type||b.showAttachments?"media"!==a.type||b.mediaInfos?"text"!==a.type||b.description||(a.text&&(b.description=a.text),delete a.text):(a.mediaInfos&&(b.mediaInfos=p.clone(a.mediaInfos)),delete a.mediaInfos):b.showAttachments=!0}))};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};b.prototype.writeTitle=function(a,b){b.title=
a||""};b.prototype.clone=function(){var a=this.actions,a=a?p.clone(a.toArray()):[];return new f({actions:a,content:Array.isArray(this.content)?p.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?p.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?p.clone(this.fieldInfos):null,layerOptions:this.layerOptions?p.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?p.clone(this.outFields):
null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?p.clone(this.relatedRecordsInfo):null})};b.prototype.collectRequiredFields=function(a,b){return d(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),v.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),
[2]}})})};b.prototype.getRequiredFields=function(a){return d(this,void 0,void 0,function(){var b;return h(this,function(c){switch(c.label){case 0:return b=new n.default,[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,g.from(b).sort()]}})})};b.prototype._getContentElementFields=function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,
c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},d=c.fields,e=void 0===d?[]:d,d=c.normalizeField,f=c.tooltipField,g=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(g),this._extractFieldNames(c),e);d&&a.push(d);f&&a.push(f);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===
typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,c){return d(this,void 0,void 0,function(){return h(this,function(d){switch(d.label){case 0:return c?[4,m.all(c.map(function(c){return v.collectArcadeFieldNames(a,b,c.expression)}))]:[2];case 1:return d.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?
!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};b.prototype._getActionFields=function(a){var b=a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};
b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var f;k([q.property({type:I})],b.prototype,"actions",void 0);k([q.property()],
b.prototype,"content",void 0);k([q.cast("content")],b.prototype,"castContent",null);k([q.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);k([q.writer("content",{popupElements:{type:c.ofType(x.types)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(F.types)},description:{type:String}})],b.prototype,"writeContent",null);k([q.property({type:[u],json:{write:!0}})],b.prototype,"expressionInfos",void 0);k([q.property({type:[w],json:{write:!0}})],
b.prototype,"fieldInfos",void 0);k([q.property({type:z})],b.prototype,"layerOptions",void 0);k([q.writer("layerOptions")],b.prototype,"writeLayerOptions",null);k([q.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);k([q.property()],b.prototype,"outFields",void 0);k([q.property()],b.prototype,"overwriteActions",void 0);k([q.property({json:{type:String}})],b.prototype,"title",void 0);k([q.writer("title")],
b.prototype,"writeTitle",null);k([q.property({type:A,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=f=k([q.subclass("esri.PopupTemplate")],b)}(q.declared(f))})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ../../core/Error ../../core/object ../../core/promiseUtils ./domains ../../support/arcadeOnDemand".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){function r(a,b,c){if(a)for(var d=0;d<a.length;d++){var e=a[d],f=n.getDeepValue(e,b);(f=f&&"function"!==typeof f&&v(c,f))&&n.setDeepValue(e,f.name,b)}}function m(a,b){if(!a||!b)return[];L.clear();q(L,a,b);return h.from(L).sort()}function q(a,b,c){if(c)if(b&&b.length)if(h.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var d=0;d<c.length;d++)e=c[d],t(a,b,e);else if(h.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var e=c[b];a.add(e)}}
function t(a,b,c){b&&b.length?(b=v(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function v(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===b)return d}}return null}function x(a,b,c){return k(this,void 0,void 0,function(){var d,f,g,m,h;return e(this,function(e){switch(e.label){case 0:return c?[4,p.loadArcade()]:[2];case 1:d=e.sent().arcadeUtils;f=d.extractFieldNames(c);g=0;for(m=f;g<m.length;g++)h=m[g],t(a,
b,h);return[2]}})})}function u(a,b){return k(this,void 0,void 0,function(){var c,d;return e(this,function(e){if(!b)return[2];c=b.fields;return(d=n.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,d.collectRequiredFields(a,c)]:[2]})})}function w(a,b){return k(this,void 0,void 0,function(){var d,f;return e(this,function(e){switch(e.label){case 0:return d=b.labelingInfo,f=b.fields,d&&d.length?[4,c.all(d.map(function(b){return z(a,f,b)}))]:[2];case 1:return e.sent(),[2]}})})}function z(a,b,c){return k(this,
void 0,void 0,function(){var d,f,g,m,h;return e(this,function(e){switch(e.label){case 0:if(!c)return[2];d=c.getLabelExpression();f=c.where;return"arcade"!==d.type?[3,2]:[4,x(a,b,d.expression)];case 1:return e.sent(),[3,3];case 2:(g=d.expression.match(/{[^}]*}/g))&&g.forEach(function(c){t(a,b,c.slice(1,-1))}),e.label=3;case 3:return m=/['"]+/g,f&&(h=f.split(" "),3===h.length&&t(a,b,h[0].replace(m,"")),7===h.length&&(t(a,b,h[0].replace(m,"")),t(a,b,h[4].replace(m,"")))),[2]}})})}function A(a){return"number"===
typeof a&&!isNaN(a)&&isFinite(a)}function y(a){return null===a||A(a)}function B(a){return null===a||J(a)}function D(a){return null!=a&&"string"===typeof a}function C(a){return null===a||D(a)}function E(a){return!0}function F(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?B:J;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?y:A;break;case "string":case "esriFieldTypeString":c=a.nullable?C:D;break;default:c=E}return 1===arguments.length?c:c(b)}function G(a){return null!=a&&M.has(a.type)}function H(a,b){return a.nullable&&null===b?null:G(a)&&!O(a.type,b)?P.OUT_OF_RANGE:F(a,b)?a.domain?f.validateDomainValue(a.domain,b):null:Q.INVALID_TYPE}function O(a,b){return(a="string"===typeof a?I(a):a)?a.isInteger?J(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function I(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return b.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return b.integerRange;case "esriFieldTypeSingle":case "single":return b.singleRange;case "esriFieldTypeDouble":case "double":return b.doubleRange}}Object.defineProperty(b,"__esModule",{value:!0});b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");b.visualVariableFields=["field","normalizationField"];b.fixRendererFields=
function(a,c){if(null!=a&&null!=c){var d=0;for(a=Array.isArray(a)?a:[a];d<a.length;d++){var e=a[d];r(b.rendererFields,e,c);if("visualVariables"in e&&e.visualVariables)for(var f=0,e=e.visualVariables;f<e.length;f++)r(b.visualVariableFields,e[f],c)}}};b.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=v(b,a.startField);b=v(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=v(b,a.startTimeField),b=v(b,a.endTimeField),a.startTimeField=c&&c.name||
null,a.endTimeField=b&&b.name||null};var L=new d.default;b.fixFields=m;b.collectFields=q;b.collectField=t;b.unpackFieldNames=function(a,b){return b&&a?h.includes(b,"*")?a.map(function(a){return a.name}):b:[]};b.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(h.includes(b,"*"))return["*"];b=m(a,b);return b.length/a.length>=c?["*"]:b};b.getField=v;b.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===
b)return!0}return!1};b.collectArcadeFieldNames=x;b.getElevationFields=function(a){return k(this,void 0,void 0,function(){var b;return e(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new d.default;return[4,u(b,a)];case 1:return c.sent(),[2,h.from(b).sort()]}})})};b.collectElevationFields=u;b.collectFilterFields=function(b,d,f){return k(this,void 0,void 0,function(){var m,h;return e(this,function(e){switch(e.label){case 0:if(!d||!f||!(f.where&&"1\x3d1"!==f.where||f.timeExtent))return[2];
d.timeInfo&&f.timeExtent&&q(b,d.fields,[d.timeInfo.startField,d.timeInfo.endField]);return f.where?[4,c.create(function(b){a(["../../core/sql/WhereClause"],b)})]:[3,2];case 1:m=e.sent();h=m.WhereClause.create(f.where,d.fieldsIndex);if(!h.isStandardized)return[2,c.reject(new g("fieldUtils:collectFilterFields","Where clause is not standardized"))];q(b,d.fields,h.fieldNames);e.label=2;case 2:return[2]}})})};b.getTimeFields=function(a){return k(this,void 0,void 0,function(){var b;return e(this,function(c){return a?
(b="timeInfo"in a&&a.timeInfo)?[2,m(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};b.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?m(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};b.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?m(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};b.getLabelingFields=
function(a){return k(this,void 0,void 0,function(){var b;return e(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new d.default;return[4,w(b,a)];case 1:return c.sent(),[2,h.from(b).sort()]}})})};b.collectLabelingFields=w;b.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&F(a,b))return b;if(a.nullable)return null};var J=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();b.isValueMatchingFieldType=
F;b.numericTypes=["integer","small-integer","single","double"];var M=new d.default(b.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));b.isNumericField=G;b.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};b.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};b.isValidFieldValue=function(a,b){return null===H(a,b)};var P;(P=b.NumericRangeValidationError||
(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var Q;(Q=b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";b.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};b.validateFieldValue=H;b.isNumberInRange=O;b.getFieldRange=function(a){var b=f.getDomainRange(a.domain);if(b)return b;if(G(a))return I(a.type)};b.getNumericTypeForValue=function(a){if(!A(a))return null;if(J(a)){if(a>=
b.smallIntegerRange.min&&a<=b.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=b.integerRange.min&&a<=b.integerRange.max)return"esriFieldTypeInteger"}return a>=b.singleRange.min&&a<=b.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.smallIntegerRange={min:-32768,max:32767,isInteger:!0};b.integerRange={min:-2147483648,max:2147483647,isInteger:!0};b.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};b.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.validationErrorToString=
function(a,b,c){switch(a){case f.DomainValidationError.INVALID_CODED_VALUE:return"Value "+c+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case f.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+c+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case Q.INVALID_TYPE:return"Value "+c+" is not a valid value for the field type - field: "+b.name+", type: "+b.type+", nullable: "+b.nullable;case P.OUT_OF_RANGE:return a=
I(b.type),"Value "+c+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};b.featureHasFields=function(a,b){if(!b||!b.attributes||!a)return!1;b=b.attributes;for(var c=0;c<a.length;c++)if(!(a[c]in b))return!1;return!0}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(a,b,l,e,k,h,d){function g(a,b){switch(a.type){case "range":var c=
"range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>c)return n.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return n.INVALID_CODED_VALUE}return null}Object.defineProperty(b,"__esModule",{value:!0});b.CodedValueDomain=e;b.DomainBase=k;b.InheritedDomain=h;b.RangeDomain=d;var n;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(n=b.DomainValidationError||(b.DomainValidationError={}));b.isValidDomainValue=function(a,b){return null===g(a,b)};b.validateDomainValue=g;b.types={key:"type",base:b.DomainBase,typeMap:{range:b.RangeDomain,"coded-value":b.CodedValueDomain,inherited:b.InheritedDomain}};b.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};b.fromJSON=function(a){if(!a||!a.type)return null;
switch(a.type){case "range":return b.RangeDomain.fromJSON(a);case "codedValue":return b.CodedValueDomain.fromJSON(a);case "inherited":return b.InheritedDomain.fromJSON(a);default:l.neverReached(a)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=
a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}l(b,a);f=b;b.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};b.prototype.clone=function(){return new f({codedValues:k.clone(this.codedValues),name:this.name})};var f;e([h.property({type:[d.default],json:{write:!0}})],b.prototype,"codedValues",void 0);e([h.enumeration.serializable()({codedValue:"coded-value"})],b.prototype,
"type",void 0);return b=f=e([h.subclass("esri.layers.support.CodedValueDomain")],b)}(h.declared(g))})},"esri/layers/support/CodedValue":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.code=null;return b}e(b,a);d=b;b.prototype.clone=
function(){return new d({name:this.name,code:this.code})};var d;l([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);l([h.property({type:[String,Number],json:{write:!0}})],b.prototype,"code",void 0);return b=d=l([h.subclass("esri.layers.support.CodedValue")],b)}(h.declared(k));b.CodedValue=a;b.default=a})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d){var g=new k.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.type=null;return b}l(b,a);e([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([d.enumeration.serializable()(g)],b.prototype,"type",void 0);return b=e([d.subclass("esri.layers.support.Domain")],b)}(d.declared(h))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this,b)||this;b.type="inherited";return b}l(b,a);d=b;b.prototype.clone=function(){return new d};var d;e([k.enumeration.serializable()({inherited:"inherited"})],b.prototype,"type",void 0);return b=d=e([k.subclass("esri.layers.support.InheritedDomain")],b)}(k.declared(h))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this,b)||this;b.maxValue=null;b.minValue=null;b.type="range";return b}l(b,a);d=b;b.prototype.clone=function(){return new d({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var d;e([k.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,
b,d){b[d]=[this.minValue||0,a]}}}})],b.prototype,"maxValue",void 0);e([k.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,d){b[d]=[a,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);e([k.enumeration.serializable()({range:"range"})],b.prototype,"type",void 0);return b=d=e([k.subclass("esri.layers.support.RangeDomain")],b)}(k.declared(h))})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../geometry ../core/promiseUtils".split(" "),
function(a,b,l,e,k,h,d){function g(){return e(this,void 0,void 0,function(){return l(this,function(b){n||(n=d.all([d.create(function(b){return a(["./arcadeUtils"],b)})]).then(function(a){a=a[0];return{arcade:a.arcade,arcadeUtils:a,Dictionary:a.Dictionary,Feature:a.arcadeFeature}}));return[2,n]})})}Object.defineProperty(b,"__esModule",{value:!0});var n;b.loadArcade=g;b.createLabelExpression=function(a,b,d){return c.create(a,b,d,["$feature"])};b.createVVExpression=function(a,b,d){return c.create(a,
b,d,["$feature","$view"])};b.createRendererExpression=function(a,b,d){return c.create(a,b,d,["$feature","$view"])};var c=function(){function a(a,b,c,d,e,f,g){this.evaluate=d;this._syntaxTree=c;this._arcade=a;this._arcadeDictionary=b;this._arcadeFeature=e;this._fields=f;this._spatialReference=g;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"$view.scale")}a.create=function(b,c,f,n,t){return e(this,void 0,void 0,
function(){var e,m,q,p,r,A,y,B,D,C,E,F,G,H;return l(this,function(l){switch(l.label){case 0:return[4,g()];case 1:return e=l.sent(),m=e.arcade,q=e.Feature,p=e.Dictionary,r=h.SpatialReference.fromJSON(c),A=m.parseScript(b,t),y=n.reduce(function(a,b){var c;return k({},a,(c={},c[b]=null,c))},{}),B=m.scriptUsesGeometryEngine(A)&&m.enableGeometrySupport(),D=m.scriptUsesFeatureSet(A)&&m.enableFeatureSetSupport(),C=m.scriptIsAsync(A)&&m.enableAsyncSupport(),E={vars:y,spatialReference:r,useAsync:!!C},F=new p,
F.immutable=!1,F.setField("scale",0),G=m.compileScript(A,E),H=function(a){"$view"in a&&a.$view&&(F.setField("scale",a.$view.scale),a.$view=F);return G({vars:a,spatialReference:r})},[4,d.all([B,D,C])];case 2:return l.sent(),[2,new a(m,p,A,H,new q,f,r)]}})})};a.prototype.repurposeFeature=function(a){a.geometry.spatialReference||(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};
a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,
a)};return a}();b.default=c})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),function(a,b,l,e,k,h,d){Object.defineProperty(b,"__esModule",{value:!0});b.AttachmentsContent=l;b.BaseContent=e;b.FieldsContent=k;b.MediaContent=h;b.TextContent=d;b.isContent=function(a){return a instanceof b.BaseContent};b.types={base:null,key:"type",typeMap:{attachment:b.AttachmentsContent,
fields:b.FieldsContent,media:b.MediaContent,text:b.TextContent}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this)||this;b.attachmentInfos=null;b.displayType=null;b.type="attachments";return b}l(b,a);f=b;b.prototype.clone=
function(){return new f({displayType:this.displayType,attachmentInfos:this.attachmentInfos?k.clone(this.attachmentInfos):null})};var f;e([h.property({type:[d]})],b.prototype,"attachmentInfos",void 0);e([h.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);e([h.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=f=e([h.subclass("esri.popup.content.AttachmentsContent")],b)}(h.declared(g))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./exifUtils".split(" "),
function(a,b,l,e,k,h,d,g){var n={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};return function(a){function b(b){b=a.call(this)||this;b.contentType=null;b.exifInfo=null;b.id=null;b.keywords=null;b.name=null;b.parentObjectId=null;b.size=null;b.url=null;return b}l(b,a);c=b;Object.defineProperty(b.prototype,
"orientationInfo",{get:function(){var a=g.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return n[a]||null},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,keywords:this.keywords,name:this.name,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var c;e([h.property({type:String})],b.prototype,"contentType",void 0);e([h.property()],b.prototype,"exifInfo",void 0);
e([h.property({readOnly:!0,dependsOn:["exifInfo"]})],b.prototype,"orientationInfo",null);e([h.property({type:d.Integer})],b.prototype,"id",void 0);e([h.property({type:String})],b.prototype,"keywords",void 0);e([h.property({type:String})],b.prototype,"name",void 0);e([h.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);e([h.property({type:d.Integer})],b.prototype,"size",void 0);e([h.property({json:{read:!1}})],b.prototype,"url",void 0);return b=c=e([h.subclass("esri.layers.support.AttachmentInfo")],
b)}(h.declared(k))})},"esri/layers/support/exifUtils":function(){define(["require","exports","../../core/arrayUtils"],function(a,b,l){function e(a){var b=a.tagName;a=a.tags;return a&&b?(a=l.find(a,function(a){return a.name===b}))&&a.value||null:null}Object.defineProperty(b,"__esModule",{value:!0});b.getExifValue=function(a){var b=a.exifInfo,d=a.exifName;a=a.tagName;return b&&d&&a?(b=l.find(b,function(a){return a.name===d}))?e({tagName:a,tags:b.tags}):null:null}})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.type=null;return b}l(b,a);e([h.property({type:["attachments","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.popup.content.Content")],b)}(h.declared(k))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this)||this;b.fieldInfos=null;b.type="fields";return b}l(b,a);f=b;b.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new f({fieldInfos:Array.isArray(this.fieldInfos)?k.clone(this.fieldInfos):null})};var f;e([h.property({type:[d]})],b.prototype,"fieldInfos",void 0);e([h.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);e([h.property({type:["fields"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=f=e([h.subclass("esri.popup.content.FieldsContent")],b)}(h.declared(g))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(a,b,l,e,k,h,d,g,n){var c=new k.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});
return function(a){function b(b){b=a.call(this)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}l(b,a);f=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=c.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return c.fromJSON(a)};b.prototype.clone=function(){return new f({fieldName:this.fieldName,format:this.format?d.clone(this.format):null,isEditable:this.isEditable,
label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var f;e([g.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);e([g.property({type:n,json:{write:!0}})],b.prototype,"format",void 0);e([g.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([g.property({type:c.apiValues,json:{write:!0,
default:"text-box",type:c.jsonValues}})],b.prototype,"stringFieldOption",void 0);e([g.writer("stringFieldOption")],b.prototype,"writeStringFieldOption",null);e([g.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);e([g.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);e([g.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);
return b=f=e([g.subclass("esri.popup.FieldInfo")],b)}(g.declared(h))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),function(a,b,l,e,k,h,d,g,n,c){return function(a){function b(b){b=a.call(this)||this;b.dateFormat=null;b.digitSeparator=
!1;b.places=null;return b}l(b,a);f=b;b.prototype.clone=function(){return new f({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};b.prototype.format=function(a){return this.dateFormat?n.formatDate(a,n.convertDateFormatToIntlOptions(this.dateFormat)):c.formatNumber(a,c.convertNumberFormatToIntlOptions(this))};var f;e([d.enumeration.serializable()(k.dictionary)],b.prototype,"dateFormat",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",
void 0);e([d.property({type:g.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=f=e([d.subclass("esri.popup.support.FieldInfoFormat")],b)}(d.declared(h))})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b.dictionary=l.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",
shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);b.getFormat=function(a){return b.formats[a]}})},"esri/intl/date":function(){define("require exports ../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(a,b,l,e,k,h){function d(a){a=a||t;if(!q.has(a)){var b=h.getLocale(),b=m[h.getLocale()]||b;q.set(a,new Intl.DateTimeFormat(b,a))}return q.get(a)}Object.defineProperty(b,
"__esModule",{value:!0});a={year:"numeric",month:"numeric",day:"numeric"};var g={year:"numeric",month:"long",day:"numeric"},n={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},f={hour:"numeric",minute:"numeric"},p=l({},f,{second:"numeric"}),r={"short-date":a,"short-date-short-time":l({},a,f),"short-date-short-time-24":l({},a,f,{hour12:!1}),"short-date-long-time":l({},a,p),"short-date-long-time-24":l({},a,p,{hour12:!1}),"short-date-le":a,"short-date-le-short-time":l({},
a,f),"short-date-le-short-time-24":l({},a,f,{hour12:!1}),"short-date-le-long-time":l({},a,p),"short-date-le-long-time-24":l({},a,p,{hour12:!1}),"long-month-day-year":g,"long-month-day-year-short-time":l({},g,f),"long-month-day-year-short-time-24":l({},g,f,{hour12:!1}),"long-month-day-year-long-time":l({},g,p),"long-month-day-year-long-time-24":l({},g,p,{hour12:!1}),"day-short-month-year":n,"day-short-month-year-short-time":l({},n,f),"day-short-month-year-short-time-24":l({},n,f,{hour12:!1}),"day-short-month-year-long-time":l({},
n,p),"day-short-month-year-long-time-24":l({},n,p,{hour12:!1}),"long-date":c,"long-date-short-time":l({},c,f),"long-date-short-time-24":l({},c,f,{hour12:!1}),"long-date-long-time":l({},c,p),"long-date-long-time-24":l({},c,p,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":f,"long-time":p};b.dictionary=k.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.dateFormats=b.dictionary.apiValues;b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);var m={ar:"ar-u-nu-latn-ca-gregory"},q=new e.default,t=r["short-date-short-time"];h.onLocaleChange(function(){q=new e.default;t=r["short-date-short-time"]});b.getDateTimeFormatter=d;b.convertDateFormatToIntlOptions=function(a){return r[a]||null};b.formatDate=function(a,b){return d(b).format(a)}})},
"@dojo/framework/shim/WeakMap":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=a("tslib"),e=a("./global"),k=a("./iterator"),h=a("../has/has");a("./Symbol");b.WeakMap=e.default.WeakMap;if(!h.default("es6-weakmap")){var d=
{},g=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();b.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=g();this._frozenEntries=[];if(a)if(k.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(b=l.__values(a),c=b.next();!c.done;c=b.next()){var d=l.__read(c.value,2);this.set(d[0],d[1])}}catch(t){e={error:t}}finally{try{c&&!c.done&&(h=b.return)&&h.call(b)}finally{if(e)throw e.error;
}}var e,h}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==d)return b.value=d,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==d)return b.value;a=this._getFrozenEntryIndex(a);
if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==d||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var c=a[this._name];c&&c.key===a||(c=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(c):Object.defineProperty(a,this._name,{value:c}));
c.value=b;return this};return a}()}b.default=b.WeakMap})},"esri/intl/locale":function(){define(["require","exports","dojo/_base/kernel"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});var e=l.locale;b.getLocale=function(){return e};b.setLocale=function(a){e=a;k.slice().forEach(function(b){b.call(null,a)})};var k=[];b.onLocaleChange=function(a){k.push(a);return{remove:function(){k.splice(k.indexOf(a),1)}}}})},"esri/intl/number":function(){define(["require","exports","../core/tsSupport/assignHelper",
"@dojo/framework/shim/WeakMap","./locale"],function(a,b,l,e,k){function h(a){var b=a||n;if(!g.has(b)){var c=k.getLocale(),c=d[k.getLocale()]||c;g.set(b,new Intl.NumberFormat(c,a))}return g.get(b)}Object.defineProperty(b,"__esModule",{value:!0});var d={ar:"ar-u-nu-arab"},g=new e.default,n={};k.onLocaleChange(function(){g=new e.default;n={}});b.getFormatter=h;b.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&
(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};b.formatNumber=function(a,b){return h(b).format(a)}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(a,b,l,e,k,h,d,g,n,c,
f,p,r){return function(a){function b(b){b=a.call(this)||this;b.mediaInfos=null;b.type="media";return b}l(b,a);m=b;b.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return c.fromJSON(a);if("barchart"===a.type)return d.fromJSON(a);if("columnchart"===a.type)return g.fromJSON(a);if("linechart"===a.type)return f.fromJSON(a);if("piechart"===a.type)return p.fromJSON(a)}).filter(Boolean)};b.prototype.writeMediaInfos=function(a,b){b.mediaInfos=a&&a.map(function(a){return a.toJSON()})};
b.prototype.clone=function(){return new m({mediaInfos:this.mediaInfos?k.clone(this.mediaInfos):null})};var m;e([h.property({types:[r.types]})],b.prototype,"mediaInfos",void 0);e([h.reader("mediaInfos")],b.prototype,"readMediaInfos",null);e([h.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);e([h.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=m=e([h.subclass("esri.popup.content.MediaContent")],b)}(h.declared(n))})},"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.type="bar-chart";return b}l(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;e([k.property({type:["bar-chart"],readOnly:!0,json:{read:!1,write:d.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=e([k.subclass("esri.popup.content.BarChartMediaInfo")],b)}(k.declared(h))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.type=null;b.value=null;return b}l(b,a);e([k.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);e([k.property({type:d,json:{write:!0}})],b.prototype,"value",void 0);return b=e([k.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)}(k.declared(h))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.caption="";b.title="";b.type=null;return b}l(b,a);e([h.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);e([h.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.popup.content.mixins.MediaInfo")],b)}(h.declared(k))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}l(b,a);f=b;b.prototype.clone=function(){return new f({fields:h.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var f;e([d.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);e([d.property({type:[g],json:{read:!1}})],b.prototype,"series",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=f=e([d.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)}(d.declared(k))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.tooltip=null;b.x=null;b.y=null;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({tooltip:this.tooltip,x:this.x,y:this.y})};var d;e([h.property()],b.prototype,"tooltip",void 0);e([h.property()],b.prototype,"x",void 0);e([h.property()],b.prototype,"y",void 0);return b=d=e([h.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)}(h.declared(k))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.chartTypeKebabDict=l.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,
l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.type="column-chart";return b}l(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;e([k.property({type:["column-chart"],readOnly:!0,json:{read:!1,write:d.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=e([k.subclass("esri.popup.content.ColumnChartMediaInfo")],b)}(k.declared(h))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var c;e([k.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);e([k.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);e([k.property({type:d,
json:{write:!0}})],b.prototype,"value",void 0);return b=c=e([k.subclass("esri.popup.content.ImageMediaInfo")],b)}(k.declared(h))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.linkURL=null;b.sourceURL=null;return b}l(b,a);
d=b;b.prototype.clone=function(){return new d({linkURL:this.linkURL,sourceURL:this.sourceURL})};var d;e([h.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=d=e([h.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)}(h.declared(k))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.type="line-chart";return b}l(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;e([k.property({type:["line-chart"],readOnly:!0,json:{read:!1,write:d.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=e([k.subclass("esri.popup.content.LineChartMediaInfo")],b)}(k.declared(h))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.type="pie-chart";return b}l(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;e([k.property({type:["pie-chart"],readOnly:!0,json:{read:!1,write:d.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=e([k.subclass("esri.popup.content.PieChartMediaInfo")],b)}(k.declared(h))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,l,e,k,h,d,g){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:g,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":l,"column-chart":e,"line-chart":h,"pie-chart":d,image:k}};b.default=b.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||
this;b.text=null;b.type="text";return b}l(b,a);d=b;b.prototype.clone=function(){return new d({text:this.text})};var d;e([k.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([k.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=d=e([k.subclass("esri.popup.content.TextContent")],b)}(k.declared(h))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var d;e([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);e([h.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=d=e([h.subclass("esri.popup.ExpressionInfo")],b)}(h.declared(k))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.returnTopmostRaster=null;b.showNoDataRecords=null;
return b}l(b,a);d=b;b.prototype.clone=function(){return new d({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var d;e([h.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);e([h.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=d=e([h.subclass("esri.popup.LayerOptions")],b)}(h.declared(k))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}l(b,a);f=b;b.prototype.clone=function(){return new f({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?h.clone(this.orderByFields):null})};var f;e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);e([d.property({type:[g],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=f=e([d.subclass("esri.popup.RelatedRecordsInfo")],
b)}(d.declared(k))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.field=null;b.order=null;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({field:this.field,order:this.order})};var d;e([h.property({type:String,json:{write:!0}})],
b.prototype,"field",void 0);e([h.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=d=e([h.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)}(h.declared(k))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(b){b=
a.call(this)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;b.visible=!0;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var c;e([d.property()],b.prototype,"active",void 0);e([d.property()],b.prototype,"className",void 0);e([d.property()],b.prototype,"disabled",void 0);e([d.property()],b.prototype,
"id",void 0);e([d.property()],b.prototype,"indicator",void 0);e([d.property()],b.prototype,"title",void 0);e([d.property()],b.prototype,"type",void 0);e([d.property()],b.prototype,"visible",void 0);return b=c=e([d.subclass("esri.support.actions.ActionBase")],b)}(d.declared(k,h.Identifiable))})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.image=null;b.type="button";return b}l(b,a);d=b;b.prototype.clone=function(){return new d({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var d;e([k.property()],b.prototype,"image",void 0);return b=d=e([k.subclass("esri.support.Action.ActionButton")],b)}(k.declared(h))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.image=null;b.type="toggle";b.value=!1;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var d;e([k.property()],b.prototype,"image",void 0);e([k.property()],b.prototype,"value",void 0);return b=d=e([k.subclass("esri.support.Action.ActionToggle")],
b)}(k.declared(h))})},"esri/renderers":function(){define("require exports ./renderers/ClassBreaksRenderer ./renderers/DictionaryRenderer ./renderers/DotDensityRenderer ./renderers/HeatmapRenderer ./renderers/Renderer ./renderers/SimpleRenderer ./renderers/StretchRenderer ./renderers/UniqueValueRenderer ./renderers/support/jsonUtils".split(" "),function(a,b,l,e,k,h,d,g,n,c,f){Object.defineProperty(b,"__esModule",{value:!0});b.ClassBreaksRenderer=l;b.DictionaryRenderer=e;b.DotDensityRenderer=k;b.HeatmapRenderer=
h;b.BaseRenderer=d;b.SimpleRenderer=g;b.StretchRenderer=n;b.UniqueValueRenderer=c;b.isRenderer=function(a){return a instanceof b.BaseRenderer};b.read=f.read;b.write=f.write;b.fromJSON=f.fromJSON;b.rendererTypes={key:"type",base:b.BaseRenderer,typeMap:{heatmap:b.HeatmapRenderer,simple:b.SimpleRenderer,"unique-value":b.UniqueValueRenderer,"class-breaks":b.ClassBreaksRenderer,"dot-density":b.DotDensityRenderer,dictionary:b.DictionaryRenderer}};b.webSceneRendererTypes={key:"type",base:b.BaseRenderer,
typeMap:{simple:b.SimpleRenderer,"unique-value":b.UniqueValueRenderer,"class-breaks":b.ClassBreaksRenderer}};b.rasterRendererTypes={key:"type",base:b.BaseRenderer,typeMap:{"unique-value":b.UniqueValueRenderer,"class-breaks":b.ClassBreaksRenderer,"raster-stretch":b.StretchRenderer}}})},"esri/renderers/ClassBreaksRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../symbols ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesRenderer ./support/ClassBreakInfo ./support/LegendOptions ../support/arcadeOnDemand ../symbols/support/jsonUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A){var y=r.getLogger("esri.renderers.ClassBreaksRenderer"),B=new f.default({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),D=q.ensureType(u.ClassBreakInfo);return function(a){function b(b){b=a.call(this)||this;b.backgroundFillSymbol=null;b.classBreakInfos=null;b.defaultLabel=null;b.defaultSymbol=null;b.field=null;b.isMaxInclusive=!0;b.legendOptions=null;b.normalizationField=null;b.normalizationTotal=
null;b.type="class-breaks";b.valueExpression=null;b.valueExpressionTitle=null;b._set("classBreakInfos",[]);return b}l(b,a);f=b;Object.defineProperty(b.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});b.prototype.readClassBreakInfos=function(a,b,c){if(Array.isArray(a)){var d=b.minValue;return a.map(function(a){var b=new u.ClassBreakInfo;b.read(a,c);null==b.minValue&&(b.minValue=d);null==b.maxValue&&(b.maxValue=b.minValue);d=b.maxValue;return b})}};b.prototype.writeClassBreakInfos=
function(a,b,c,d){a=a.map(function(a){return a.write({},d)});this._areClassBreaksConsecutive()&&a.forEach(function(a){return delete a.classMinValue});b[c]=a};b.prototype.readDefaultSymbol=function(a,b,c){return A.read(a,b,c)};b.prototype.writeDefaultSymbolWebScene=function(a,b,c,d){A.writeTarget(a,b,c,d)};b.prototype.writeDefaultSymbol=function(a,b,c,d){A.writeTarget(a,b,c,d)};b.prototype.castField=function(a){return null==a?a:"function"===typeof a?(y.error(".field: field must be a string value"),
null):q.ensureString(a)};Object.defineProperty(b.prototype,"minValue",{get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"normalizationType",{get:function(){var a=this._get("normalizationType"),b=!!this.normalizationField,c=null!=this.normalizationTotal;if(b||c)a=b&&"field"||c&&"percent-of-total"||null,b&&c&&y.warn("warning: both normalizationField and normalizationTotal are set!");
else if("field"===a||"percent-of-total"===a)a=null;return a},set:function(a){this._set("normalizationType",a)},enumerable:!0,configurable:!0});b.prototype.addClassBreakInfo=function(a,b,c){var d=null,d="number"===typeof a?new u.ClassBreakInfo({minValue:a,maxValue:b,symbol:c}):D(p.clone(a));this.classBreakInfos.push(d);1===this.classBreakInfos.length&&this.notifyChange("minValue")};b.prototype.removeClassBreakInfo=function(a,b){for(var c=this.classBreakInfos.length,d=0;d<c;d++){var e=[this.classBreakInfos[d].minValue,
this.classBreakInfos[d].maxValue];if(e[0]===a&&e[1]===b){this.classBreakInfos.splice(d,1);break}}};b.prototype.getBreakIndex=function(a,b){return this.valueExpression?this._getBreakIndexForExpression(a,b):this._getBreakIndexForField(a)};b.prototype.getClassBreakInfo=function(a,b){return d(this,void 0,void 0,function(){var c,d,e;return h(this,function(f){switch(f.label){case 0:return c=b,this.valueExpression?[4,z.loadArcade()]:[3,2];case 1:d=f.sent().arcadeUtils,c=g({},c,{arcadeUtils:d}),f.label=2;
case 2:return e=this.getBreakIndex(a,c),[2,-1!==e?this.classBreakInfos[e]:null]}})})};b.prototype.getSymbol=function(a,b){if(!this.valueExpression||b&&b.arcadeUtils)return a=this.getBreakIndex(a,b),-1<a?this.classBreakInfos[a].symbol:this.defaultSymbol;y.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")};b.prototype.getSymbolAsync=function(a,b){return d(this,void 0,void 0,function(){var c,d,e;return h(this,function(f){switch(f.label){case 0:return c=b,this.valueExpression?
[4,z.loadArcade()]:[3,2];case 1:d=f.sent().arcadeUtils,c=g({},c,{arcadeUtils:d}),f.label=2;case 2:return e=this.getBreakIndex(a,c),[2,-1<e?this.classBreakInfos[e].symbol:this.defaultSymbol]}})})};b.prototype.getSymbols=function(){var a=[];this.classBreakInfos.forEach(function(b){b.symbol&&a.push(b.symbol)});this.defaultSymbol&&a.push(this.defaultSymbol);return a};b.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},
"")};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),c=this.normalizationField+"."+this.normalizationType+"."+this.normalizationTotal,d=this.classBreakInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+d+"."+c+"."+this.field+"."+this.valueExpression};b.prototype.clone=function(){return new f({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,
defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:p.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:p.clone(this.visualVariables),legendOptions:p.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};
b.prototype.collectRequiredFields=function(a,b){return d(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return this.getSymbols().forEach(function(c){return c.collectRequiredFields(a,b)}),[4,this.collectVVRequiredFields(a,b)];case 1:return c.sent(),t.collectField(a,b,this.field),t.collectField(a,b,this.normalizationField),[4,t.collectArcadeFieldNames(a,b,this.valueExpression)];case 2:return c.sent(),[2]}})})};b.prototype._getBreakIndexForExpression=function(a,b){var c=
b.arcadeUtils,d=b.viewingMode,e=b.scale;b=b.spatialReference;var f=this._cache.compiledFunc;f||(f=c.createSyntaxTree(this.valueExpression),f=c.createFunction(f),this._cache.compiledFunc=f);a=c.executeFunction(f,c.createExecContext(a,c.getViewInfo({viewingMode:d,scale:e,spatialReference:b})));return this._getBreakIndexfromInfos(a)};b.prototype._getBreakIndexForField=function(a){var b=a.attributes;a=this.normalizationType;var c=parseFloat(b[this.field]);if(a){var d=this.normalizationTotal,b=parseFloat(b[this.normalizationField]);
if("log"===a)c=Math.log(c)*Math.LOG10E;else if("percent-of-total"===a&&!isNaN(d))c=c/d*100;else if("field"===a&&!isNaN(b)){if(isNaN(c)||isNaN(b))return-1;c/=b}}return this._getBreakIndexfromInfos(c)};b.prototype._getBreakIndexfromInfos=function(a){var b=this.isMaxInclusive;if(null!=a&&"number"===typeof a&&!isNaN(a))for(var c=0;c<this.classBreakInfos.length;c++){var d=[this.classBreakInfos[c].minValue,this.classBreakInfos[c].maxValue];if(d[0]<=a&&(b?a<=d[1]:a<d[1]))return c}return-1};b.prototype._areClassBreaksConsecutive=
function(){for(var a=this.classBreakInfos,b=a.length,c=1;c<b;c++)if(a[c-1].maxValue!==a[c].minValue)return!1;return!0};var f;e([m.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"_cache",null);e([m.property({types:{base:n.BaseSymbol,key:"type",typeMap:{"simple-fill":c.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":c.symbolTypesRenderer.typeMap["picture-fill"],"polygon-3d":c.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{origins:{"web-scene":{type:n.PolygonSymbol3D,
read:A.read,write:A.writeTarget}},read:A.read,write:A.writeTarget}})],b.prototype,"backgroundFillSymbol",void 0);e([m.property({type:[u.ClassBreakInfo]})],b.prototype,"classBreakInfos",void 0);e([m.reader("classBreakInfos")],b.prototype,"readClassBreakInfos",null);e([m.writer("classBreakInfos")],b.prototype,"writeClassBreakInfos",null);e([m.property({type:String,json:{write:!0}})],b.prototype,"defaultLabel",void 0);e([m.property({types:c.symbolTypesRenderer})],b.prototype,"defaultSymbol",void 0);
e([m.reader("defaultSymbol")],b.prototype,"readDefaultSymbol",null);e([m.writer("web-scene","defaultSymbol",{defaultSymbol:{types:c.symbolTypesRenderer3D}})],b.prototype,"writeDefaultSymbolWebScene",null);e([m.writer("defaultSymbol")],b.prototype,"writeDefaultSymbol",null);e([m.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([m.cast("field")],b.prototype,"castField",null);e([m.property({type:Boolean})],b.prototype,"isMaxInclusive",void 0);e([m.property({type:w.default,json:{write:!0}})],
b.prototype,"legendOptions",void 0);e([m.property({type:Number,readOnly:!0,value:null,dependsOn:["classBreakInfos"],json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],b.prototype,"minValue",null);e([m.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([m.property({type:Number,cast:function(a){return q.ensureNumber(a)},json:{write:!0}})],b.prototype,"normalizationTotal",
void 0);e([m.property({type:B.apiValues,value:null,dependsOn:["normalizationField","normalizationTotal"],json:{type:B.jsonValues,read:B.read,write:B.write}})],b.prototype,"normalizationType",null);e([m.enumeration.serializable()({classBreaks:"class-breaks"})],b.prototype,"type",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);e([k(2,m.cast(c.ensureType))],b.prototype,
"addClassBreakInfo",null);return b=f=e([m.subclass("esri.renderers.ClassBreaksRenderer")],b)}(m.declared(v,x))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y,B,D,C,E,F,G,H,O,I,L,J){Object.defineProperty(b,"__esModule",{value:!0});b.CIMSymbol=e;b.ExtrudeSymbol3DLayer=k;b.BaseFillSymbol=h;b.FillSymbol3DLayer=d;b.Font=g;b.IconSymbol3DLayer=n;b.LabelSymbol3D=c;b.LineSymbol3D=f;b.LineSymbol3DLayer=p;b.BaseMarkerSymbol=r;b.MeshSymbol3D=m;b.ObjectSymbol3DLayer=q;b.PathSymbol3DLayer=t;b.PictureFillSymbol=v;b.PictureMarkerSymbol=x;b.PointSymbol3D=u;b.PolygonSymbol3D=w;b.SimpleFillSymbol=z;b.SimpleLineSymbol=
A;b.SimpleMarkerSymbol=y;b.BaseSymbol=B;b.BaseSymbol3D=D;b.BaseSymbol3DLayer=C;b.TextSymbol=E;b.TextSymbol3DLayer=F;b.WaterSymbol3DLayer=G;b.WebStyleSymbol=H;b.LineCallout3D=O;b.LineCallout3DBorder=I;b.Symbol3DVerticalOffset=L.Symbol3DVerticalOffset;b.fromJSON=J.fromJSON;b.isSymbol=function(a){return a instanceof b.BaseSymbol};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};b.symbolTypes={base:b.BaseSymbol,key:"type",typeMap:{"simple-fill":b.SimpleFillSymbol,"picture-fill":b.PictureFillSymbol,"picture-marker":b.PictureMarkerSymbol,"simple-line":b.SimpleLineSymbol,"simple-marker":b.SimpleMarkerSymbol,text:b.TextSymbol,"label-3d":b.LabelSymbol3D,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,
"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol,cim:b.CIMSymbol}};b.symbolTypesRenderer={base:b.BaseSymbol,key:"type",typeMap:{"simple-fill":b.SimpleFillSymbol,"picture-fill":b.PictureFillSymbol,"picture-marker":b.PictureMarkerSymbol,"simple-line":b.SimpleLineSymbol,"simple-marker":b.SimpleMarkerSymbol,text:b.TextSymbol,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol,cim:b.CIMSymbol}};
b.symbolTypesLabel={base:b.BaseSymbol,key:"type",typeMap:{text:b.TextSymbol,"label-3d":b.LabelSymbol3D}};b.symbolTypes3D={base:b.BaseSymbol,key:"type",typeMap:{"label-3d":b.LabelSymbol3D,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol}};b.symbolTypesRenderer3D={base:b.BaseSymbol,key:"type",typeMap:{"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol}};
b.symbolTypesLabel3D={base:b.BaseSymbol,key:"type",typeMap:{"label-3d":b.LabelSymbol3D}};b.ensureType=l.ensureOneOfType(b.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./support/cimSymbolUtils".split(" "),function(a,
b,l,e,k,h,d,g,n,c,f,p,r){return function(a){function b(b){b=a.call(this,b)||this;b.data=null;b.portal=null;b.styleName="";b.styleUrl="";b.type="cim";return b}l(b,a);m=b;b.prototype.readData=function(a,b){return b.symbol};b.prototype.writeData=function(a,b){a&&(b.symbol=a)};b.prototype.readStyleUrl=function(a,b){return b.symbolUrl?b.symbolUrl:a};b.prototype.writeStyleUrl=function(a,b){a&&(b.symbolUrl=a)};b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){var d,e,
f,m,h,n,q;return k(this,function(k){switch(k.label){case 0:return[4,r.expandSymbol(this,r.constructUrlFn)];case 1:k.sent(),e=(d="object"===typeof this.data&&this.data.length)?this.data:[this.data],f=0,m=e,k.label=2;case 2:if(!(f<m.length))return[3,5];h=m[f];n=h.primitiveOverrides;if(!n)return[3,4];q=n.map(function(d){return c.collectArcadeFieldNames(a,b,d.valueExpressionInfo.expression)});return[4,g.all(q)];case 3:k.sent(),k.label=4;case 4:return f++,[3,2];case 5:return[2]}})})};b.prototype.clone=
function(){return new m({color:this.color.clone(),data:d.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};var m;e([n.property({json:{write:!1}})],b.prototype,"color",void 0);e([n.property({json:{write:!0}})],b.prototype,"data",void 0);e([n.reader("data",["data","symbol"])],b.prototype,"readData",null);e([n.writer("data")],b.prototype,"writeData",null);e([n.property({type:f,json:{write:!1}})],b.prototype,"portal",void 0);e([n.property({json:{write:!0}})],b.prototype,
"styleName",void 0);e([n.property({type:String,json:{write:!0}})],b.prototype,"styleUrl",void 0);e([n.reader("styleUrl",["styleUrl","symbolUrl"])],b.prototype,"readStyleUrl",null);e([n.writer("styleUrl")],b.prototype,"writeStyleUrl",null);e([n.enumeration.serializable()({CIMSymbolReference:"cim"})],b.prototype,"type",void 0);return b=m=e([n.subclass("esri.symbols.CIMSymbol")],b)}(n.declared(p))})},"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g,n,c){var f=new g.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),p=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+p++;b.type=null;return b}l(b,a);Object.defineProperty(b.prototype,"color",
{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});b.prototype.readColor=function(a,b,c){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){return k(this,function(a){return[2]})})};b.prototype.clone=function(){};e([c.property({type:f.apiValues,json:{read:f.read,write:{ignoreOrigin:!0,writer:f.write}}})],b.prototype,"type",void 0);e([c.property({type:d,value:new d([0,0,0,1]),json:{write:{allowNull:!0}}})],
b.prototype,"color",null);e([c.reader("color")],b.prototype,"readColor",null);return b=e([c.subclass("esri.symbols.Symbol")],b)}(c.declared(n))})},"esri/symbols/support/cimSymbolUtils":function(){define("require exports ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/assignHelper ../../request ../../core/asyncUtils ../../core/Logger ../../core/promiseUtils".split(" "),function(a,b,l,e,k,h,d,g,n){function c(a,b,c){return l(this,void 0,void 0,function(){var m,
g,h,k;return e(this,function(e){switch(e.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];m=a.styleName;if(!Array.isArray(m))return[3,2];g=m.map(function(e){return d.safeCast(f(e,a.styleUrl,b,c))});h=a;return[4,n.all(g)];case 1:return h.data=e.sent(),[3,4];case 2:return k=a,[4,f(m,a.styleUrl,b,c)];case 3:k.data=e.sent(),e.label=4;case 4:return[2,a]}})})}function f(a,b,c,d){return l(this,void 0,void 0,function(){var f,g;return e(this,function(e){if(q.has(a))return[2,q.get(a).then(function(a){return m(a.data)})];
try{return f=c(b,a),g=h(f,k({responseType:"json",query:{f:"json"}},d)),q.set(a,g),[2,g.then(function(a){return m(a.data)})]}catch(y){return r.error("error requesting "+a+", reason is "+y.message),q.has(a)&&q.delete(a),[2,null]}})})}var p=this;Object.defineProperty(b,"__esModule",{value:!0});var r=g.getLogger("esri/symbols/support/cimSymbolUtils");b.constructUrlFn=function(a,b){return a+"/resources/styles/cim/"+b+".json"};b.expandSymbols=function(a,c,d){return l(p,void 0,void 0,function(){return e(this,
function(e){return[2,n.all(a.map(function(a){return b.expandSymbol(a,c,d)}))]})})};b.expandSymbol=function(a,b,d){return l(p,void 0,void 0,function(){return e(this,function(e){return a?"cim"===a.type?[2,c(a,b,d)]:"web-style"===a.type?[2,a.fetchCIMSymbol(d)]:[2,a]:[2,null]})})};var m=function(a){return null===a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}},q=new Map})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),
function(a,b,l,e,k,h,d,g,n){return function(a){function b(b){b=a.call(this)||this;b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:k.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var c;e([h.enumeration.serializable()({Extrude:"extrude"})],
b.prototype,"type",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);e([h.property({type:n.default,json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.property(g.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=c=e([h.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(h.declared(d))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators ./support/ElevationInfo".split(" "),
function(a,b,l,e,k,h,d,g){var n=k.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});a=function(a){function b(b){b=a.call(this)||this;b.enabled=!0;b.type=null;return b}l(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};e([d.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);e([d.writer("enabled")],b.prototype,"writeEnabled",null);e([d.property({type:g,json:{read:!1,
write:!1}})],b.prototype,"elevationInfo",void 0);e([d.property({type:n.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:n.write}}})],b.prototype,"type",void 0);return b=e([d.subclass("esri.symbols.Symbol3DLayer")],b)}(d.declared(h));(a||(a={})).typeJSONDictionary=n;return a})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){var p=d.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),r=new d.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}l(b,a);d=b;b.prototype.readFeatureExpressionInfo=function(a,b){if(null!=a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};
b.prototype.writeFeatureExpressionInfo=function(a,b,c,d){b[c]=a.write(null,d);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(b.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"unit",{set:function(a){this._set("unit",a)},enumerable:!0,configurable:!0});
b.prototype.write=function(a,b){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};b.prototype.clone=function(){return new d({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var d;e([n.property({type:c,json:{write:!0}})],b.prototype,"featureExpressionInfo",void 0);e([n.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],b.prototype,
"readFeatureExpressionInfo",null);e([n.writer("featureExpressionInfo",{featureExpressionInfo:{type:c},"featureExpression.value":{type:[0]}})],b.prototype,"writeFeatureExpressionInfo",null);e([n.property({type:p.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:p.jsonValues,read:p.read,write:{writer:p.write,isRequired:!0}}})],b.prototype,"mode",null);e([n.property({type:Number,json:{write:!0}})],b.prototype,"offset",void 0);e([n.property({type:f.supportedUnits,json:{type:String,
read:r.read,write:r.write}})],b.prototype,"unit",null);return b=d=e([n.subclass("esri.layers.support.ElevationInfo")],b)}(n.declared(g))})},"esri/symbols/support/FeatureExpressionInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../layers/support/fieldUtils".split(" "),function(a,b,l,e,k,h,d,g,n){return function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}l(b,a);c=b;b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){return k(this,function(c){return[2,n.collectArcadeFieldNames(a,b,this.expression)]})})};b.prototype.clone=function(){return new c({expression:this.expression,title:this.title})};var c;e([g.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=c=e([g.subclass("esri.layers.support.FeatureExpressionInfo")],
b)}(g.declared(d))})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.supportsUnit=function(a){return null!=l.meterIn[a]};b.getMetersPerUnit=function(a){return 1/(l.meterIn[a]||1)};b.supportedUnits=function(){var a=Object.keys(l.meterIn);a.sort();return a}()})},"esri/renderers/support/utils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/Logger ../../core/unitUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop".split(" "),
function(a,b,l,e,k,h,d,g){function n(a,b,c){var d="";0===b?d=p.lt+" ":b===c&&(d=p.gt+" ");return d+a}function c(a){var b=a.minValue,c=a.maxValue,e=a.isFirstBreak?"":p.gt+" ";a="percent-of-total"===a.normalizationType?p.pct:"";b=null==b?"":d.format(b);c=null==c?"":d.format(c);return e+b+a+" "+p.ld+" "+c+a}Object.defineProperty(b,"__esModule",{value:!0});var f=e.getLogger("esri.renderers.support.utils"),p={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},r={millisecond:0,second:1,
minute:2,hour:3,day:4,month:5,year:6},m={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",day:"long-month-day-year",month:"long-month-day-year",year:"year"};b.meterIn={inches:k.convertUnit(1,"meters","inches"),feet:k.convertUnit(1,"meters","feet"),"us-feet":k.convertUnit(1,"meters","us-feet"),yards:k.convertUnit(1,"meters","yards"),miles:k.convertUnit(1,"meters","miles"),"nautical-miles":k.convertUnit(1,
"meters","nautical-miles"),millimeters:k.convertUnit(1,"meters","millimeters"),centimeters:k.convertUnit(1,"meters","centimeters"),decimeters:k.convertUnit(1,"meters","decimeters"),meters:k.convertUnit(1,"meters","meters"),kilometers:k.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/k.lengthToDegrees(1,"meters")};b.timelineDateFormatOptions=h.convertDateFormatToIntlOptions("short-date");b.createColorStops=function(a){var b=a.values,c=a.colors,e=a.labelIndexes,f=a.isDate,m=a.dateFormatOptions;
return b.map(function(a,k){var l=null;if(!e||-1<e.indexOf(k)){var q=void 0;(q=f?h.formatDate(a,m):d.format(a))&&(l=n(q,k,b.length-1))}return new g({value:a,color:c[k],label:l})})};b.updateColorStops=function(a){var b=a.stops,c=a.changes,e=a.isDate,f=a.dateFormatOptions,m=b.map(function(a){return a.value});a=[];for(var g=0;g<c.length;g++){var k=c[g];a.push(k.index);m[k.index]=k.value}var l=d.round(m,{indexes:a});b.forEach(function(a,c){a.value=m[c];if(null!=a.label){var g=void 0,k=null;(g=e?h.formatDate(l[c],
f):d.format(l[c]))&&(k=n(g,c,b.length-1));a.label=k}})};b.createClassBreakLabel=c;b.setLabelsForClassBreaks=function(a){var b=a.classBreakInfos,e=a.normalizationType,m=[];if(b&&b.length)if("standard-deviation"===a.classificationMethod)f.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");else if(a.round){m.push(b[0].minValue);for(a=0;a<b.length;a++)m.push(b[a].maxValue);m=d.round(m);b.forEach(function(a,b){a.label=c({minValue:0===b?m[0]:
m[b],maxValue:m[b+1],isFirstBreak:0===b,normalizationType:e})})}else b.forEach(function(a,b){a.label=c({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:e})})};b.updateClassBreak=function(a){if("standard-deviation"===a.classificationMethod)f.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");else{var b=a.classBreaks,d=a.change,e=d.index,d=d.value,m=b.length,g=-1,h=-1;0===e?g=e:e===m?h=e-1:(h=e-1,g=e);a=a.normalizationType;
e=null;-1<g&&g<m&&(e=b[g],e.minValue=d,e.label=c({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===g,normalizationType:a}));-1<h&&h<m&&(e=b[h],e.maxValue=d,e.label=c({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===h,normalizationType:a}))}};b.calculateDateFormatInterval=function(a){a=a.map(function(a){return new Date(a)});for(var b=a.length,c=Infinity,d=null,e=0;e<b-1;e++){for(var f=a[e],m=[],g=Infinity,h="",n=e+1;n<b;n++){var k=a[n],k=f.getFullYear()!==k.getFullYear()&&"year"||
f.getMonth()!==k.getMonth()&&"month"||f.getDate()!==k.getDate()&&"day"||f.getHours()!==k.getHours()&&"hour"||f.getMinutes()!==k.getMinutes()&&"minute"||f.getSeconds()!==k.getSeconds()&&"second"||"millisecond",l=r[k];l<g&&(g=l,h=k);m.push(k)}g<c&&(c=g,d=h)}return d};b.createUniqueValueLabel=function(a){var b=a.value,c=a.domain,e=a.fieldInfo;a=a.dateFormatInterval;var f=String(b);(c=c&&"codedValues"in c&&c.codedValues?c.getName(b):null)?f=c:"number"===typeof b&&(f=e&&"date"===e.type?h.formatDate(b,
a&&m[a]):d.format(b));return f}})},"esri/renderers/support/numberUtils":function(){define(["require","exports","../../intl"],function(a,b,l){function e(a,b){return a-b}function k(a,b){var c;c=Number(a.toFixed(b));c<a?a=c+1/Math.pow(10,b):(a=c,c-=1/Math.pow(10,b));c=Number(c.toFixed(b));a=Number(a.toFixed(b));return[c,a]}function h(a,b,c,d,e){a=g(a,b,c,d);b=null==a.next||a.next<=e;return(null==a.previous||a.previous<=e)&&b||a.previous+a.next<=2*e}function d(a){a=String(a);var b=a.match(n);if(b&&b[1])return{integer:b[1].split("").length,
fractional:b[3]?b[3].split("").length:0};if(-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b)){a=Number(a);var b=Number(b),c=0<b;c||(b=Math.abs(b));a=d(a);c?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b);return a}return{integer:0,fractional:0}}function g(a,b,c,d){var e={previous:null,next:null};if(null!=c){var f=a-c;e.previous=Math.floor(Math.abs(100*(b-c-f)/f))}null!=d&&(f=d-a,e.next=Math.floor(Math.abs(100*(d-
b-f)/f)));return e}Object.defineProperty(b,"__esModule",{value:!0});var n=/^-?(\d+)(\.(\d+))?$/i;b.numDigits=d;b.percentChange=g;b.round=function(a,b){void 0===b&&(b={});a=a.slice(0);var c=b.tolerance,c=void 0===c?2:c,f=b.strictBounds,f=void 0===f?!1:f;b=b.indexes;b=void 0===b?a.map(function(a,b){return b}):b;b.sort(e);for(var g=0;g<b.length;g++){var n=b[g],l=a[n],p=0===n?null:a[n-1],u=n===a.length-1?null:a[n+1],w=d(l).fractional;if(w){for(var z=0,A=!1,y=void 0;z<=w&&!A;)A=k(l,z),y=f&&0===g?A[1]:
A[0],A=h(l,y,p,u,c),z++;A&&(a[n]=y)}}return a};var c={maximumFractionDigits:20};b.format=function(a){return l.formatNumber(a,c)}})},"esri/intl":function(){define(["require","exports","./intl/date","./intl/number","./intl/substitute"],function(a,b,l,e,k){Object.defineProperty(b,"__esModule",{value:!0});b.formatDate=l.formatDate;b.convertDateFormatToIntlOptions=l.convertDateFormatToIntlOptions;b.formatNumber=e.formatNumber;b.convertNumberFormatToIntlOptions=e.convertNumberFormatToIntlOptions;b.substitute=
k.substitute})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,l,e,k,h,d){function g(a){switch(typeof a){case "string":return a;case "number":return d.formatNumber(a);case "boolean":return""+a;default:return a instanceof Date?h.formatDate(a):""}}Object.defineProperty(b,"__esModule",{value:!0});var n=l.getLogger("esri.intl");b.substitute=function(a,b,l){void 0===l&&(l={});l=l.format;var c=void 0===l?{}:
l;return k.replace(a,function(a){var f;var m,k=a.indexOf(":");-1===k?m=a.trim():(m=a.slice(0,k).trim(),f=a.slice(k+1).trim());if(m)if(a=e.getDeepValue(m,b),null==a)f="";else if(m=c[f]||c[m])b:switch(m.type){case "date":f=h.formatDate(a,m.intlOptions);break b;case "number":f=d.formatNumber(a,m.intlOptions);break b;default:n.warn("missing format descriptor for key {key}"),f=g(a)}else if(f)b:switch(f.toLowerCase()){case "dateformat":f=h.formatDate(a);break b;case "numberformat":f=d.formatNumber(a);break b;
default:n.warn("inline format is unsupported since 4.12: "+f),f=/^(dateformat|datestring)/i.test(f)?h.formatDate(a):/^numberformat/i.test(f)?d.formatNumber(a):g(a)}else f=g(a);else f="";return f})}})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this,b)||this;b.color=null;b.label=null;b.value=null;return b}l(b,a);f=b;b.prototype.writeValue=function(a,b,c){b[c]=null==a?0:a};b.prototype.clone=function(){return new f({color:this.color&&this.color.clone(),label:this.label,value:this.value})};var f;e([d.property({type:k,json:{type:[g.Integer],write:!0}})],b.prototype,"color",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([d.property({type:Number,
json:{write:{allowNull:!0}}})],b.prototype,"value",void 0);e([d.writer("value")],b.prototype,"writeValue",null);return b=f=e([d.subclass("esri.renderers.visualVariables.support.ColorStop")],b)}(d.declared(h))})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,l,e,k){function h(a,b,h){if(!a)return a;switch(a.type){case "solid":return b=new k,b.read(a,h),b;case "sketch":return b=new e,b.read(a,h),b}}Object.defineProperty(b,
"__esModule",{value:!0});b.read=h;b.symbol3dEdgesProperty={types:{key:"type",base:l,typeMap:{solid:k,sketch:e}},json:{read:h,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(a,b,l,e,k,h,d,g,n,c,f){return function(a){function b(b){b=
a.call(this)||this;b.color=new h([0,0,0,1]);b.extensionLength=0;b.size=n.px2pt(1);return b}l(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=k({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:g.clone(this.color),size:this.size,extensionLength:this.extensionLength}};e([c.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);e([c.property(f.colorAndTransparencyProperty)],
b.prototype,"color",void 0);e([c.property(k({},f.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);e([c.property(f.screenSizeProperty)],b.prototype,"size",void 0);return b=e([c.subclass("esri.symbols.edges.Edges3D")],b)}(c.declared(d))})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(a,b,l,e,k,h){function d(a,b){a=null!=b.transparency?h.transparencyToOpacity(b.transparency):1;return(b=b.color)&&Array.isArray(b)?new l([b[0]||0,b[1]||0,b[2]||0,a]):null}function g(a,b){b.color=a.toJSON().slice(0,3);a=h.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}Object.defineProperty(b,"__esModule",{value:!0});b.readColorAndTransparency=d;b.writeColorAndTransparency=g;b.colorAndTransparencyProperty={type:l,json:{type:[k.Integer],default:null,read:{source:["color","transparency"],
reader:d},write:{target:{color:{type:[k.Integer]},transparency:{type:k.Integer}},writer:g}}};b.screenSizeProperty={type:Number,cast:e.toPt,json:{write:!0}}})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.type="sketch";return b}l(b,a);d=b;b.prototype.clone=function(){return new d(this.cloneProperties())};
var d;e([k.property({type:["sketch"]})],b.prototype,"type",void 0);return b=d=e([k.subclass("esri.symbols.edges.SketchEdges3D")],b)}(k.declared(h))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.type="solid";return b}l(b,a);d=b;b.prototype.clone=function(){return new d(this.cloneProperties())};
var d;e([k.property({type:["solid"]})],b.prototype,"type",void 0);return b=d=e([k.subclass("esri.symbols.support.SolidEdges3D")],b)}(k.declared(h))})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(a,b,l,e,k,h,d,g){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=
null!==a&&a.apply(this,arguments)||this;b.color=null;return b}l(b,a);f=b;b.prototype.clone=function(){return new f({color:h.isSome(this.color)?this.color.clone():null})};var f;e([d.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=f=e([d.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(d.declared(k));b.Symbol3DMaterial=a;b.default=a})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(a,b,l,e,k,h,d,g){var n=new k.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}l(b,a);e([h.property({type:d,json:{default:null,write:!0}})],b.prototype,"outline",void 0);e([h.property({type:n.apiValues,readOnly:!0,json:{type:n.jsonValues}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.symbols.FillSymbol")],b)}(h.declared(g))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),
function(a,b,l,e,k,h,d,g,n){var c=new k.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,d,e,f,g){b=a.call(this,b)||this;b.type="simple-line";
b.style="solid";b.cap="round";b.join="round";b.miterLimit=2;return b}l(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c,e,f,g){if(a&&"string"!==typeof a)return a;var m={};null!=a&&(m.style=a);null!=b&&(m.color=b);null!=c&&(m.width=d.toPt(c));null!=e&&(m.cap=e);null!=f&&(m.join=f);null!=g&&(m.miterLimit=d.toPt(g));return m};b.prototype.clone=function(){return new f({color:h.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};var f;e([g.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);e([g.property({type:c.apiValues,json:{read:c.read,write:c.write}})],b.prototype,"style",void 0);e([g.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);e([g.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);e([g.property({type:Number,
json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);return b=f=e([g.subclass("esri.symbols.SimpleLineSymbol")],b)}(g.declared(n))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}l(b,a);e([h.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);e([h.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=e([h.subclass("esri.symbols.LineSymbol")],b)}(h.declared(d))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(a,
b,l,e,k,h,d,g,n,c,f){return function(a){function b(b){b=a.call(this)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({edges:k.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:k.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:k.isSome(this.outline)?this.outline.clone():null})};b.fromSimpleFillSymbol=
function(a){return new d({material:{color:(a.color||n.transparentWhite).clone()},outline:a.outline?new f.default({size:a.outline.width||0,color:(a.outline.color||n.white).clone()}):null})};var d;e([h.enumeration.serializable()({Fill:"fill"})],b.prototype,"type",void 0);e([h.property({type:c.default,json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.property({type:f.default,json:{write:!0}})],
b.prototype,"outline",void 0);e([h.property(g.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=d=e([h.subclass("esri.symbols.FillSymbol3DLayer")],b)}(h.declared(d))})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.white=new l("white");b.black=new l("black");b.transparentWhite=new l([255,255,255,0]);b.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(a,b,l,e,k,h,d){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}l(b,a);c=b;b.prototype.clone=function(){return new c({color:k.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var c;e([h.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0);return b=c=e([h.subclass("esri.symbols.support.Symbol3DFillMaterial")],b)}(h.declared(d.default));
b.Symbol3DFillMaterial=a;b.default=a})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(a,b,l,e,k,h,d,g,n,c){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new k([0,
0,0,1]);b.size=g.px2pt(1);return b}l(b,a);f=b;b.prototype.clone=function(){return new f({color:d.isSome(this.color)?this.color.clone():null,size:this.size})};var f;e([n.property(c.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([n.property(c.screenSizeProperty)],b.prototype,"size",void 0);return b=f=e([n.subclass("esri.symbols.support.Symbol3DOutline")],b)}(n.declared(h));b.Symbol3DOutline=a;b.default=a})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}l(b,a);c=b;b.prototype.castSize=function(a){return h.toPt(a)};b.prototype.clone=function(){return new c({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};var c;e([d.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],b.prototype,"decoration",void 0);
e([d.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);e([d.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:!c||!c.textSymbol3D}}}}})],b.prototype,"size",void 0);e([d.cast("size")],b.prototype,"castSize",null);e([d.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],b.prototype,"style",void 0);e([d.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],b.prototype,"weight",void 0);return b=
c=e([d.subclass("esri.symbols.Font")],b)}(d.declared(k))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r,m){function q(a){var b=
"width"in a?a.width:a.size,c="height"in a?a.height:a.size,d=t(a.xoffset);a=t(a.yoffset);return(d||a)&&b&&c?{x:-d/b,y:a/c}:null}function t(a){return isFinite(a)?a:0}var v=k.getLogger("esri.symbols.IconSymbol3DLayer"),x={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";b.anchorPosition=void 0;b.outline=void 0;return b}l(b,a);
g=b;b.prototype.clone=function(){return new g({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:h.isSome(this.material)?this.material.clone():null,outline:h.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};b.fromSimpleMarkerSymbol=function(a){var b=a.color||n.white,c=q(a),d=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||n.white).clone()}:null,e=g,f=a.size;a=a.style;var m=x[a];m?a=m:(v.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new e({size:f,resource:{primitive:a},material:{color:b},outline:d,anchor:c?"relative":void 0,anchorPosition:c})};b.fromPictureMarkerSymbol=function(a){var b=!a.color||n.isBlack(a.color)?n.white:a.color,c=q(a);return new g({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:c?"relative":
void 0,anchorPosition:c})};var g;e([d.property({type:r.default,json:{write:!0}})],b.prototype,"material",void 0);e([d.property({type:c.default,json:{write:!0}})],b.prototype,"resource",void 0);e([d.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);e([d.property(f.screenSizeProperty)],b.prototype,"size",void 0);e([d.enumeration.serializable()({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",
relative:"relative"}),d.property({json:{default:"center"}})],b.prototype,"anchor",void 0);e([d.property({type:p.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new p.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);e([d.property({type:m.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=g=e([d.subclass("esri.symbols.IconSymbol3DLayer")],
b)}(d.declared(g))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h,d,g){Object.defineProperty(b,"__esModule",{value:!0});var n=k.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a=function(a){function b(b){return a.call(this,
b)||this}l(b,a);c=b;b.prototype.readHref=function(a,b,c){return a?d.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,e){a&&(d.isDataProtocol(a)?b.dataURI=a:(b.href=d.toJSON(a,e),d.isAbsolute(b.href)&&(b.href=d.normalize(b.href))))};b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;e([g.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);e([g.reader("href")],b.prototype,"readHref",null);e([g.writer("href",
{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);e([g.enumeration.serializable()(n)],b.prototype,"primitive",void 0);return b=c=e([g.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(g.declared(h));b.IconSymbol3DLayerResource=a;b.defaultPrimitive="circle";b.default=a})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({x:this.x,y:this.y})};var d;e([h.property({type:Number})],b.prototype,"x",void 0);e([h.property({type:Number})],b.prototype,"y",void 0);return b=d=e([h.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],b)}(h.declared(k));b.Symbol3DAnchorPosition2D=a;b.default=a})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){var p=k.ofType({base:null,key:"type",typeMap:{text:n}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new p;b.type="label-3d";return b}l(b,a);g=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return c.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return c.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new g({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail),callout:h.clone(this.callout),verticalOffset:h.clone(this.verticalOffset)})};b.fromTextSymbol=function(a){return new g({symbolLayers:[n.fromTextSymbol(a)]})};var g;e([d.property({type:f.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);e([d.property(c.calloutProperty)],b.prototype,"callout",void 0);e([d.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);e([d.property({type:p})],b.prototype,
"symbolLayers",void 0);e([d.enumeration.serializable()({LabelSymbol3D:"label-3d"})],b.prototype,"type",void 0);return b=g=e([d.subclass("esri.symbols.LabelSymbol3D")],b)}(d.declared(g))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y,B){var D={icon:q,object:v,line:t,path:x,fill:m,extrude:r,text:z,water:A},C=k.ofType({base:w,key:"type",typeMap:D}),E=d.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),F=g.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&b.__accessor__.metadatas.symbolLayers;
b._set("symbolLayers",new (c&&c.type||k));return b}l(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},set:function(a){F.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){h.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});b.prototype.readSymbolLayers=function(a,b,d){b=[];
for(var e=0;e<a.length;e++){var f=a[e],g=w.typeJSONDictionary.read(f.type),m=g&&D[g];m?(f=new m,f.read(a[e],d),b.push(f)):(F.warn("Unknown symbol layer type: "+g),d&&d.messages&&d.messages.push(new c("symbol-layer:unsupported","Symbol layers of type '"+(g||f.type||"unknown")+"' are not supported",{definition:f,context:d})))}return b};b.prototype.readStyleOrigin=function(a,b,d){if(a.styleUrl&&a.name)return b=n.fromJSON(a.styleUrl,d),new y({styleUrl:b,name:a.name});if(a.styleName&&a.name)return new y({portal:d&&
d.portal||p.getDefault(),styleName:a.styleName,name:a.name});d&&d.messages&&d.messages.push(new c("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:d,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,d,e){a.styleUrl&&a.name?(d=n.toJSON(a.styleUrl,e),n.isAbsolute(d)&&(d=n.normalize(d)),b.styleOrigin={styleUrl:d,name:a.name}):a.styleName&&a.name&&(a.portal&&e&&e.portal&&!n.hasSamePortal(a.portal.restUrl,e.portal.restUrl)?
e&&e.messages&&e.messages.push(new c("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof w||a&&D[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};e([f.property({json:{read:!1,write:!1}})],b.prototype,"color",null);e([f.property({type:C,nonNullable:!0,json:{write:!0}}),
f.cast(h.castForReferenceSetter)],b.prototype,"symbolLayers",null);e([f.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);e([f.property({type:y})],b.prototype,"styleOrigin",void 0);e([f.reader("styleOrigin")],b.prototype,"readStyleOrigin",null);e([f.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],b.prototype,"writeStyleOrigin",null);e([f.property({type:B.default,json:{read:!1}})],b.prototype,"thumbnail",
void 0);e([f.property({type:E.apiValues,readOnly:!0,json:{type:E.jsonValues,read:!1}})],b.prototype,"type",void 0);return b=e([f.subclass("esri.symbols.Symbol3D")],b)}(f.declared(u))})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(a,
b,l,e,k,h,d,g,n,c,f){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.type="line";b.join="miter";b.cap="butt";b.size=h.px2pt(1);return b}l(b,a);g=b;b.prototype.clone=function(){return new g({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:k.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap})};b.fromSimpleLineSymbol=function(a){return new g({size:a.width||1,cap:a.cap||"butt",join:a.join||"miter",
material:{color:(a.color||n.white).clone()}})};var g;e([d.property({type:f.default,json:{write:!0}})],b.prototype,"material",void 0);e([d.enumeration.serializable()({Line:"line"})],b.prototype,"type",void 0);e([d.property({type:String,json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);e([d.property({type:String,json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);e([d.property(c.screenSizeProperty)],b.prototype,"size",void 0);return b=g=e([d.subclass("esri.symbols.LineSymbol3DLayer")],
b)}(d.declared(g))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),function(a,b,l,e,k,h,d,g,n,c){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;
b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:k.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var d;e([h.property({type:c.default,json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.property({type:g.default,json:{write:!0}})],b.prototype,"resource",void 0);e([h.enumeration.serializable()({Object:"object"})],
b.prototype,"type",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);e([h.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);e([h.property({type:n.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new n.Symbol3DAnchorPosition3D({x:a[0],
y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"heading",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);e([h.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",
null);return b=d=e([h.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(h.declared(d))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h,d,g){Object.defineProperty(b,"__esModule",{value:!0});var n=k.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",
cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}l(b,a);c=b;b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;e([g.property({type:String,json:{read:d.read,write:d.write}})],b.prototype,"href",void 0);e([g.enumeration.serializable()(n)],b.prototype,"primitive",void 0);return b=c=e([g.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(g.declared(h));
b.ObjectSymbol3DLayerResource=a;b.defaultPrimitive="sphere";b.default=a})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}l(b,a);d=b;b.prototype.clone=
function(){return new d({x:this.x,y:this.y,z:this.z})};var d;e([h.property({type:Number})],b.prototype,"x",void 0);e([h.property({type:Number})],b.prototype,"y",void 0);e([h.property({type:Number})],b.prototype,"z",void 0);return b=d=e([h.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],b)}(h.declared(k));b.Symbol3DAnchorPosition3D=a;b.default=a})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),
function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}l(b,a);d=b;Object.defineProperty(b.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=
a},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};b.prototype.clone=function(){return new d({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:k.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var d;e([h.property({type:g.default,
json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.enumeration.serializable()({Path:"path"})],b.prototype,"type",void 0);e([h.property({type:Number})],b.prototype,"size",null);e([h.reader("size")],b.prototype,"readSize",null);e([h.property({type:String,json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);e([h.property({type:String,json:{write:!0,default:"miter"}})],b.prototype,
"join",void 0);e([h.property({type:String,json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);e([h.property({type:String,json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0);e([h.property({type:String,json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=d=e([h.subclass("esri.symbols.PathSymbol3DLayer")],
b)}(h.declared(d))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r){return function(a){function b(b){b=a.call(this)||this;b._userSize=void 0;b.halo=null;b.material=null;
b.text=void 0;b.type="text";return b}l(b,a);c=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,c,d){c=k({},d,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(b.prototype,"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:
9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&h.clone(this.font),halo:this.halo&&h.clone(this.halo),material:d.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;b=a.haloColor;var d=a.haloSize;b=b&&0<d?
{color:h.clone(b),size:d}:null;d=a.font?a.font.clone():new n;return new c({size:d.size,font:d,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var c;e([g.property({type:n,json:{write:!0}})],b.prototype,"font",null);e([g.writer("font")],b.prototype,"writeFont",null);e([g.property({type:p.default,json:{write:!0}})],b.prototype,"halo",void 0);e([g.property({type:r.default,json:{write:!0}})],b.prototype,"material",void 0);e([g.property(f.screenSizeProperty),g.property({dependsOn:["font.size"]})],
b.prototype,"size",null);e([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([g.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=c=e([g.subclass("esri.symbols.TextSymbol3DLayer")],b)}(g.declared(c))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,l,e,k,h,d,g,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new k([0,0,0,1]);b.size=0;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({color:d.clone(this.color),size:this.size})};var c;e([g.property(n.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([g.property(n.screenSizeProperty)],b.prototype,"size",void 0);return b=c=e([g.subclass("esri.symbols.support.Symbol3DHalo")],b)}(g.declared(h));
b.Symbol3DHalo=a;b.default=a})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(a,b,l,e,k,h,d,g,n){return function(a){function b(b){b=a.call(this)||this;b.color=new k("#0077BE");b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}l(b,a);
c=b;b.prototype.clone=function(){return new c({color:h.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var c;e([d.property({type:k,json:{type:[g.Integer],write:!0,default:null}})],b.prototype,"color",void 0);e([d.enumeration.serializable()({Water:"water"})],b.prototype,"type",void 0);e([d.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);e([d.property({type:Number,
json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);e([d.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=c=e([d.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(d.declared(n))})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var c;e([h.property({type:String})],b.prototype,"name",void 0);e([h.property({type:String})],b.prototype,"styleUrl",void 0);e([h.property({type:String})],b.prototype,"styleName",void 0);e([h.property({type:d})],b.prototype,"portal",void 0);
return b=c=e([h.subclass("esri.symbols.support.StyleOrigin")],b)}(h.declared(k))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}l(b,a);d=b;b.prototype.clone=function(){return new d({url:this.url})};
var d;e([h.property({type:String})],b.prototype,"url",void 0);return b=d=e([h.subclass("esri.symbols.support.Thumbnail")],b)}(h.declared(k));b.Thumbnail=a;b.default=a})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(a,b,l,e){function k(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function h(a,b,h){if(!a)return a;switch(a.type){case "line":return b=new e,b.read(a,h),b}}Object.defineProperty(b,
"__esModule",{value:!0});b.hasVisibleVerticalOffset=k;b.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?k(a)?!0:!1:!1};b.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};b.read=h;b.calloutProperty={types:{key:"type",base:l,typeMap:{line:e}},json:{read:h,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.visible=!0;return b}e(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=l({},a),delete a.type);return a};b.prototype.clone=function(){};k([d.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);k([d.property({readOnly:!0})],b.prototype,"visible",void 0);return b=k([d.subclass("esri.symbols.callouts.Callout3D")],b)}(d.declared(h))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){return function(a){function b(b){b=a.call(this)||this;b.type="line";b.color=new k([0,0,0,1]);b.size=g.px2pt(1);b.border=null;return b}l(b,a);c=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&d.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({color:h.clone(this.color),size:this.size,border:h.clone(this.border)})};var c;e([n.property({type:["line"]})],b.prototype,"type",
void 0);e([n.property(p.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([n.property(p.screenSizeProperty)],b.prototype,"size",void 0);e([n.property({type:f.default,json:{write:!0}})],b.prototype,"border",void 0);e([n.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=c=e([n.subclass("esri.symbols.callouts.LineCallout3D")],b)}(n.declared(c))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(a,b,l,e,k,h,d,g,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new k("white");return b}l(b,a);c=b;b.prototype.clone=function(){return new c({color:d.clone(this.color)})};var c;e([g.property(n.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=e([g.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(g.declared(h));b.LineCallout3DBorder=a;b.default=a})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,l,e,k,h,d){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var c;e([h.property(d.screenSizeProperty)],b.prototype,"screenLength",void 0);e([h.property({type:Number,json:{write:!0,default:0}})],b.prototype,"minWorldLength",
void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=c=e([h.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)}(h.declared(k));b.Symbol3DVerticalOffset=a;b.default=a})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,
b,l,e,k,h,d,g,n,c){var f=k.ofType({base:null,key:"type",typeMap:{line:g,path:n}}),p=k.ofType({base:null,key:"type",typeMap:{line:g,path:n}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new f;b.type="line-3d";return b}l(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new c({symbolLayers:[g.fromSimpleLineSymbol(a)]})};
var c;e([d.property({type:f,json:{type:p}})],b.prototype,"symbolLayers",void 0);e([d.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=c=e([d.subclass("esri.symbols.LineSymbol3D")],b)}(d.declared(c))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,b,l,e,k,h,d,g){var n=
new k.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}l(b,a);e([d.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([d.property({type:n.apiValues,readOnly:!0,json:{type:n.jsonValues}})],b.prototype,"type",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,
"xoffset",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([d.property({type:Number,cast:function(a){return"auto"===a?a:h.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=e([d.subclass("esri.symbols.MarkerSymbol")],b)}(d.declared(g))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,l,e,k,h,d,g,n){var c=k.ofType({base:null,key:"type",typeMap:{fill:g}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new c;b.type="mesh-3d";return b}l(b,a);f=b;b.prototype.clone=function(){return new f({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};var f;e([d.property({type:c})],b.prototype,"symbolLayers",void 0);e([d.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);
return b=f=e([d.subclass("esri.symbols.MeshSymbol3D")],b)}(d.declared(n))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(a,b,l,e,k,h,d,g,n,c){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=
1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}l(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c,e){if(a&&"string"!==typeof a&&null==a.imageData)return a;var f={};a&&(f.url=a);b&&(f.outline=b);null!=c&&(f.width=d.toPt(c));null!=e&&(f.height=d.toPt(e));return f};b.prototype.clone=function(){var a=new f({color:h.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",h.clone(this.source));return a};var f;e([g.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);e([g.property(c.urlPropertyDefinition)],b.prototype,"url",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"yscale",void 0);e([g.property({type:Number,cast:d.toPt,json:{write:!0}})],b.prototype,"width",void 0);e([g.property({type:Number,cast:d.toPt,
json:{write:!0}})],b.prototype,"height",void 0);e([g.property({type:Number,cast:d.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([g.property({type:Number,cast:d.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([g.property(c.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=f=e([g.subclass("esri.symbols.PictureFillSymbol")],b)}(g.declared(n))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(a,b,l){function e(a,
b,e){return b.imageData?l.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):k(b.url,e)}function k(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||l.isAbsolute(a)||!b.layer.parsedUrl?l.fromJSON(a,b):l.join(b.layer.parsedUrl.path,"images",a)}function h(a,b,e,c){l.isDataProtocol(a)?(a=l.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,e&&e.imageData===b.imageData&&e.url&&l.write(e.url,
b,"url",c)):l.write(a,b,"url",c)}Object.defineProperty(b,"__esModule",{value:!0});b.readImageDataOrUrl=e;b.read=k;b.writeImageDataAndUrl=h;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:e},write:{writer:function(a,b,e,c){h(a,b,this.source,c)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,b,e){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=k(b.url,e));return a}}}}})},
"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(a,b,l,e,k,h,d,g,n){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}l(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,
b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=h.toPt(b));null!=c&&(d.height=h.toPt(c));return d};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new c({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",k.clone(this.source));return a};var c;e([d.property({json:{write:!1}})],b.prototype,
"color",void 0);e([d.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);e([d.property(n.urlPropertyDefinition)],b.prototype,"url",void 0);e([d.property(n.sourcePropertyDefinition)],b.prototype,"source",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"height",void 0);e([d.reader("height",["height","size"])],b.prototype,"readHeight",null);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"width",void 0);e([d.property({json:{write:!1}})],
b.prototype,"size",void 0);return b=c=e([d.subclass("esri.symbols.PictureMarkerSymbol")],b)}(d.declared(g))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,
p,r,m){var q=k.ofType({base:null,key:"type",typeMap:{icon:n,object:c,text:p}}),t=k.ofType({base:null,key:"type",typeMap:{icon:n,object:c}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new q;b.type="point-3d";return b}l(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new h("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return r.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=
function(){return r.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:d.clone(this.verticalOffset),callout:d.clone(this.callout),styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[n.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[n.fromPictureMarkerSymbol(a)]})};b.fromTextSymbol=function(a){return new c({symbolLayers:[p.fromTextSymbol(a)]})};
var c;e([g.property({type:m.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);e([g.property(r.calloutProperty)],b.prototype,"callout",void 0);e([g.property({type:q,json:{type:t,origins:{"web-scene":{type:t}}}})],b.prototype,"symbolLayers",void 0);e([g.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);e([g.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=e([g.subclass("esri.symbols.PointSymbol3D")],b)}(g.declared(f))})},
"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v){var x=k.ofType({base:null,key:"type",typeMap:{extrude:c,
fill:f,icon:p,line:r,object:m,text:t,water:v}}),u=k.ofType({base:null,key:"type",typeMap:{extrude:c,fill:f,icon:p,line:r,object:m,water:v}});return function(a){function b(b){b=a.call(this)||this;b.type="polygon-3d";return b}l(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new h("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",
{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new c({styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new c;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var d=b.symbolLayers.getItemAt(0),e=b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&
!1===a.symbolLayers[1].enable||(d.outline={size:e.size,color:g.isSome(e.material)?e.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new c({symbolLayers:[f.fromSimpleFillSymbol(a)]})};var c;e([n.property({type:x,json:{type:u}})],b.prototype,"symbolLayers",void 0);e([n.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);e([n.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],b.prototype,"type",void 0);return b=c=e([n.subclass("esri.symbols.PolygonSymbol3D")],
b)}(n.declared(q))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,b,l,e,k,h,d,g,n,c,f){var p=new d.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",
esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=new h([0,0,0,.25]);b.outline=new f;b.type="simple-fill";b.style="solid";return b}l(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({color:g.clone(this.color),outline:this.outline&&
this.outline.clone(),style:this.style})};var c;e([n.property()],b.prototype,"color",void 0);e([n.property()],b.prototype,"outline",void 0);e([n.enumeration.serializable()({esriSFS:"simple-fill"})],b.prototype,"type",void 0);e([n.property({type:p.apiValues,json:{read:p.read,write:p.write}})],b.prototype,"style",void 0);return b=c=e([n.subclass("esri.symbols.SimpleFillSymbol")],b)}(n.declared(c))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){var p=new h.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.color=new k([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new f;return b}l(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a)return a;var e={};a&&(e.style=a);null!=b&&
(e.size=g.toPt(b));c&&(e.outline=c);d&&(e.color=d);return e};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON())};Object.defineProperty(b.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({angle:this.angle,color:d.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};
var c;e([n.property()],b.prototype,"color",void 0);e([n.writer("color")],b.prototype,"writeColor",null);e([n.enumeration.serializable()({esriSMS:"simple-marker"})],b.prototype,"type",void 0);e([n.property()],b.prototype,"size",void 0);e([n.property({type:p.apiValues,json:{read:p.read,write:p.write}})],b.prototype,"style",void 0);e([n.property({type:String,json:{write:!0}})],b.prototype,"path",null);e([n.property({type:f,json:{default:null,write:!0}})],b.prototype,"outline",void 0);return b=c=e([n.subclass("esri.symbols.SimpleMarkerSymbol")],
b)}(n.declared(c))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),function(a,b,l,e,k,h,d,g,n,c){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new n;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=
null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;return b}l(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:h.clone(this.backgroundColor),borderLineColor:h.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:h.clone(this.color),
font:this.font&&this.font.clone(),haloColor:h.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};var c;e([g.property({type:k,json:{write:!0}})],b.prototype,"backgroundColor",void 0);e([g.property({type:k,json:{write:!0}})],b.prototype,"borderLineColor",void 0);e([g.property({type:Number,
json:{write:!0}})],b.prototype,"borderLineSize",void 0);e([g.property({type:n,json:{write:!0}})],b.prototype,"font",void 0);e([g.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);e([g.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);e([g.property({type:k,json:{write:!0}})],b.prototype,"haloColor",void 0);e([g.property({type:Number,cast:d.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);e([g.property({type:Boolean,
json:{write:!0}})],b.prototype,"rightToLeft",void 0);e([g.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([g.property({type:String,readOnly:!0})],b.prototype,"type",void 0);e([g.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);e([g.property({type:Number,cast:d.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([g.property({type:Number,
cast:d.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([g.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);return b=c=e([g.subclass("esri.symbols.TextSymbol")],b)}(g.declared(c))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/asyncUtils ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q){function t(){return h(this,void 0,void 0,function(){return k(this,function(b){return[2,c.create(function(b){return a(["./support/styleUtils"],b)})]})})}var v=n.getLogger("esri.symbols.WebStyleSymbol"),x=g.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}l(b,a);g=b;b.prototype.read=function(a,b){this.portal=
b?b.portal:void 0;this.inherited(arguments,[a,b])};b.prototype.clone=function(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};b.prototype.fetchSymbol=function(a){return d.safeCast(this._fetchSymbol("webRef",a))};b.prototype.fetchCIMSymbol=function(a){return d.safeCast(this._fetchSymbol("cimRef",a))};b.prototype._fetchSymbol=function(a,b){return h(this,void 0,void 0,function(){var d,e;return k(this,function(f){switch(f.label){case 0:return[4,t()];
case 1:return d=f.sent(),c.throwIfAborted(b),e=d.resolveWebStyleSymbol(this,{portal:this.portal},a,b),e.catch(function(a){v.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,e]}})})};var g;e([p.property({json:{write:!1}})],b.prototype,"color",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);e([p.property({type:r,json:{write:!1}})],b.prototype,"portal",void 0);e([p.property({type:String,json:{read:f.read,write:f.write}})],b.prototype,"styleUrl",
void 0);e([p.property({type:q.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([p.property({type:x.apiValues,readOnly:!0,json:{type:x.jsonValues,read:!1,write:x.write}})],b.prototype,"type",void 0);return b=g=e([p.subclass("esri.symbols.WebStyleSymbol")],b)}(p.declared(m))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w){function z(a,b,c){b=a?y[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new e("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function A(a,b,c){if(!a)return null;if(c&&"web-scene"===c.origin&&!a.isInstanceOf(t)&&!a.isInstanceOf(x)){var d=w.to3D(a);if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new l("symbol:unsupported",
"Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(b,"__esModule",{value:!0});var y={esriSMS:q,esriPMS:c,esriTS:v,esriSLS:m,esriSFS:r,esriPFS:n,PointSymbol3D:f,LineSymbol3D:d,PolygonSymbol3D:p,MeshSymbol3D:g,LabelSymbol3D:h,styleSymbolReference:x,CIMSymbolReference:k};b.read=z;b.writeTarget=function(a,b,c,d){(a=A(a,{},d))&&(b[c]=
a)};b.write=A;b.fromJSON=function(a,b){return z(a,null,b)};b.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new u}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(a,b,l,e){Object.defineProperty(b,"__esModule",{value:!0});b.to3D=function(a,b,d,g){void 0===b&&(b=!1);void 0===d&&(d=!1);void 0===g&&(g=!0);if(!a)return{symbol:null};if(l.isSymbol3D(a)||a instanceof
l.WebStyleSymbol)g=a.clone();else if(a instanceof l.SimpleLineSymbol)g=l.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof l.SimpleMarkerSymbol)g=l.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof l.PictureMarkerSymbol)g=l.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof l.SimpleFillSymbol)g=l.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof l.TextSymbol)g=g?l.LabelSymbol3D.fromTextSymbol(a):l.PointSymbol3D.fromTextSymbol(a);else return{error:new e("symbol-conversion:unsupported-2d-symbol",
"2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(g.id=a.id);if(d&&l.isSymbol3D(g))for(a=0;a<g.symbolLayers.length;++a)g.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:g}}})},"esri/renderers/Renderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators ./support/AuthoringInfo".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){var r=new n.default({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",rasterStretch:"raster-stretch",dictionary:"dictionary"},{ignoreUnknown:!0});return function(a){function b(b){b=a.call(this,b)||this;b.authoringInfo=null;b.type=null;return b}l(b,a);b.prototype.getRequiredFields=function(a){return h(this,void 0,void 0,function(){var b;return k(this,function(c){switch(c.label){case 0:if(!this.collectRequiredFields)return[2,
[]];b=new g.default;return[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,d.from(b).sort()]}})})};b.prototype.getSymbol=function(a,b){};b.prototype.getSymbolAsync=function(a,b){return h(this,void 0,void 0,function(){return k(this,function(a){return[2]})})};b.prototype.getSymbols=function(){return[]};b.prototype.getAttributeHash=function(){return JSON.stringify(this)};b.prototype.getMeshHash=function(){return JSON.stringify(this)};e([f.property({type:p,json:{write:!0}})],b.prototype,
"authoringInfo",void 0);e([f.property({type:r.apiValues,readOnly:!0,json:{type:r.jsonValues,read:!1,write:{writer:r.write,ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=e([f.subclass("esri.renderers.Renderer")],b)}(f.declared(c))})},"esri/renderers/support/AuthoringInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){var r=new k.default({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),m=new k.default({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),
q="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");return function(a){function b(b){b=a.call(this)||this;b.colorRamp=null;b.lengthUnit=null;b.maxSliderValue=null;b.minSliderValue=null;b.visualVariables=null;return b}l(b,a);h=b;Object.defineProperty(b.prototype,"classificationMethod",{get:function(){var a=this._get("classificationMethod"),b=this.type;return b&&"relationship"!==b?"class-breaks-size"===b||"class-breaks-color"===
b?a||"manual":null:a},set:function(a){this._set("classificationMethod",a)},enumerable:!0,configurable:!0});b.prototype.readColorRamp=function(a,b){if(a)return p.fromJSON(a)};Object.defineProperty(b.prototype,"fields",{get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(a){this._set("fields",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"field1",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},
set:function(a){this._set("field1",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"field2",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(a){this._set("field2",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"focus",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(a){this._set("focus",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"numClasses",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(a){this._set("numClasses",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"standardDeviationInterval",{get:function(){var a=this.type;return a&&"relationship"!==a&&"class-breaks-size"!==a&&"class-breaks-color"!==a?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(a){this._set("standardDeviationInterval",
a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"type",{get:function(){return this._get("type")},set:function(a){var b=a;"classed-size"===a?b="class-breaks-size":"classed-color"===a&&(b="class-breaks-color");this._set("type",b)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new h({classificationMethod:this.classificationMethod,colorRamp:d.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:d.clone(this.field1),field2:d.clone(this.field2),
focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(function(a){return a.clone()})})};var h;e([g.property({type:r.apiValues,value:null,dependsOn:["type"],json:{type:r.jsonValues,read:r.read,write:r.write,origins:{"web-document":{default:"manual",type:r.jsonValues,read:r.read,write:r.write}}}})],
b.prototype,"classificationMethod",null);e([g.property({types:p.types,json:{write:!0}})],b.prototype,"colorRamp",void 0);e([g.reader("colorRamp")],b.prototype,"readColorRamp",null);e([g.property({type:[String],value:null,dependsOn:["type"],json:{write:!0}})],b.prototype,"fields",null);e([g.property({type:c.default,value:null,dependsOn:["type"],json:{write:!0}})],b.prototype,"field1",null);e([g.property({type:c.default,value:null,dependsOn:["type"],json:{write:!0}})],b.prototype,"field2",null);e([g.property({type:["HH",
"HL","LH","LL"],value:null,dependsOn:["type"],json:{write:!0}})],b.prototype,"focus",null);e([g.property({type:Number,value:null,dependsOn:["type"],json:{type:n.Integer,write:!0}})],b.prototype,"numClasses",null);e([g.property({type:q,json:{type:q,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],b.prototype,"lengthUnit",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"maxSliderValue",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"minSliderValue",
void 0);e([g.property({type:[.25,.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],b.prototype,"standardDeviationInterval",null);e([g.property({type:String,value:null,json:{type:m.jsonValues,read:m.read,write:m.write,origins:{"web-scene":{type:m.jsonValues.filter(function(a){return"dotDensity"!==a}),read:m.read,write:m.write}}}})],b.prototype,"type",null);e([g.property({type:[f],json:{write:!0}})],b.prototype,"visualVariables",void 0);return b=h=
e([g.subclass("esri.renderers.support.AuthoringInfo")],b)}(g.declared(h))})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./AuthoringInfoClassBreakInfo".split(" "),function(a,b,l,e,k,h,d,g,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this)||this;
b.field="";b.normalizationField="";b.classBreakInfos=[];return b}l(b,a);c=b;b.prototype.clone=function(){return new c({field:this.field,normalizationField:this.normalizationField,classBreakInfos:d.clone(this.classBreakInfos)})};var c;e([g.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([g.property({type:[n.default],json:{write:!0}})],b.prototype,"classBreakInfos",void 0);return b=c=e([g.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],
b)}(g.declared(k,h));b.AuthoringInfoFieldInfo=a;b.default=a})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h,d){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this)||this;b.minValue=0;b.maxValue=0;return b}l(b,a);c=b;b.prototype.clone=
function(){return new c({minValue:this.minValue,maxValue:this.maxValue})};var c;e([d.property({type:Number,json:{write:!0}})],b.prototype,"minValue",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"maxValue",void 0);return b=c=e([d.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],b)}(d.declared(k,h));b.AuthoringInfoClassBreakInfo=a;b.default=a})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast".split(" "),
function(a,b,l,e,k,h,d,g){var n=new k.default({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),c=new k.default({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),f={key:function(a){return"number"===typeof a?"number":"string"},typeMap:{number:Number,string:String},base:null},p=["high-to-low","above-and-below","centered-on","extremes"],r="seconds minutes hours days months years".split(" ");return function(a){function b(b){b=a.call(this)||this;b.endTime=
null;b.field=null;b.maxSliderValue=null;b.minSliderValue=null;b.startTime=null;b.type=null;b.units=null;return b}l(b,a);m=b;b.prototype.castEndTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};b.prototype.castStartTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};Object.defineProperty(b.prototype,"style",{get:function(){return"color"===this.type?this._get("style"):null},set:function(a){this._set("style",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"theme",{get:function(){return"color"===this.type?this._get("theme")||"high-to-low":null},set:function(a){this._set("theme",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new m({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};var m;e([d.property({types:f,json:{write:!0}})],b.prototype,"endTime",void 0);e([g.cast("endTime")],
b.prototype,"castEndTime",null);e([d.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"maxSliderValue",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"minSliderValue",void 0);e([d.property({types:f,json:{write:!0}})],b.prototype,"startTime",void 0);e([g.cast("startTime")],b.prototype,"castStartTime",null);e([d.property({type:n.apiValues,value:null,dependsOn:["type"],json:{type:n.jsonValues,read:n.read,
write:n.write}})],b.prototype,"style",null);e([d.property({type:p,value:null,dependsOn:["type"],json:{type:p,write:!0}})],b.prototype,"theme",null);e([d.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],b.prototype,"type",void 0);e([d.property({type:r,json:{type:r,write:!0}})],b.prototype,"units",void 0);return b=m=e([d.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],b)}(d.declared(h))})},"esri/tasks/support/colorRamps":function(){define(["require","exports",
"./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,l,e,k){Object.defineProperty(b,"__esModule",{value:!0});b.types={key:"type",base:e,typeMap:{algorithmic:l,multipart:k}};b.fromJSON=function(a){return a&&a.type?"algorithmic"===a.type?l.fromJSON(a):"multipart"===a.type?k.fromJSON(a):null:null}})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../Color ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ColorRamp".split(" "),
function(a,b,l,e,k,h,d,g,n){return function(a){function b(b){b=a.call(this)||this;b.algorithm=null;b.fromColor=null;b.toColor=null;b.type="algorithmic";return b}e(b,a);c=b;b.prototype.clone=function(){return new c({fromColor:h.clone(this.fromColor),toColor:h.clone(this.toColor),algorithm:this.algorithm})};var c;l([d.enumeration.serializable()({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],b.prototype,"algorithm",void 0);l([d.property({type:k,json:{type:[g.Integer],
write:!0}})],b.prototype,"fromColor",void 0);l([d.property({type:k,json:{type:[g.Integer],write:!0}})],b.prototype,"toColor",void 0);l([d.property({type:["algorithmic"]})],b.prototype,"type",void 0);return b=c=l([d.subclass("esri.tasks.support.AlgorithmicColorRamp")],b)}(d.declared(n))})},"esri/tasks/support/ColorRamp":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.type=null;return b}l(b,a);e([h.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.tasks.support.ColorRamp")],b)}(h.declared(k))})},"esri/tasks/support/MultipartColorRamp":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/lang ../../core/accessorSupport/decorators ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this)||this;b.colorRamps=null;b.type="multipart";return b}e(b,a);f=b;b.prototype.clone=function(){return new f({colorRamps:k.clone(this.colorRamps)})};var f;l([h.property({type:[d],json:{write:!0}})],b.prototype,"colorRamps",void 0);l([h.property({type:["multipart"]})],b.prototype,"type",void 0);return b=f=l([h.subclass("esri.tasks.support.MultipartColorRamp")],b)}(h.declared(g))})},"esri/renderers/mixins/VisualVariablesRenderer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q){var t={base:m,key:"type",typeMap:{opacity:f,color:c,rotation:p,size:r}};return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._vvFactory=new q;return b}l(b,a);Object.defineProperty(b.prototype,"visualVariables",{set:function(a){this._vvFactory.visualVariables=a;this._set("visualVariables",this._vvFactory.visualVariables)},enumerable:!0,configurable:!0});b.prototype.readVisualVariables=function(a,b,c){return this._vvFactory.readVariables(a,
b,c)};b.prototype.writeVisualVariables=function(a,b,c,d){b[c]=this._vvFactory.writeVariables(a,d)};b.prototype.hasVisualVariables=function(a,b){return a?!!this.getVisualVariablesForType(a,b):!!(this.getVisualVariablesForType("size",b)||this.getVisualVariablesForType("color",b)||this.getVisualVariablesForType("opacity",b)||this.getVisualVariablesForType("rotation",b))};b.prototype.getVisualVariablesForType=function(a,b){var c=this.visualVariables;if(c&&(c=c.filter(function(c){return c.type===a&&("string"===
typeof b?c.target===b:!1===b?!c.target:!0)}),!c||0!==c.length))return c};b.prototype.collectVVRequiredFields=function(a,b){return h(this,void 0,void 0,function(){var c,d,e,f;return k(this,function(g){switch(g.label){case 0:c=[],this.visualVariables&&(c=c.concat(this.visualVariables)),d=0,e=c,g.label=1;case 1:if(!(d<e.length))return[3,4];f=e[d];if(!f)return[3,3];f.field&&n.collectField(a,b,f.field);f.normalizationField&&n.collectField(a,b,f.normalizationField);return f.valueExpression?[4,n.collectArcadeFieldNames(a,
b,f.valueExpression)]:[3,3];case 2:g.sent(),g.label=3;case 3:return d++,[3,1];case 4:return[2]}})})};e([g.property({types:[t],value:null,json:{write:!0}})],b.prototype,"visualVariables",null);e([g.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],b.prototype,"readVisualVariables",null);e([g.writer("visualVariables")],b.prototype,"writeVisualVariables",null);return b=e([g.subclass("esri.renderers.mixins.VisualVariablesRenderer")],b)}(g.declared(d))})},"esri/renderers/visualVariables/ColorVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./VisualVariable ./support/ColorStop".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this,b)||this;b.type="color";b.normalizationField=null;return b}l(b,a);c=b;Object.defineProperty(b.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};b.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.normalizationField};b.prototype._interpolateData=function(){return this.stops&&
this.stops.map(function(a){return a.value||0})};var c;e([k.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],b.prototype,"cache",null);e([k.property({type:["color"],json:{type:["colorInfo"]}})],b.prototype,"type",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([k.property({type:[d],json:{write:!0}})],b.prototype,"stops",null);return b=c=e([k.subclass("esri.renderers.visualVariables.ColorVariable")],b)}(k.declared(h))})},"esri/renderers/visualVariables/VisualVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,l,e,k,h,d,g,n,c){var f=d.getLogger("esri.renderers.visualVariables.VisualVariable"),p=new k.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});return function(a){function b(b){b=a.call(this,b)||this;b.index=null;b.type=null;b.field=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;return b}l(b,a);b.prototype.castField=function(a){return null==a?a:"function"===typeof a?(f.error(".field: field must be a string value"),
null):n.ensureString(a)};b.prototype.clone=function(){};b.prototype.getAttributeHash=function(){return this.type+"-"+this.field+"-"+this.valueExpression};e([g.property()],b.prototype,"index",void 0);e([g.property({type:p.apiValues,readOnly:!0,json:{read:p.read,write:p.write}})],b.prototype,"type",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([g.cast("field")],b.prototype,"castField",null);e([g.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",
void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);e([g.property({type:c,json:{write:!0}})],b.prototype,"legendOptions",void 0);return b=e([g.subclass("esri.renderers.visualVariables.VisualVariable")],b)}(g.declared(h))})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../support/LegendOptions".split(" "),
function(a,b,l,e,k,h){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.showLegend=null;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({title:this.title,showLegend:this.showLegend})};var d;e([k.property({type:Boolean,json:{write:!0}})],b.prototype,"showLegend",void 0);return b=d=e([k.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],b)}(k.declared(h.default))})},"esri/renderers/support/LegendOptions":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.title=null;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({title:this.title})};var d;e([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=d=e([h.subclass("esri.renderers.support.LegendOptions")],b)}(h.declared(k));b.LegendOptions=a;b.default=a})},"esri/renderers/visualVariables/OpacityVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./VisualVariable ./support/OpacityStop".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this,b)||this;b.type="opacity";b.normalizationField=null;return b}l(b,a);c=b;Object.defineProperty(b.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};b.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.normalizationField};b.prototype._interpolateData=function(){return this.stops&&
this.stops.map(function(a){return a.value||0})};var c;e([k.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],b.prototype,"cache",null);e([k.property({type:["opacity"],json:{type:["transparencyInfo"]}})],b.prototype,"type",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([k.property({type:[d],json:{write:!0}})],b.prototype,"stops",null);return b=c=e([k.subclass("esri.renderers.visualVariables.OpacityVariable")],b)}(k.declared(h))})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this,b)||this;b.label=null;b.opacity=null;b.value=null;return b}l(b,a);f=b;b.prototype.readOpacity=function(a,b){return g.transparencyToOpacity(b.transparency)};b.prototype.writeOpacity=function(a,b,c){b[c]=g.opacityToTransparency(a)};b.prototype.clone=function(){return new f({label:this.label,opacity:this.opacity,value:this.value})};var f;e([h.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([h.property({type:Number,
json:{type:d.Integer,write:{target:"transparency"}}})],b.prototype,"opacity",void 0);e([h.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);e([h.writer("opacity")],b.prototype,"writeOpacity",null);e([h.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=f=e([h.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)}(h.declared(k))})},"esri/renderers/visualVariables/RotationVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Error ../../core/accessorSupport/decorators ./VisualVariable".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this,b)||this;b.axis=null;b.type="rotation";b.rotationType="geographic";b.valueExpressionTitle=null;return b}l(b,a);c=b;Object.defineProperty(b.prototype,"cache",{get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});b.prototype.writeValueExpressionTitleWebScene=function(a,b,c,d){d&&d.messages&&d.messages.push(new k("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:"visualVariables["+this.index+"].valueExpressionTitle",context:d}))};b.prototype.clone=function(){return new c({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};var c;e([h.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"cache",null);e([h.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",
write:!0}}}})],b.prototype,"axis",void 0);e([h.property({type:["rotation"],json:{type:["rotationInfo"]}})],b.prototype,"type",void 0);e([h.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],b.prototype,"rotationType",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);e([h.writer("web-scene","valueExpressionTitle")],b.prototype,"writeValueExpressionTitleWebScene",null);return b=c=e([h.subclass("esri.renderers.visualVariables.RotationVariable")],
b)}(h.declared(d))})},"esri/renderers/visualVariables/SizeVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r,m){function q(a){if(null!=
a){if("string"===typeof a||"number"===typeof a)return n.toPt(a);if("size"===a.type){if(m.isSizeVariable(a))return a;a=k({},a);delete a.type;return new z(a)}}}function t(a,b,c){if("object"!==typeof a)return a;b=new z;b.read(a,c);return b}var v=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,x=g.getLogger("esri.renderers.visualVariables.SizeVariable"),u=new d.default({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),w=new d.default({unknown:"unknown",inch:"inches",
foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"}),z=function(a){function b(b){b=a.call(this,b)||this;b.axis=null;b.legendOptions=null;b.normalizationField=null;b.scaleBy=null;b.target=null;b.type="size";b.useSymbolValue=null;b.valueExpression=null;b.valueRepresentation=null;b.valueUnit=null;return b}l(b,a);d=b;Object.defineProperty(b.prototype,
"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:v.test(this.valueExpression)}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"expression",{set:function(a){x.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===a?(this.valueExpression="$view.scale",this._set("expression",a)):this._set("expression",null)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"index",{set:function(a){m.isSizeVariable(this.maxSize)&&(this.maxSize.index="visualVariables["+a+"].maxSize");m.isSizeVariable(this.minSize)&&(this.minSize.index="visualVariables["+a+"].minSize");this._set("index",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"inputValueType",{get:function(){return m.getInputValueType(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"maxDataValue",{set:function(a){a&&
this.stops&&(x.warn("cannot set maxDataValue when stops is not null."),a=null);this._set("maxDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"maxSize",{set:function(a){a&&this.stops&&(x.warn("cannot set maxSize when stops is not null."),a=null);this._set("maxSize",a)},enumerable:!0,configurable:!0});b.prototype.castMaxSize=function(a){return q(a)};b.prototype.readMaxSize=function(a,b,c){return t(a,b,c)};Object.defineProperty(b.prototype,"minDataValue",{set:function(a){a&&
this.stops&&(x.warn("cannot set minDataValue when stops is not null."),a=null);this._set("minDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"minSize",{set:function(a){a&&this.stops&&(x.warn("cannot set minSize when stops is not null."),a=null);this._set("minSize",a)},enumerable:!0,configurable:!0});b.prototype.castMinSize=function(a){return q(a)};b.prototype.readMinSize=function(a,b,c){return t(a,b,c)};Object.defineProperty(b.prototype,"stops",{set:function(a){null==
this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value})):a&&(x.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),a=null);this._set("stops",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"transformationType",{get:function(){return m.getTransformationType(this,this.inputValueType)},enumerable:!0,configurable:!0});
b.prototype.readValueExpression=function(a,b){return a||b.expression&&"$view.scale"};b.prototype.writeValueExpressionWebScene=function(a,b,c,d){"$view.scale"===a?d&&d.messages&&(a=this.index,d.messages.push(new h("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof a?a:"visualVariables["+a+"]")+".valueExpression",context:d}))):b[c]=a};b.prototype.readValueUnit=
function(a,b,c){return a?w.read(a):null};b.prototype.clone=function(){return new d({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:m.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:m.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(function(a){return a.clone()}),
target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};b.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.target+"-"+this.normalizationField};b.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||0})};var d;e([c.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],b.prototype,"cache",
null);e([c.property({type:u.apiValues,json:{type:u.jsonValues,origins:{"web-map":{read:!1}},read:u.read,write:u.write}})],b.prototype,"axis",void 0);e([c.property({type:String,value:null,json:{read:!1}})],b.prototype,"expression",null);e([c.property()],b.prototype,"index",null);e([c.property({type:String,readOnly:!0,dependsOn:["field","valueExpression"]})],b.prototype,"inputValueType",null);e([c.property({type:r,json:{write:!0}})],b.prototype,"legendOptions",void 0);e([c.property({type:Number,value:null,
json:{write:!0}})],b.prototype,"maxDataValue",null);e([c.property({type:Number,value:null,json:{write:!0}})],b.prototype,"maxSize",null);e([c.cast("maxSize")],b.prototype,"castMaxSize",null);e([c.reader("maxSize")],b.prototype,"readMaxSize",null);e([c.property({type:Number,value:null,json:{write:!0}})],b.prototype,"minDataValue",null);e([c.property({type:Number,value:null,json:{write:!0}})],b.prototype,"minSize",null);e([c.cast("minSize")],b.prototype,"castMinSize",null);e([c.reader("minSize")],b.prototype,
"readMinSize",null);e([c.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([c.property({type:String})],b.prototype,"scaleBy",void 0);e([c.property({type:[p],value:null,json:{write:!0}})],b.prototype,"stops",null);e([c.property({type:["outline"],json:{write:!0}})],b.prototype,"target",void 0);e([c.property({type:String,readOnly:!0,dependsOn:"minDataValue maxDataValue minSize maxSize valueUnit inputValueType stops".split(" ")})],b.prototype,"transformationType",null);
e([c.property({type:["size"],json:{type:["sizeInfo"]}})],b.prototype,"type",void 0);e([c.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],b.prototype,"useSymbolValue",void 0);e([c.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);e([c.reader("valueExpression",["valueExpression","expression"])],b.prototype,"readValueExpression",null);e([c.writer("web-scene","valueExpression")],b.prototype,"writeValueExpressionWebScene",null);e([c.property({type:["radius",
"diameter","area","width","distance"],json:{write:!0}})],b.prototype,"valueRepresentation",void 0);e([c.property({type:w.apiValues,json:{write:w.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],b.prototype,"valueUnit",void 0);e([c.reader("valueUnit")],b.prototype,"readValueUnit",null);return b=d=e([c.subclass("esri.renderers.visualVariables.SizeVariable")],b)}(c.declared(f));return z})},"esri/renderers/visualVariables/support/SizeStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this,b)||this;b.label=null;b.size=null;b.value=null;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({label:this.label,size:this.size,value:this.value})};var c;e([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"size",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=c=e([d.subclass("esri.renderers.visualVariables.support.SizeStop")],
b)}(d.declared(k))})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./VisualVariableLegendOptions".split(" "),function(a,b,l,e,k,h){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.customValues=null;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({title:this.title,showLegend:this.showLegend,
customValues:this.customValues&&this.customValues.slice(0)})};var d;e([k.property({type:[Number],json:{write:!0}})],b.prototype,"customValues",void 0);return b=d=e([k.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],b)}(k.declared(h))})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["require","exports"],function(a,b){function l(a){return a.valueExpression?"expression":a.field&&"string"===typeof a.field?"field":"unknown"}Object.defineProperty(b,
"__esModule",{value:!0});b.isSizeVariable=function(a){return a&&"esri.renderers.visualVariables.SizeVariable"===a.declaredClass};b.isValidNumber=function(a){return null!=a&&!isNaN(a)&&isFinite(a)};b.getInputValueType=l;b.getTransformationType=function(a,b){return"unknown"===(b||l(a))?"constant":a.stops?"stops":null!=a.minSize&&null!=a.maxSize&&null!=a.minDataValue&&null!=a.maxDataValue?"clamped-linear":"unknown"===(a.valueUnit||"unknown")?null!=a.minSize&&null!=a.minDataValue?a.minSize&&a.minDataValue?
"proportional":"additive":"identity":"real-world-size"}})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r){var m=d.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),
q={color:c,size:r,opacity:f,rotation:p},t=new h.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),v=/^\[([^\]]+)\]$/i;return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.colorVariables=null;b.opacityVariables=null;b.rotationVariables=null;b.sizeVariables=null;return b}l(b,a);Object.defineProperty(b.prototype,"visualVariables",{set:function(a){this._resetVariables();if((a=a&&a.filter(function(a){return!!a}))&&a.length){for(var b=
0,c=a;b<c.length;b++){var d=c[b];switch(d.type){case "color":this.colorVariables.push(d);break;case "opacity":this.opacityVariables.push(d);break;case "rotation":this.rotationVariables.push(d);break;case "size":this.sizeVariables.push(d)}}this.sizeVariables.length&&this.sizeVariables.some(function(a){return!!a.target})&&a.sort(function(a,b){var c=null;return c=a.target===b.target?0:a.target?1:-1});for(b=0;b<a.length;b++)d=a[b],d.index=b}this._set("visualVariables",a)},enumerable:!0,configurable:!0});
b.prototype.readVariables=function(a,b,c){var d=b.rotationExpression;b=b.rotationType;if(d=(d=d&&d.match(v))&&d[1])a||(a=[]),a.push({type:"rotationInfo",rotationType:b,field:d});if(a)return a.map(function(a){var b=t.read(a.type),d=q[b];d||(m.warn("Unknown variable type: "+b),c&&c.messages&&c.messages.push(new g("visual-variable:unsupported","visualVariable of type '"+b+"' is not supported",{definition:a,context:c})));b=new d;b.read(a,c);return b})};b.prototype.writeVariables=function(a,b){for(var c=
[],d=0;d<a.length;d++){var e=a[d].toJSON(b);e&&c.push(e)}return c};b.prototype._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};e([n.property()],b.prototype,"visualVariables",null);return b=e([n.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)}(n.declared(k))})},"esri/renderers/support/ClassBreakInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
function(a,b,l,e,k,h,d,g){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this,b)||this;b.description=null;b.label=null;b.minValue=null;b.maxValue=0;b.symbol=null;return b}l(b,a);f=b;b.prototype.clone=function(){return new f({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol);return this.minValue+"."+this.maxValue+
"."+a};var f;e([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([d.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);e([d.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);e([d.property({types:k.symbolTypesRenderer,json:{origins:{"web-scene":{types:k.symbolTypesRenderer3D,
read:g.read,write:g.writeTarget}},read:g.read,write:g.writeTarget}})],b.prototype,"symbol",void 0);return b=f=e([d.subclass("esri.renderers.support.ClassBreakInfo")],b)}(d.declared(h));b.ClassBreakInfo=a;b.default=a})},"esri/renderers/DictionaryRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper @dojo/framework/shim/Set ../Color ../request ../core/Error ../core/lang ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ./Renderer ./mixins/VisualVariablesRenderer ../support/arcadeOnDemand ../symbols/CIMSymbol ../symbols/support/cimSymbolUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w){var z=r.getLogger("esri.renderers.DictionaryRenderer"),A=function(a,b){return a.replace(/\{itemName\}/gi,b)};return function(a){function b(b){b=a.call(this)||this;b._arcadeUtils=null;b.config=null;b.description=null;b.label=null;b.type="dictionary";return b}l(b,a);r=b;b.prototype.clone=function(){return new r({config:p.clone(this.config),description:p.clone(this.description),fieldMap:p.clone(this.fieldMap),label:p.clone(this.label),url:p.clone(this.url),
visualVariables:p.clone(this.visualVariables)})};b.prototype.collectRequiredFields=function(a,b){return d(this,void 0,void 0,function(){var c;return h(this,function(d){switch(d.label){case 0:return[4,this.collectVVRequiredFields(a,b)];case 1:d.sent();for(c in this.fieldMap)a.add(this.fieldMap[c]);return[2]}})})};b.prototype.fetchResources=function(a){return d(this,void 0,void 0,function(){var b,d,e,n,l,q,r,p,t,u,v;return h(this,function(h){switch(h.label){case 0:if(!this.url)return z.error("no valid URL!"),
[2];this._dictionaryPromise=c(this.url+"/resources/styles/dictionary-info.json",k({responseType:"json",query:{f:"json"}},a));return[4,m.all([this._dictionaryPromise,x.loadArcade()])];case 1:b=h.sent();d=b[0].data;e=b[1].arcadeUtils;if(!d)throw new f("esri.renderers.DictionaryRenderer","Bad dictionary data!");n=d.expression;l=d.authoringInfo;q=l.configuration;this._refSymbolUrlTemplate=d.cimRefTemplateUrl;this._itemNames=new g.default(d.itemsNames);r=new Map;this._symbolAttributes=l.symbol;this._syntaxTree=
e.createSyntaxTree(n);p=0;for(t=q;p<t.length;p++)u=t[p],r.set("$"+u.name,u.value);if(v=this.config)for(u in v)r.set("$"+u,v[u]);this._configurationAttributes=r;this._arcadeUtils=e;return[2]}})})};b.prototype.fetchSymbol=function(a,b){return d(this,void 0,void 0,function(){var c,d,e,f,g,m,k,l,q,r,p,t,v,x,y,D,C,E,B,T,X,ia;return h(this,function(h){switch(h.label){case 0:return this._dictionaryPromise||this.fetchResources(b),[4,this._dictionaryPromise];case 1:h.sent();c={};this._configurationAttributes.forEach(function(a,
b){c[b]=a});d=0;for(e=this._symbolAttributes;d<e.length;d++)f=e[d],(g=this.fieldMap[f])&&null!==a.attributes[g]&&void 0!==a.attributes[g]?(m=""+a.attributes[g],c["$"+f]=m):c["$"+f]="";k=this._arcadeUtils;l=k.evalSyntaxTree(this._syntaxTree,{vars:c,spatialReference:null});if(!l||"string"!==typeof l)return[2,null];q=l.split(";");r=[];p=[];t=0;for(v=q;t<v.length;t++)if((x=v[t])&&0!==x.length)if(-1!==x.indexOf("po:"))y=x.substr(3).split("|"),3===y.length&&(D=y[0],C=y[1],E=y[2],"DashTemplate"===C?E=E.split(" ").map(function(a){return Number(a)}):
"Color"===C?(B=(new n(E)).toRgba(),E={r:B[0],g:B[1],b:B[2],a:B[3]}):E=Number(E),p.push({primitiveName:D,propertyName:C,value:E}));else if(-1!==x.indexOf("|"))for(T=0,X=x.split("|");T<X.length;T++)ia=X[T],this._itemNames.has(ia)&&r.push(ia);else this._itemNames.has(x)&&r.push(x);return[2,w.expandSymbol(new u({styleUrl:this.url+"/"+this._refSymbolUrlTemplate,styleName:r}),A).then(function(a){var b=function(a){if(!a)return z.error("CIM Symbol has no data!"),null;a.primitiveOverrides=p};a&&a.data&&0<
p.length&&(Array.isArray(a.data)?a.data.forEach(function(a){return b(a)}):a.data&&b(a.data));return a})]}})})};b.prototype.getSymbol=function(a,b){return null};b.prototype.getSymbolAsync=function(a,b){return d(this,void 0,void 0,function(){return h(this,function(a){return[2,null]})})};b.prototype.getSymbols=function(){return[]};b.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};b.prototype.getMeshHash=
function(){return this.url+"-"+JSON.stringify(this.fieldMap)};var r;e([q.property({type:Object,json:{write:!0}})],b.prototype,"config",void 0);e([q.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);e([q.property({type:Object,json:{write:!0}})],b.prototype,"fieldMap",void 0);e([q.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([q.property({type:String,json:{write:!0}})],b.prototype,"url",void 0);return b=r=e([q.subclass("esri.renderers.DictionaryRenderer")],
b)}(q.declared(t,v))})},"esri/renderers/DotDensityRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/lang ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesRenderer ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v){return function(a){function b(b){b=a.call(this,b)||this;b.attributes=null;b.backgroundColor=new g([0,0,0,0]);b.blendDots=!0;b.dotBlendingEnabled=!0;b.dotShape="square";b.dotSize=1;b.legendOptions=null;b.outline=new v;b.dotValue=null;b.referenceDotValue=null;b.referenceScale=null;b.seed=1;b.type="dot-density";return b}l(b,a);k=b;b.prototype.calculateDotValue=function(a){if(null==this.referenceScale)return this.dotValue;a=a/this.referenceScale*this.dotValue;
return 1>a?1:a};b.prototype.getSymbol=function(a,b){return new t({outline:this.outline})};b.prototype.getSymbolAsync=function(a,b){return d(this,void 0,void 0,function(){return h(this,function(a){return[2,this.getSymbol(null)]})})};b.prototype.getSymbols=function(){return[this.getSymbol(null)]};b.prototype.getAttributeHash=function(){return this.attributes&&this.attributes.reduce(function(a,b){return a+b.getAttributeHash()},"")};b.prototype.getMeshHash=function(){return JSON.stringify(this.outline)};
b.prototype.clone=function(){return new k({attributes:n.clone(this.attributes),backgroundColor:n.clone(this.backgroundColor),dotBlendingEnabled:n.clone(this.dotBlendingEnabled),dotShape:n.clone(this.dotShape),dotSize:n.clone(this.dotSize),dotValue:n.clone(this.dotValue),legendOptions:n.clone(this.legendOptions),outline:n.clone(this.outline),referenceScale:n.clone(this.referenceScale),visualVariables:n.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};b.prototype.getControllerHash=
function(){var a=this.attributes.map(function(a){return a.field||a.valueExpression||""}),b=this.outline&&JSON.stringify(this.outline.toJSON())||"";return a+"-"+b};b.prototype.collectRequiredFields=function(a,b){return d(this,void 0,void 0,function(){var c,d,e;return h(this,function(g){switch(g.label){case 0:return[4,this.collectVVRequiredFields(a,b)];case 1:g.sent(),c=0,d=this.attributes,g.label=2;case 2:if(!(c<d.length))return[3,6];e=d[c];return e.valueExpression?[4,f.collectArcadeFieldNames(a,b,
e.valueExpression)]:[3,4];case 3:g.sent(),g.label=4;case 4:e.field&&a.add(e.field),g.label=5;case 5:return c++,[3,2];case 6:return[2]}})})};var k;e([c.property({type:[m],json:{write:!0}})],b.prototype,"attributes",void 0);e([c.property({type:g,json:{write:!0}})],b.prototype,"backgroundColor",void 0);e([c.property({type:Boolean}),c.aliasOf("dotBlendingEnabled")],b.prototype,"blendDots",void 0);e([c.property({type:Boolean,json:{write:!0}})],b.prototype,"dotBlendingEnabled",void 0);e([c.property({type:String,
json:{write:!0}})],b.prototype,"dotShape",void 0);e([c.property({type:Number,json:{write:!0}})],b.prototype,"dotSize",void 0);e([c.property({type:q,json:{write:!0}})],b.prototype,"legendOptions",void 0);e([c.property({type:v,json:{default:null,write:!0}})],b.prototype,"outline",void 0);e([c.property({type:Number,json:{write:!0}})],b.prototype,"dotValue",void 0);e([c.property({type:Number}),c.aliasOf("dotValue")],b.prototype,"referenceDotValue",void 0);e([c.property({type:Number,json:{write:!0}})],
b.prototype,"referenceScale",void 0);e([c.property({type:Number,json:{write:!0}})],b.prototype,"seed",void 0);e([c.enumeration.serializable()({dotDensity:"dot-density"})],b.prototype,"type",void 0);return b=k=e([c.subclass("esri.renderers.DotDensityRenderer")],b)}(c.declared(p,r))})},"esri/renderers/support/AttributeColorInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),
function(a,b,l,e,k,h,d,g,n){var c=d.getLogger("esri.renderers.support.AttributeColorInfo");return function(a){function b(b){b=a.call(this,b)||this;b.color=null;b.field=null;b.label=null;b.valueExpression=null;b.valueExpressionTitle=null;return b}l(b,a);d=b;b.prototype.castField=function(a){return null==a?a:"function"===typeof a?(c.error(".field: field must be a string value"),null):n.ensureString(a)};b.prototype.getAttributeHash=function(){return this.field+"-"+this.valueExpression};b.prototype.clone=
function(){return new d({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};var d;e([g.property({type:k,json:{type:[Number],write:!0}})],b.prototype,"color",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([g.cast("field")],b.prototype,"castField",null);e([g.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([g.property({type:String,json:{write:!0}})],
b.prototype,"valueExpression",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);return b=d=e([g.subclass("esri.renderers.support.AttributeColorInfo")],b)}(g.declared(h))})},"esri/renderers/support/DotDensityLegendOptions":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h){return function(a){function b(){var b=
null!==a&&a.apply(this,arguments)||this;b.unit=null;return b}e(b,a);d=b;b.prototype.clone=function(){return new d({unit:this.unit})};var d;l([h.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=d=l([h.subclass("esri.renderers.support.DotDensityLegendOptions")],b)}(h.declared(k))})},"esri/renderers/HeatmapRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/lang ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Renderer ./support/HeatmapColorStop".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){return function(a){function b(b){b=a.call(this)||this;b.blurRadius=10;b.colorStops=[new p.HeatmapColorStop({ratio:0,color:new d("rgba(255, 140, 0, 0)")}),new p.HeatmapColorStop({ratio:.75,color:new d("rgba(255, 140, 0, 1)")}),new p.HeatmapColorStop({ratio:.9,color:new d("rgba(255, 0,   0, 1)")})];b.field=null;b.fieldOffset=0;b.maxPixelIntensity=100;b.minPixelIntensity=0;b.type="heatmap";return b}l(b,a);f=b;b.prototype.collectRequiredFields=function(a,b){return h(this,
void 0,void 0,function(){var d;return k(this,function(e){(d=this.field)&&"string"===typeof d&&c.collectField(a,b,d);return[2]})})};b.prototype.getAttributeHash=function(){return null};b.prototype.getMeshHash=function(){return JSON.stringify(this.colorStops)+"."+this.blurRadius};b.prototype.clone=function(){return new f({blurRadius:this.blurRadius,colorStops:g.clone(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})};var f;e([n.property({type:Number,
json:{write:!0}})],b.prototype,"blurRadius",void 0);e([n.property({type:[p.HeatmapColorStop],json:{write:!0}})],b.prototype,"colorStops",void 0);e([n.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([n.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:null==c}}}}})],b.prototype,"fieldOffset",void 0);e([n.property({type:Number,json:{write:!0}})],b.prototype,"maxPixelIntensity",void 0);e([n.property({type:Number,json:{write:!0}})],b.prototype,"minPixelIntensity",
void 0);e([n.enumeration.serializable()({heatmap:"heatmap"})],b.prototype,"type",void 0);return b=f=e([n.subclass("esri.renderers.HeatmapRenderer")],b)}(n.declared(f))})},"esri/renderers/support/HeatmapColorStop":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h,d){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=
a.call(this)||this;b.color=null;b.ratio=null;return b}l(b,a);c=b;b.prototype.clone=function(){return new c({color:this.color,ratio:this.ratio})};var c;e([d.property({type:k,json:{write:!0}})],b.prototype,"color",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"ratio",void 0);return b=c=e([d.subclass("esri.renderers.support.HeatmapColorStop")],b)}(d.declared(h));b.HeatmapColorStop=a;b.default=a})},"esri/renderers/SimpleRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../symbols ../core/lang ../core/accessorSupport/decorators ./Renderer ./mixins/VisualVariablesRenderer ../symbols/support/jsonUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){return function(a){function b(b){b=a.call(this)||this;b.description=null;b.label=null;b.symbol=null;b.type="simple";return b}l(b,a);c=b;b.prototype.writeSymbolWebScene=function(a,b,c,d){p.writeTarget(a,b,c,d)};b.prototype.writeSymbol=function(a,b,c,d){p.writeTarget(a,b,c,d)};b.prototype.readSymbol=function(a,b,c){return p.read(a,b,c)};b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){return k(this,function(c){this.getSymbols().forEach(function(c){return c.collectRequiredFields(a,
b)});return[2,this.collectVVRequiredFields(a,b)]})})};b.prototype.getSymbol=function(a,b){return this.symbol};b.prototype.getSymbolAsync=function(a,b){return h(this,void 0,void 0,function(){return k(this,function(a){return[2,this.symbol]})})};b.prototype.getSymbols=function(){return this.symbol?[this.symbol]:[]};b.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};b.prototype.getMeshHash=function(){return this.getSymbols().reduce(function(a,
b){return a+=JSON.stringify(b)},"")};b.prototype.clone=function(){return new c({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:g.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};var c;e([n.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);e([n.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([n.property({types:d.symbolTypesRenderer})],b.prototype,"symbol",
void 0);e([n.writer("web-scene","symbol",{symbol:{types:d.symbolTypesRenderer3D}})],b.prototype,"writeSymbolWebScene",null);e([n.writer("symbol")],b.prototype,"writeSymbol",null);e([n.reader("symbol")],b.prototype,"readSymbol",null);e([n.enumeration.serializable()({simple:"simple"})],b.prototype,"type",void 0);return b=c=e([n.subclass("esri.renderers.SimpleRenderer")],b)}(n.declared(c,f))})},"esri/renderers/StretchRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/lang ../core/accessorSupport/decorators ./Renderer ./support/stretchRendererUtils ../tasks/support/ColorRamp ../tasks/support/colorRamps".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.colorRamp=null;b.computeGamma=!1;b.dynamicRangeAdjustment=!0;b.gamma=[];b.maxPercent=null;b.minPercent=null;b.numberOfStandardDeviations=null;b.outputMax=null;b.outputMin=null;b.sigmoidStrengthLevel=null;b.statistics=[];b.useGamma=!1;b.stretchType="none";b.type="raster-stretch";return b}l(b,a);g=b;b.prototype.readColorRamp=function(a,b){if(a)return f.fromJSON(a)};b.prototype.writeStatistics=
function(a,b,c){null==a||0===a.length?a=null:a[0]instanceof Array||(a=a.map(function(a){return[a.min,a.max,a.avg,a.stddev]}));b[c]=a};b.prototype.clone=function(){return new g({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:h.clone(this.statistics),gamma:h.clone(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,
maxPercent:this.maxPercent,colorRamp:h.clone(this.colorRamp),dynamicRangeAdjustment:this.dynamicRangeAdjustment})};var g;e([d.property({type:c,json:{write:!0}})],b.prototype,"colorRamp",void 0);e([d.reader("colorRamp")],b.prototype,"readColorRamp",null);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"computeGamma",void 0);e([d.property({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],b.prototype,"dynamicRangeAdjustment",void 0);e([d.property({type:[Number],json:{write:{allowNull:!0}}})],
b.prototype,"gamma",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"maxPercent",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"minPercent",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"numberOfStandardDeviations",void 0);e([d.property({type:Number,json:{read:{source:"max"},write:{target:"max",allowNull:!0}}})],b.prototype,"outputMax",void 0);e([d.property({type:Number,json:{read:{source:"min"},write:{target:"min",
allowNull:!0}}})],b.prototype,"outputMin",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"sigmoidStrengthLevel",void 0);e([d.property({json:{write:{allowNull:!0}}})],b.prototype,"statistics",void 0);e([d.writer("statistics")],b.prototype,"writeStatistics",null);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"useGamma",void 0);e([d.property({type:n.stretchTypeJSONDict.apiValues,json:{type:n.stretchTypeJSONDict.jsonValues,read:n.stretchTypeJSONDict.read,write:n.stretchTypeJSONDict.write}})],
b.prototype,"stretchType",void 0);e([d.enumeration.serializable()({rasterStretch:"raster-stretch"})],b.prototype,"type",void 0);return b=g=e([d.subclass("esri.renderers.StretchRenderer")],b)}(d.declared(g))})},"esri/renderers/support/stretchRendererUtils":function(){define(["require","exports","../../core/jsonMap"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.stretchTypeJSONDict=new l.default({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",
minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"})})},"esri/renderers/UniqueValueRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../symbols ../symbols ../core/arrayUtils ../core/Error ../core/lang ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesRenderer ./support/diffUtils ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../symbols/support/jsonUtils ../symbols/support/styleUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y,B,D,C,E){var F=m.getLogger("esri.renderers.UniqueValueRenderer"),G=v.ensureType(B.default);return function(a){function b(b){b=a.call(this)||this;b._valueInfoMap={};b._isDefaultSymbolDerived=!1;b.type="unique-value";b.backgroundFillSymbol=null;b.field=null;b.field2=null;b.field3=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;b.defaultLabel=null;b.fieldDelimiter=null;b.portal=null;b.styleOrigin=null;b.diff={uniqueValueInfos:function(a,
b){if(a||b){if(!a||!b)return{type:"complete",oldValue:a,newValue:b};for(var c=!1,d={type:"collection",added:[],removed:[],changed:[],unchanged:[]},e=function(e){var g=f.find(a,function(a){return a.value===b[e].value});g?A.diff(g,b[e])?(d.changed.push({type:"complete",oldValue:g,newValue:b[e]}),c=!0):d.unchanged.push({oldValue:g,newValue:b[e]}):(d.added.push(b[e]),c=!0)},g=0;g<b.length;g++)e(g);e=function(e){f.find(b,function(b){return b.value===a[e].value})||(d.removed.push(a[e]),c=!0)};for(g=0;g<
a.length;g++)e(g);return c?d:void 0}}};b._set("uniqueValueInfos",[]);return b}l(b,a);m=b;Object.defineProperty(b.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});b.prototype.writeBackgroundFillSymbolWebScene=function(a,b,c,d){C.writeTarget(a,b,c,d)};b.prototype.castField=function(a){return null==a||"function"===typeof a?a:v.ensureString(a)};b.prototype.writeField=function(a,b,c,d){"string"===typeof a?b[c]=a:d&&d.messages?d.messages.push(new p("property:unsupported",
"UniqueValueRenderer.field set to a function cannot be written to JSON")):F.error(".field: cannot write field to JSON since it's not a string value")};Object.defineProperty(b.prototype,"defaultSymbol",{set:function(a){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",a)},enumerable:!0,configurable:!0});b.prototype.readDefaultSymbol=function(a,b,c){return C.read(a,b,c)};b.prototype.writeDefaultSymbolWebScene=function(a,b,c,d){this._isDefaultSymbolDerived||C.writeTarget(a,b,c,d)};b.prototype.writeDefaultSymbol=
function(a,b,c,d){this._isDefaultSymbolDerived||C.writeTarget(a,b,c,d)};b.prototype.readPortal=function(a,b,c){return c.portal||u.getDefault()};b.prototype.readStyleOrigin=function(a,b,c){if(b.styleName)return Object.freeze({styleName:b.styleName});if(b.styleUrl)return a=q.fromJSON(b.styleUrl,c),Object.freeze({styleUrl:a})};b.prototype.writeStyleOrigin=function(a,b,c,d){a.styleName?b.styleName=a.styleName:a.styleUrl&&(b.styleUrl=q.toJSON(a.styleUrl,d))};Object.defineProperty(b.prototype,"uniqueValueInfos",
{set:function(a){this.styleOrigin?F.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",a),this._updateValueInfoMap())},enumerable:!0,configurable:!0});b.prototype.addUniqueValueInfo=function(a,b){this.styleOrigin?F.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(a="object"===typeof a?G(a):new B.default({value:a,symbol:b}),this.uniqueValueInfos.push(a),
this._valueInfoMap[a.value]=a)};b.prototype.removeUniqueValueInfo=function(a){if(this.styleOrigin)F.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var b=0;b<this.uniqueValueInfos.length;b++)if(this.uniqueValueInfos[b].value===a+""){delete this._valueInfoMap[a];this.uniqueValueInfos.splice(b,1);break}};b.prototype.getUniqueValueInfo=function(a,b){return d(this,void 0,void 0,function(){var c,d;return h(this,function(e){switch(e.label){case 0:return c=
b,this.valueExpression?[4,D.loadArcade()]:[3,2];case 1:d=e.sent().arcadeUtils,c=g({},c,{arcadeUtils:d}),e.label=2;case 2:return[2,this._getUniqueValueInfo(a,c)]}})})};b.prototype.getSymbol=function(a,b){if(!this.valueExpression||b&&b.arcadeUtils)return(a=this._getUniqueValueInfo(a,b))&&a.symbol||this.defaultSymbol;F.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")};b.prototype.getSymbolAsync=function(a,b){return d(this,void 0,void 0,function(){var c,d,e;return h(this,function(f){switch(f.label){case 0:return c=
b,this.valueExpression?[4,D.loadArcade()]:[3,2];case 1:d=f.sent().arcadeUtils,c=g({},c,{arcadeUtils:d}),f.label=2;case 2:return e=this._getUniqueValueInfo(a,c),[2,e&&e.symbol||this.defaultSymbol]}})})};b.prototype.getSymbols=function(){for(var a=[],b=0,c=this.uniqueValueInfos;b<c.length;b++){var d=c[b];d.symbol&&a.push(d.symbol)}this.defaultSymbol&&a.push(this.defaultSymbol);return a};b.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+
b.getAttributeHash()},"")};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),c=this.uniqueValueInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+c+"."+(this.field+"."+this.field2+"."+this.field3+"."+this.fieldDelimiter)+"."+this.valueExpression};b.prototype.clone=function(){var a=new m({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:r.clone(this.defaultSymbol),
valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:r.clone(this.visualVariables),legendOptions:r.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:r.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(a._isDefaultSymbolDerived=!0);a._set("portal",this.portal);var b=r.clone(this.uniqueValueInfos);this.styleOrigin&&(a._set("styleOrigin",Object.freeze(r.clone(this.styleOrigin))),
Object.freeze(b));a._set("uniqueValueInfos",b);a._updateValueInfoMap();return a};b.prototype.collectRequiredFields=function(a,b){return d(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return[4,this.collectVVRequiredFields(a,b)];case 1:return c.sent(),this.getSymbols().forEach(function(c){return c.collectRequiredFields(a,b)}),x.collectField(a,b,this.field),x.collectField(a,b,this.field2),x.collectField(a,b,this.field3),[4,x.collectArcadeFieldNames(a,b,this.valueExpression)];
case 2:return c.sent(),[2]}})})};b.prototype.populateFromStyle=function(){var a=this;return E.fetchStyle(this.styleOrigin,{portal:this.portal}).then(function(b){var c=[];a._valueInfoMap={};b&&b.data&&Array.isArray(b.data.items)&&b.data.items.forEach(function(d){var e=new n.WebStyleSymbol({styleUrl:b.styleUrl,styleName:b.styleName,portal:a.portal,name:d.name});a.defaultSymbol||d.name!==b.data.defaultItem||(a.defaultSymbol=e,a._isDefaultSymbolDerived=!0);e=new B.default({value:d.name,symbol:e});c.push(e);
a._valueInfoMap[d.name]=e});a._set("uniqueValueInfos",Object.freeze(c));!a.defaultSymbol&&a.uniqueValueInfos.length&&(a.defaultSymbol=a.uniqueValueInfos[0].symbol,a._isDefaultSymbolDerived=!0);return a})};b.prototype._updateValueInfoMap=function(){var a=this;this._valueInfoMap={};this.uniqueValueInfos.forEach(function(b){return a._valueInfoMap[b.value+""]=b})};b.prototype._getUniqueValueInfo=function(a,b){return this.valueExpression?this._getUnqiueValueInfoForExpression(a,b):this._getUnqiueValueInfoForFields(a)};
b.prototype._getUnqiueValueInfoForExpression=function(a,b){var c=b.arcadeUtils,d=b.viewingMode,e=b.scale;b=b.spatialReference;var f=this._cache.compiledFunc;f||(f=c.createSyntaxTree(this.valueExpression),f=c.createFunction(f),this._cache.compiledFunc=f);a=c.executeFunction(f,c.createExecContext(a,c.getViewInfo({viewingMode:d,scale:e,spatialReference:b})));return this._valueInfoMap[a+""]};b.prototype._getUnqiueValueInfoForFields=function(a){var b=this.field,c=a.attributes,d;if("function"!==typeof b&&
this.field2){a=this.field2;d=this.field3;var e=[];b&&e.push(c[b]);a&&e.push(c[a]);d&&e.push(c[d]);d=e.join(this.fieldDelimiter||"")}else"function"===typeof b?d=b(a):b&&(d=c[b]);return this._valueInfoMap[d+""]};b.fromPortalStyle=function(a,b){var c=new m(b&&b.properties);c._set("styleOrigin",Object.freeze({styleName:a}));c._set("portal",b&&b.portal||u.getDefault());b=c.populateFromStyle();b.catch(function(b){F.error("#fromPortalStyle('"+a+"'[, ...])","Failed to create unique value renderer from style name",
b)});return b};b.fromStyleUrl=function(a,b){b=new m(b&&b.properties);b._set("styleOrigin",Object.freeze({styleUrl:a}));b=b.populateFromStyle();b.catch(function(b){F.error("#fromStyleUrl('"+a+"'[, ...])","Failed to create unique value renderer from style URL",b)});return b};var m;e([t.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"_cache",null);e([t.enumeration.serializable()({uniqueValue:"unique-value"})],b.prototype,"type",void 0);e([t.property({types:{base:n.BaseSymbol,key:"type",
typeMap:{"simple-fill":c.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":c.symbolTypesRenderer.typeMap["picture-fill"],"polygon-3d":c.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{read:C.read,write:C.writeTarget}})],b.prototype,"backgroundFillSymbol",void 0);e([t.writer("web-scene","backgroundFillSymbol",{backgroundFillSymbol:{type:n.PolygonSymbol3D}})],b.prototype,"writeBackgroundFillSymbolWebScene",null);e([t.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],
b.prototype,"field",void 0);e([t.cast("field")],b.prototype,"castField",null);e([t.writer("field")],b.prototype,"writeField",null);e([t.property({type:String,json:{write:!0}})],b.prototype,"field2",void 0);e([t.property({type:String,json:{write:!0}})],b.prototype,"field3",void 0);e([t.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);e([t.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);e([t.property({type:y.default,json:{write:!0}})],
b.prototype,"legendOptions",void 0);e([t.property({type:String,json:{write:!0}})],b.prototype,"defaultLabel",void 0);e([t.property({types:c.symbolTypesRenderer})],b.prototype,"defaultSymbol",null);e([t.reader("defaultSymbol")],b.prototype,"readDefaultSymbol",null);e([t.writer("web-scene","defaultSymbol",{defaultSymbol:{types:c.symbolTypesRenderer3D}})],b.prototype,"writeDefaultSymbolWebScene",null);e([t.writer("defaultSymbol")],b.prototype,"writeDefaultSymbol",null);e([t.property({type:String,json:{write:!0}})],
b.prototype,"fieldDelimiter",void 0);e([t.property({type:u,readOnly:!0})],b.prototype,"portal",void 0);e([t.reader("portal",["styleName"])],b.prototype,"readPortal",null);e([t.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],b.prototype,"styleOrigin",void 0);e([t.reader("styleOrigin",["styleName","styleUrl"])],b.prototype,"readStyleOrigin",null);e([t.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],b.prototype,"writeStyleOrigin",
null);e([t.property({type:[B.default],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],b.prototype,"uniqueValueInfos",null);e([k(1,t.cast(c.ensureType))],b.prototype,"addUniqueValueInfo",null);return b=m=e([t.subclass("esri.renderers.UniqueValueRenderer")],b)}(t.declared(w,z))})},"esri/renderers/support/diffUtils":function(){define("require exports ../../core/Accessor ../../core/Collection ../../core/maybe ../../core/accessorSupport/utils".split(" "),
function(a,b,l,e,k,h){function d(a){return a instanceof e?Object.keys(a.items):a instanceof l?h.getProperties(a).keys():a?Object.keys(a):[]}function g(a,b){return a instanceof e?a.items[b]:a[b]}function n(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length!==b.length:!1}function c(a){return a?a.declaredClass:null}function f(a,b){var e,h=a.diff;if(h&&"function"===typeof h)return h(a,b);var m=d(a),q=d(b);if(0!==m.length||0!==q.length){if(!m.length||!q.length||n(a,b))return{type:"complete",oldValue:a,
newValue:b};var p=q.filter(function(a){return-1===m.indexOf(a)}),z=m.filter(function(a){return-1===q.indexOf(a)}),p=m.filter(function(c){return-1<q.indexOf(c)&&g(a,c)!==g(b,c)}).concat(p,z).sort();if((z=c(a))&&-1<r.indexOf(z)&&p.length)return{type:"complete",oldValue:a,newValue:b};var A,z=a instanceof l&&b instanceof l,y;for(y in p){var B=p[y],D=g(a,B),C=g(b,B),E=void 0;!(z||"function"!==typeof D&&"function"!==typeof C)||D===C||null==D&&null==C||(E=h&&h[B]&&"function"===typeof h[B]?h[B](D,C):"object"===
typeof D&&"object"===typeof C&&c(D)===c(C)?f(D,C):{type:"complete",oldValue:D,newValue:C},k.isSome(E)&&(k.isSome(A)?A.diff[B]=E:A={type:"partial",diff:(e={},e[B]=E,e)}))}return A}}function p(a){if(k.isNone(a))return!0;switch(a.type){case "complete":return!1;case "collection":for(var b=0,c=a.added;b<c.length;b++){var d=c[b];if(!p(d))return!1}b=0;for(c=a.removed;b<c.length;b++)if(d=c[b],!p(d))return!1;b=0;for(a=a.changed;b<a.length;b++)if(d=a[b],!p(d))return!1;return!0;case "partial":for(b in a.diff)if(d=
a.diff[b],!p(d))return!1;return!0}}Object.defineProperty(b,"__esModule",{value:!0});var r=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];b.diff=function(a,b){if("function"!==typeof a&&"function"!==typeof b&&(a||b))return!a||!b||"object"===typeof a&&"object"===typeof b&&c(a)!==c(b)?{type:"complete",oldValue:a,newValue:b}:f(a,b)};b.isEmpty=p})},"esri/renderers/support/UniqueValueInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
function(a,b,l,e,k,h,d,g){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this,b)||this;b.description=null;b.label=null;b.symbol=null;b.value=null;return b}l(b,a);f=b;b.prototype.clone=function(){return new f({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol&&this.symbol.toJSON());return this.value+"."+a};var f;e([d.property({type:String,
json:{write:!0}})],b.prototype,"description",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([d.property({types:k.symbolTypesRenderer,json:{origins:{"web-scene":{types:k.symbolTypesRenderer3D,read:g.read,write:g.writeTarget}},read:g.read,write:g.writeTarget}})],b.prototype,"symbol",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"value",void 0);return b=f=e([d.subclass("esri.renderers.support.UniqueValueInfo")],b)}(d.declared(h));b.UniqueValueInfo=
a;b.default=a})},"esri/symbols/support/styleUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../symbols ../../core/devEnvironmentUtils ../../core/Error ../../core/has ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ./jsonUtils ./StyleOrigin ./Thumbnail".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q){function t(a,b,d){return B(a,d).then(function(b){return{data:b.data,baseUrl:c.removeFile(a),styleUrl:a}})}
function v(a,b,c){b=b.portal||f.getDefault();var d,e=b.url+" - "+(b.user&&b.user.username)+" - "+a;D[e]||(D[e]=x(a,b,c).then(function(a){d=a;return a.fetchData()}).then(function(b){return{data:b,baseUrl:d.itemUrl,styleName:a}}));return D[e]}function x(a,b,c){return b.load(c).then(function(){var d=new p({disableExtraQuery:!0,query:"owner:"+C+" AND type:"+E+' AND typekeywords:"'+a+'"'});return b.queryItems(d,c)}).then(function(b){b=b.results;var e=null,f=a.toLowerCase();if(b&&Array.isArray(b))for(var g=
0;g<b.length;g++){var h=b[g];if(h.typeKeywords.some(function(a){return a.toLowerCase()===f})&&h.type===E&&h.owner===C){e=h;break}}if(!e)throw new d("symbolstyleutils:style-not-found","The style '"+a+"' could not be found",{styleName:a});return e.load(c)})}function u(a,b,c){return a.styleUrl?t(a.styleUrl,b,c):a.styleName?v(a.styleName,b,c):n.reject(new d("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function w(a,b,e,f,g){for(var l=a.data,
p={portal:e.portal,url:c.urlToObject(a.baseUrl),origin:"portal-item"},t=function(d){if(d.name!==b)return"continue";var n=c.fromJSON(A(d,f),p),l=d.thumbnail&&d.thumbnail.href,t=d.thumbnail&&d.thumbnail.imageData;h.isDevEnvironment()&&(n=h.adjustStaticAGOUrl(n),l=h.adjustStaticAGOUrl(l));var u={portal:e.portal,url:c.urlToObject(c.removeFile(n)),origin:"portal-item"};return{value:B(n,g).then(function(d){d="cimRef"===f?z(d.data):d.data;if((d=r.fromJSON(d,u))&&k.isSymbol3D(d)){if(l){var g=c.fromJSON(l,
p);d.thumbnail=new q.default({url:g})}else t&&(d.thumbnail=new q.default({url:"data:image/png;base64,"+t}));a.styleUrl?d.styleOrigin=new m({portal:e.portal,styleUrl:a.styleUrl,name:b}):a.styleName&&(d.styleOrigin=new m({portal:e.portal,styleName:a.styleName,name:b}))}return d})}},u=0,l=l.items;u<l.length;u++){var v=t(l[u]);if("object"===typeof v)return v.value}return n.reject(new d("symbolstyleutils:symbol-name-not-found","The symbol name '"+b+"' could not be found",{symbolName:b}))}function z(a){return null===
a||"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}}function A(a,b){if("cimRef"===b)return a.cimRef;if(a.formatInfos&&!g("enable-feature:jschmid/force-wosr")){b=0;for(var c=a.formatInfos;b<c.length;b++){var d=c[b];if("gltf"===d.type)return d.href}}return a.webRef}function y(a,b,d){var e=F.replace(/\{SymbolName\}/gi,a.name);return B(e,d).then(function(a){a=z(a.data);return r.fromJSON(a,{portal:b.portal,url:c.urlToObject(c.removeFile(e)),origin:"portal-item"})})}function B(a,b){b=
l({responseType:"json",query:{f:"json"}},b);return e(c.normalize(a),b)}Object.defineProperty(b,"__esModule",{value:!0});var D={};b.fetchStyle=u;b.resolveWebStyleSymbol=function(a,b,c,e){return a.name?a.styleName&&"Esri2DPointSymbolsStyle"===a.styleName?y(a,b,e):u(a,b,e).then(function(d){return w(d,a.name,b,c,e)}):n.reject(new d("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};b.fetchSymbolFromStyle=w;b.styleNameFromItem=function(a){var b=0;for(a=a.typeKeywords;b<
a.length;b++){var c=a[b];if(/^Esri.*Style$/.test(c)&&"Esri Style"!==c)return c}};var C="esri_en",E="Style",F="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson"})},"esri/core/devEnvironmentUtils":function(){define(["require","exports","./global"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.isDevEnvironment=function(a){a=a||l.location.hostname;return g.some(function(b){return null!=a.match(b)})};
b.adjustStaticAGOUrl=function(a,b){if(!a)return a;b=b||l.location.hostname;return null!=b.match(e)||null!=b.match(h)?a.replace("static.arcgis.com","staticdev.arcgis.com"):null!=b.match(k)||null!=b.match(d)?a.replace("static.arcgis.com","staticqa.arcgis.com"):a};b.isTelemetryDevEnvironment=function(a){a=a||l.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(g).some(function(b){return null!=a.match(b)})};var e=/^devext.arcgis.com$/,k=/^qaext.arcgis.com$/,h=/^[\w-]*\.mapsdevext.arcgis.com$/,d=
/^[\w-]*\.mapsqa.arcgis.com$/,g=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,e,k,/^jsapps.esri.com$/,h,d]})},"esri/renderers/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/object ../../core/Warning ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../SimpleRenderer ../StretchRenderer ../UniqueValueRenderer".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p){function r(a,b,c){if(!a)return null;if(a&&(a.styleName||a.styleUrl)&&"uniqueValue"!==
a.type)return c&&c.messages&&c.messages.push(new k("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+a.type+"'",{definition:a,context:c})),null;b=a?q[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new k("renderer:unsupported","Renderers of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function m(a,b,c){return a?c&&"web-scene"===c.origin&&"heatmap"===a.type?(c.messages&&
c.messages.push(new l("renderer:unsupported","Renderer of type '"+a.declaredClass+"' are not supported in scenes.",{renderer:a,context:c})),null):a.write(b,c):null}Object.defineProperty(b,"__esModule",{value:!0});var q={simple:c,uniqueValue:p,classBreaks:h,heatmap:n,dotDensity:g,rasterStretch:f,dictionary:d};b.read=r;b.writeTarget=function(a,b,c,d){(a=m(a,{},d))&&e.setDeepValue(c,a,b)};b.write=m;b.fromJSON=function(a,b){return r(a,null,b)}})},"esri/geometry/HeightModelInfo":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){function p(a,b){return new c("height-unit:unsupported","Height unit of value '"+a+"' is not supported",b)}function r(a,b){return new c("height-model:unsupported","Height model of value '"+a+"' is not supported",b)}var m=d.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),q=m.jsonValues.slice();h.removeUnordered(q,"orthometric");var t=d.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet",
"clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});return function(a){function b(b){b=a.call(this)||this;b.heightModel="gravity-related-height";
b.heightUnit="meters";b.vertCRS=null;return b}e(b,a);c=b;b.prototype.writeHeightModel=function(a,b,c){return m.write(a,b,c)};b.prototype.readHeightModel=function(a,b,c){if(b=m.read(a))return b;c&&c.messages&&c.messages.push(r(a,{context:c}));return null};b.prototype.readHeightUnit=function(a,b,c){if(b=t.read(a))return b;c&&c.messages&&c.messages.push(p(a,{context:c}));return null};b.prototype.readHeightUnitService=function(a,b,c){if(b=n.unitFromRESTJSON(a)||t.read(a))return b;c&&c.messages&&c.messages.push(p(a,
{context:c}));return null};b.prototype.readVertCRS=function(a,b){return b.vertCRS||b.ellipsoid||b.geoid};b.prototype.clone=function(){return new c({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};b.prototype.equals=function(a){return a?this===a?!0:this.heightModel===a.heightModel&&this.heightUnit===a.heightUnit&&this.vertCRS===a.vertCRS:!1};b.deriveUnitFromSR=function(a,b){b=n.getVerticalUnitStringForSR(b);return new c({heightModel:a.heightModel,heightUnit:b,vertCRS:a.vertCRS})};
b.prototype.write=function(a,b){b=l({origin:"web-scene"},b);return this.inherited(arguments,[a,b])};b.fromJSON=function(a){if(!a)return null;var b=new c;b.read(a,{origin:"web-scene"});return b};var c;k([f.property({type:m.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:q,default:"ellipsoidal"}}}})],b.prototype,"heightModel",void 0);k([f.writer("web-scene","heightModel")],b.prototype,"writeHeightModel",null);k([f.reader(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",
null);k([f.property({type:t.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:t.jsonValues,write:t.write}}}})],b.prototype,"heightUnit",void 0);k([f.reader("web-scene","heightUnit")],b.prototype,"readHeightUnit",null);k([f.reader("service","heightUnit")],b.prototype,"readHeightUnitService",null);k([f.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0);k([f.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,
"readVertCRS",null);return b=c=k([f.subclass("esri.geometry.HeightModelInfo")],b)}(f.declared(g))})},"esri/layers/graphics/editingSupport":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../Graphic ../../core/Error ../../core/lang ../../core/promiseUtils ../../geometry/support/normalizeUtils".split(" "),function(a,b,l,e,k,h,d,g,n,c){function f(a,b){return e(this,void 0,void 0,function(){return l(this,function(c){if(!b||
!(b.addFeatures||b.deleteFeatures||b.updateFeatures||b.addFeatures.length||b.deleteFeatures.length||b.updateFeatures.length))return[2,n.reject(new d(a.type+"-layer:missing-parameters","'addFeatures', 'updateFeatures' or 'deleteFeatures' parameter is required"))];b=k({},b);b.addFeatures=b.addFeatures||[];b.updateFeatures=b.updateFeatures||[];b.deleteFeatures=b.deleteFeatures||[];b.addFeatures=b.addFeatures.map(r);b.updateFeatures=b.updateFeatures.map(r);return[2,p(b)]})})}function p(a){return e(this,
void 0,void 0,function(){var b,d,e,f,g,h;return l(this,function(m){switch(m.label){case 0:return b=a.addFeatures,d=a.updateFeatures,e=b.concat(d).map(function(a){return a.geometry}),[4,c.normalizeCentralMeridian(e)];case 1:return f=m.sent(),g=b.length,h=d.length,f.slice(0,g).forEach(function(b,c){a.addFeatures[c].geometry=b}),f.slice(g,g+h).forEach(function(b,c){a.updateFeatures[c].geometry=b}),[2,a]}})})}function r(a){var b=new h;a.attributes||(a.attributes={});b.geometry=a.geometry;b.attributes=
a.attributes;return b}Object.defineProperty(b,"__esModule",{value:!0});b.isEditableLayer=function(a){return!0===a.get("capabilities.operations.supportsEditing")};b.applyEdits=function(a,b){return e(this,void 0,void 0,function(){var c,e,h,m,k,q,r,p,B;return l(this,function(l){switch(l.label){case 0:return h={edits:b,result:n.create(function(a,b){c=a;e=b})},a.emit("apply-edits",h),[4,a.load()];case 1:return l.sent(),(m=a.source)&&null!=m.applyEdits?a.editingEnabled?[4,f(a,b)]:[2,n.reject(new d(a.type+
"-layer:editing-disabled","Editing is disabled for layer",{layer:a}))]:[2,n.reject(new d(a.type+"-layer:no-editing-support","Layer source does not support applyEdits capability",{layer:a}))];case 2:k=l.sent(),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,m.applyEdits(k)];case 4:return q=l.sent(),r=function(a){return a.filter(function(a){return!a.error}).map(g.clone)},p={addedFeatures:r(q.addFeatureResults),updatedFeatures:r(q.updateFeatureResults),deletedFeatures:r(q.deleteFeatureResults)},(p.addedFeatures.length||
p.updatedFeatures.length||p.deletedFeatures.length)&&a.emit("edits",p),c(p),[2,q];case 5:throw B=l.sent(),e(B),B;case 6:return[2]}})})}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(a,b,l,e,k,h,d,g,n,c,
f,p,r,m){a=function(a){function b(b,c,d,e){b=a.call(this,b,c,d,e)||this;b.layer=null;b.popupTemplate=null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:n.generateUID()});return b}e(b,a);n=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(b.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",
a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});b.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&f.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};b.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};b.prototype.setAttribute=function(a,b){var c;this.attributes?
(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c={},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};b.prototype.toJSON=function(){return{geometry:f.isSome(this.geometry)?this.geometry.toJSON():null,symbol:f.isSome(this.symbol)?this.symbol.toJSON():null,attributes:l({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};b.prototype.clone=function(){return new n({attributes:c.clone(this.attributes),geometry:c.clone(this.geometry),
layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:c.clone(this.symbol),visible:this.visible})};b.prototype._notifyLayer=function(a,b,c,d){this.layer&&this.layer.graphicChanged&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var n;k([p.property({value:null})],b.prototype,"attributes",null);k([p.property({value:null,types:h.geometryTypes,json:{read:r.fromJSON}})],
b.prototype,"geometry",null);k([p.property()],b.prototype,"layer",void 0);k([p.property({type:d})],b.prototype,"popupTemplate",void 0);k([p.property()],b.prototype,"sourceLayer",void 0);k([p.property({value:null,types:g.symbolTypes,json:{read:m.read}})],b.prototype,"symbol",null);k([p.property({type:Boolean,value:!0,set:function(a){}})],b.prototype,"visible",null);return b=n=k([p.subclass("esri.Graphic")],b)}(p.declared(n));var q=0;(function(a){a.generateUID=function(){return q++}})(a||(a={}));return a})},
"esri/geometry/support/normalizeUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../config ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../Polygon ../Polyline ../SpatialReference ./spatialReferenceUtils ./webMercatorUtils ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t){function v(a){return"polygon"===a.type?a.rings:a.paths}function x(a,b){return Math.ceil((a-
b)/(2*b))}function u(a,b){for(var c=0,d=v(a);c<d.length;c++)for(var e=0,f=d[c];e<f.length;e++)f[e][0]+=b;return a}function w(a){for(var b=[],c=0,d=0,e=0;e<a.length;e++){for(var f=a[e],g=null,h=0;h<f.length;h++)g=f[h],b.push(g),0===h?d=c=g[0]:(c=Math.min(c,g[0]),d=Math.max(d,g[0]));g&&b.push([(c+d)/2,0])}return b}function z(a,b){if(!(a instanceof f||a instanceof c))throw C.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new h("straightLineDensify: the input geometry is neither polyline nor polygon");
for(var d=[],e=0,g=v(a);e<g.length;e++){var m=g[e],k=[];d.push(k);k.push([m[0][0],m[0][1]]);for(var n=0;n<m.length-1;n++){var l=m[n][0],q=m[n][1],r=m[n+1][0],p=m[n+1][1],t=Math.sqrt((r-l)*(r-l)+(p-q)*(p-q)),u=(p-q)/t,w=(r-l)/t,y=t/b;if(1<y){for(var x=1;x<=y-1;x++){var D=x*b;k.push([w*D+l,u*D+q])}t=(t+Math.floor(y-1)*b)/2;k.push([w*t+l,u*t+q])}k.push([r,p])}}return"polygon"===a.type?new c({rings:d,spatialReference:a.spatialReference}):new f({paths:d,spatialReference:a.spatialReference})}function A(a,
b,c){b&&(a=z(a,1E6),a=m.webMercatorToGeographic(a,!0));c&&(a=u(a,c));return a}function y(a,b,c){if(Array.isArray(a)){var d=a[0];if(d>b){var e=x(d,b);a[0]=d+-2*e*b}else d<c&&(e=x(d,c),a[0]=d+-2*e*c)}else d=a.x,d>b?(e=x(d,b),a=a.clone().offset(-2*e*b,0)):d<c&&(e=x(d,c),a=a.clone().offset(-2*e*c,0));return a}function B(a,b){for(var c=-1,d=function(d){var e=b.cutIndexes[d],f=b.geometries[d],g=v(f);d=function(a){var b=g[a];b.some(function(c){if(180>c[0])return!0;for(var d=c=0;d<b.length;d++){var e=b[d][0];
c=e>c?e:c}c=Number(c.toFixed(9));c=-360*x(c,180);for(d=0;d<b.length;d++)e=f.getPoint(a,d),f.setPoint(a,d,e.clone().offset(c,0));return!0})};for(var h=0;h<g.length;h++)d(h);if(e===c)if("polygon"===a[0].type)for(d=0,h=v(f);d<h.length;d++)a[e]=a[e].addRing(h[d]);else{if("polyline"===a[0].type)for(d=0,h=v(f);d<h.length;d++)a[e]=a[e].addPath(h[d])}else c=e,a[e]=f},e=0;e<b.cutIndexes.length;e++)d(e);return a}function D(a,b,d){return e(this,void 0,void 0,function(){var e,h,p,v,w,z,C,F,G,H,ga,V,S,fa,N,W,
T,X,ia,ka,Z,U,ca,Y,oa,ma,na,pa,K,ha,aa,ba,da,ja,ea,qa,ra;return l(this,function(l){switch(l.label){case 0:if(!Array.isArray(a))return[2,D([a],b)];e=b?b.url:k.geometryServiceUrl;H=0;ga=[];V=[];S=0;for(fa=a;S<fa.length;S++)N=fa[S],g.isNone(N)?V.push(N):(h||(h=N.spatialReference,p=r.getInfo(h),C=(v=h.isWebMercator)?102100:4326,w=E[C].maxX,z=E[C].minX,F=E[C].plus180Line,G=E[C].minus180Line),p?"mesh"===N.type?V.push(N):"point"===N.type?V.push(y(N.clone(),w,z)):"multipoint"===N.type?(W=N.clone(),W.points=
W.points.map(function(a){return y(a,w,z)}),V.push(W)):"extent"===N.type?(T=N.clone(),X=T._normalize(!1,!1,p),V.push(X.rings?new c(X):X)):N.extent?(T=N.extent,ia=x(T.xmin,z),ka=2*ia*w,Z=0===ka?N.clone():u(N.clone(),ka),T.offset(ka,0),T.intersects(F)&&T.xmax!==w?(H=T.xmax>H?T.xmax:H,Z=A(Z,v),ga.push(Z),V.push("cut")):T.intersects(G)&&T.xmin!==z?(H=2*T.xmax*w>H?2*T.xmax*w:H,Z=A(Z,v,360),ga.push(Z),V.push("cut")):V.push(Z)):V.push(N.clone()):V.push(N));U=x(H,w);ca=-90;Y=U;for(oa=new f;0<U;)ma=-180+360*
U,oa.addPath([[ma,ca],[ma,-1*ca]]),ca*=-1,U--;return 0<ga.length&&0<Y?[4,q.cut(e,ga,oa,d)]:[3,3];case 1:na=l.sent();pa=B(ga,na);K=[];ha=[];for(aa=0;aa<V.length;aa++)ba=V[aa],"cut"!==ba?ha.push(ba):(da=pa.shift(),ja=a[aa],g.isSome(ja)&&"polygon"===ja.type&&ja.rings&&1<ja.rings.length&&da.rings.length>=ja.rings.length?(K.push(da),ha.push("simplify")):ha.push(v?m.geographicToWebMercator(da):da));return K.length?[4,t.simplify(e,K,d)]:[2,ha];case 2:ea=l.sent();qa=[];for(aa=0;aa<ha.length;aa++)ba=ha[aa],
"simplify"!==ba?qa.push(ba):qa.push(v?m.geographicToWebMercator(ea.shift()):ea.shift());return[2,qa];case 3:ra=[];for(aa=0;aa<V.length;aa++)ba=V[aa],"cut"!==ba?ra.push(ba):(da=ga.shift(),ra.push(!0===v?m.geographicToWebMercator(da):da));return[2,n.resolve(ra)]}})})}Object.defineProperty(b,"__esModule",{value:!0});var C=d.getLogger("esri.geometry.support.normalizeUtils"),E={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new f({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],
[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:p.WebMercator}),minus180Line:new f({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:p.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new f({paths:[[[180,-180],[180,180]]],spatialReference:p.WebMercator}),minus180Line:new f({paths:[[[-180,-180],[-180,180]]],spatialReference:p.WebMercator})}};b.straightLineDensify=z;b.normalizeCentralMeridian=D;b.getDenormalizedExtent=
function(a){var b;if(!a)return null;var c=a.extent;if(!c)return null;var d=a.spatialReference&&r.getInfo(a.spatialReference);if(!d)return c;var d=d.valid,e=d[0],d=d[1],f=c.width,g=c.xmin;b=c.xmax;b=[b,g];g=b[0];b=b[1];if("extent"===a.type||0===f||f<=d||f>2*d||g<e||b>d)return c;var h;switch(a.type){case "polygon":if(1<a.rings.length)h=w(a.rings);else return c;break;case "polyline":if(1<a.paths.length)h=w(a.paths);else return c;break;case "multipoint":h=a.points}a=c.clone();for(e=0;e<h.length;e++){var m=
h[e][0];0>m?(m+=d,b=Math.max(m,b)):(m-=d,g=Math.min(m,g))}a.xmin=g;a.xmax=b;return a.width<f?(a.xmin-=d,a.xmax-=d,a):c};b.normalizeMapX=function(a,b){if(b=r.getInfo(b)){var c=b.valid;b=c[0];var c=c[1],d=c-b;if(a<b)for(;a<b;)a+=d;if(a>c)for(;a>c;)a-=d}return a}})},"esri/tasks/geometry/cut":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),
function(a,b,l,e,k,h,d,g,n){Object.defineProperty(b,"__esModule",{value:!0});b.cut=function(a,b,p,r){return e(this,void 0,void 0,function(){var c,e,f,v,x,u,w,z;return k(this,function(m){switch(m.label){case 0:return c="string"===typeof a?g.urlToObject(a):a,e=b[0].spatialReference,f=l({},r,{query:l({},c.query,{f:"json",sr:JSON.stringify(e),target:JSON.stringify({geometryType:n.getJsonType(b[0]),geometries:b}),cutter:JSON.stringify(p)})}),[4,d(c.path+"/cut",f)];case 1:return v=m.sent(),x=v.data,u=x.cutIndexes,
w=x.geometries,z=void 0===w?[]:w,[2,{cutIndexes:u,geometries:z.map(function(a){return h.fromJSON(a).set(e)})}]}})})}})},"esri/tasks/geometry/simplify":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(a,b,l,e,k,h,d,g){function n(a){return{geometryType:g.getJsonType(a[0]),geometries:a.map(function(a){return a.toJSON()})}}
function c(a,b,c){var d=g.getGeometryType(b);return a.map(function(a){a=d.fromJSON(a);a.spatialReference=c;return a})}Object.defineProperty(b,"__esModule",{value:!0});b.simplify=function(a,b,r){return e(this,void 0,void 0,function(){var e,f,p,v,x;return k(this,function(m){switch(m.label){case 0:return e="string"===typeof a?d.urlToObject(a):a,f=b[0].spatialReference,p=g.getJsonType(b[0]),v=l({},r,{query:l({},e.query,{f:"json",sr:f.wkid?f.wkid:JSON.stringify(f),geometries:JSON.stringify(n(b))})}),[4,
h(e.path+"/simplify",v)];case 1:return x=m.sent(),[2,c(x.data,p,f)]}})})}})},"esri/layers/graphics/sources/MemorySource":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/tsSupport/assignHelper ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper ../../../geometry ../../../Graphic ../../../core/Accessor ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/maybe ../../../core/promiseUtils ../../../core/requireUtils ../../../core/workers ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/typescript ../../../tasks/support/FeatureSet module".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y,B){Object.defineProperty(b,"__esModule",{value:!0});var D=0,C=q.getLogger("esri.layers.graphics.sources.MemorySource");k=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a._idToClientGraphic=null;a.type="memory";return a}l(c,b);c.prototype.load=function(a){a=t.isSome(a)?a.signal:null;this.addResolvingPromise(this._startWorker(a));return this.when()};Object.defineProperty(c.prototype,"workerGeometryType",{get:function(){var a=
this.layer&&this.layer.geometryType;return a?this._geometryTypeRequiresClientGraphicMapping(a)?"polygon":a:null},enumerable:!0,configurable:!0});c.prototype.applyEdits=function(a){var b=this;return this.load().then(function(){return b._applyEdits(a)})};c.prototype.openPorts=function(){var a=this;return this.load().then(function(){return a._connection.openPorts()})};c.prototype.queryFeatures=function(a,b){var c=this;void 0===b&&(b={});return this.load(b).then(function(){return c._connection.invoke("queryFeatures",
a?a.toJSON():null,b)}).then(function(a){a=y.fromJSON(a);if(!c._requiresClientGraphicMapping())return a;for(var b=c.layer.objectIdField,d=0,e=a.features;d<e.length;d++){var f=e[d],g=c._idToClientGraphic.get(f.attributes[b]);g&&(f.geometry=g.geometry)}a.geometryType=c.layer.geometryType;return a})};c.prototype.queryFeaturesJSON=function(a,b){var c=this;void 0===b&&(b={});return this._requiresClientGraphicMapping()?v.reject(new p("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)")):
this.load(b).then(function(){return c._connection.invoke("queryFeatures",a?a.toJSON():null,b)})};c.prototype.queryFeatureCount=function(a,b){var c=this;void 0===b&&(b={});return this.load(b).then(function(){return c._connection.invoke("queryFeatureCount",a?a.toJSON():null,b)})};c.prototype.queryObjectIds=function(a,b){var c=this;void 0===b&&(b={});return this.load(b).then(function(){return c._connection.invoke("queryObjectIds",a?a.toJSON():null,b)})};c.prototype.queryExtent=function(a,b){var c=this;
void 0===b&&(b={});return this.load(b).then(function(){return c._connection.invoke("queryExtent",a?a.toJSON():null,b)}).then(function(a){return{count:a.count,extent:g.Extent.fromJSON(a.extent)}})};c.prototype._applyEdits=function(a){var b=this;if(!this._connection)throw new p("feature-layer-source:edit-failure","Memory source not loaded");var c=this.layer.objectIdField,d=null,e=[],f=[];a.addFeatures&&(d=this._prepareAddFeatures(a.addFeatures));if(a.deleteFeatures)for(var g=0,h=a.deleteFeatures;g<
h.length;g++){var m=h[g];"objectId"in m&&null!=m.objectId?e.push(m.objectId):"attributes"in m&&null!=m.attributes[c]&&e.push(m.attributes[c])}if(a.updateFeatures)for(c=0,a=a.updateFeatures;c<a.length;c++)m=a[c],f.push(this._serializeFeature(m));return this._connection.invoke("applyEdits",{adds:d?d.features:[],updates:f,deletes:e}).then(function(a){var c=a.featureEditResults;b.fullExtent=a.fullExtent;d&&d.finish(c.uidToObjectId);if(b._idToClientGraphic){a=0;for(var e=c.deleteResults;a<e.length;a++){var f=
e[a];f.success&&b._idToClientGraphic.delete(f.objectId)}}return b._createEditsResult(c)})};c.prototype._createEditsResult=function(a){return{addFeatureResults:a.addResults?a.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:a.updateResults?a.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:a.deleteResults?a.deleteResults.map(this._createFeatureEditResult,this):[]}};c.prototype._createFeatureEditResult=function(a){var b=!0===a.success?null:a.error||
{code:void 0,description:void 0};return{objectId:a.objectId,globalId:a.globalId,error:b?new p("feature-layer-source:edit-failure",b.description,{code:b.code}):null}};c.prototype._prepareAddFeatures=function(a){for(var b=new Map,c=Array(a.length),d=null,e=0;e<a.length;e++){var f=a[e],g=this._serializeFeature(f);!d&&t.isSome(f.geometry)&&(d=f.geometry.type);c[e]=g;b.set(""+g.uid,f)}var h=this;return{features:c,inferredGeometryType:d,finish:function(a){var c=h.layerDefinition.objectIdField,d;for(d in a){var e=
a[d],f=b.get(d);f&&(f.attributes||(f.attributes={}),-1===e?delete f.attributes[c]:f.attributes[c]=e,h._addIdToClientGraphic(f))}}}};c.prototype._addIdToClientGraphic=function(a){if(this._idToClientGraphic){var b=this.layerDefinition.objectIdField,b=a.attributes&&a.attributes[b];null!=b&&this._idToClientGraphic.set(b,a)}};c.prototype._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this.layer.geometryType||this.layerDefinition.geometryType)};c.prototype._geometryRequiresClientGraphicMapping=
function(a){return this._geometryTypeRequiresClientGraphicMapping(a.type)};c.prototype._geometryTypeRequiresClientGraphicMapping=function(a){return"mesh"===a||"multipatch"===a||"extent"===a};c.prototype._serializeFeature=function(a){var b=a.attributes;a=this._geometryForSerialization(a);var c=(D++).toString();return a?{uid:c,geometry:a.toJSON(),attributes:b}:{uid:c,attributes:b}};c.prototype._geometryForSerialization=function(a){a=a.geometry;return t.isNone(a)?null:this._geometryRequiresClientGraphicMapping(a)?
g.Polygon.fromExtent(a.extent):a};c.prototype._startWorker=function(b){return d(this,void 0,void 0,function(){var c,d,e,f,m,k,n,l,q,p,t,v,w,y,D,A;return h(this,function(h){switch(h.label){case 0:return[3,2];case 1:h.sent(),h.label=2;case 2:return c=this,[4,u.open(x.getAbsMid("./support/MemorySourceWorker",a,B),{strategy:r("esri-workers-for-memory-layers")?"dedicated":"local",signal:b})];case 3:return c._connection=h.sent(),d=this.layer,e=d.fields,f=d.spatialReference,m=d.objectIdField,k=d.hasM,n=
d.hasZ,l=d.timeInfo,q="defaults"===this.layer.originOf("spatialReference"),p=this._prepareAddFeatures(this.items),this.on("before-changes",function(a){C.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");a.preventDefault()}),t={features:p.features,fields:e&&e.map(function(a){return a.toJSON()}),geometryType:g.typeKebabDictionary.toJSON(this.workerGeometryType),hasM:k,hasZ:n,objectIdField:m,spatialReference:q?null:f&&f.toJSON(),timeInfo:l?
l.toJSON():null},[4,this._connection.invoke("load",t,{signal:b})];case 4:v=h.sent();w=0;for(y=v.warnings;w<y.length;w++)D=y[w],C.warn(D.message,{layer:this.layer});v.featureErrors.length&&C.warn("Encountered "+v.featureErrors.length+" validation errors while loading features",v.featureErrors);A=v.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(p.inferredGeometryType)&&(A.geometryType=g.typeKebabDictionary.toJSON(p.inferredGeometryType));this.layerDefinition=A;this._requiresClientGraphicMapping()&&
(this._idToClientGraphic=new Map);p.finish(v.assignedObjectIds);return[2]}})})};e([A.shared({Type:n,ensureType:z.ensureType(n)})],c.prototype,"itemType",void 0);e([w.property()],c.prototype,"type",void 0);e([w.property({constructOnly:!0})],c.prototype,"layer",void 0);e([w.property({readOnly:!0,dependsOn:["layer.geometryType"]})],c.prototype,"workerGeometryType",null);e([w.property()],c.prototype,"layerDefinition",void 0);return c=e([w.subclass("esri.layers.graphics.sources.MemorySource")],c)}(w.declared(c,
f,m));b.MemorySource=k;b.default=k})},"esri/core/requireUtils":function(){define(["require","exports","./promiseUtils"],function(a,b,l){function e(a,b){return Array.isArray(b)?l.create(function(d){a(b,function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];d(a)})}):e(a,[b]).then(function(a){return a[0]})}Object.defineProperty(b,"__esModule",{value:!0});b.when=e;b.getAbsMid=function(a,b,d){return b.toAbsMid?b.toAbsMid(a):d.id.replace(/\/[^\/]*$/gi,"/")+a}})},"esri/core/workers":function(){define(["require",
"exports","./workers/workers"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});for(var e in l)b.hasOwnProperty(e)||(b[e]=l[e])})},"esri/core/workers/workers":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),function(a,b,l,e,k,h,d,g,n,c){function f(){return e(this,void 0,void 0,function(){var a,b,e,f;return l(this,function(g){if(t)return[2,t];v=d.createAbortController();
a=p+r;b=[];e=function(a){var d=c.create(a).then(function(b){return q[a]=b});b.push(d)};for(f=0;f<a;f++)e(f);t=d.all(b);return[2,t]})})}Object.defineProperty(b,"__esModule",{value:!0});b.Connection=g;b.RemoteClient=n;(g=h("host-browser")?navigator.hardwareConcurrency:0)||(g=h("safari")&&h("mac")||h("trident")?8:2);var p=h("esri-workers-debug")?1:Math.max(1,Math.ceil(g/2)),r=h("esri-workers-debug")?1:Math.max(1,Math.floor(g/2)),m=0,q=[];b.initialize=function(){f()};b.openWithPorts=function(a,c){return new b.Connection(a.map(function(a){return new b.RemoteClient(a,
c,{})}))};b.open=function(c,g){void 0===g&&(g={});return e(this,void 0,void 0,function(){var e,n,t,u,v,x,C;return l(this,function(l){switch(l.label){case 0:if("string"!==typeof c)throw new k("workers:undefined-module","modulePath is missing");e=g.signal;n=g.strategy||"distributed";h("host-webworker")&&!h("esri-workers")&&(n="local");return"local"!==n?[3,2]:[4,d.create(function(b){return a([c],b)})];case 1:return t=l.sent(),d.throwIfAborted(e),u=g.client||t,v=b.RemoteClient.connect(t),[2,new b.Connection([new b.RemoteClient(v,
u,g)])];case 2:return[4,f()];case 3:l.sent();d.throwIfAborted(e);if("dedicated"!==n)return[3,5];x=p+m++;m%=r;return[4,q[x].open(c,g)];case 4:return v=l.sent(),[2,new b.Connection([new b.RemoteClient(v,g.client,g)])];case 5:return[4,d.all(q.map(function(a){return a.open(c,g)}))];case 6:return C=l.sent(),[2,new b.Connection(C.map(function(a){return new b.RemoteClient(a,g.client,g)}))]}})})};b.terminate=function(){t&&(v.abort(),t=null);for(var a=0;a<q.length;a++)q[a]&&q[a].terminate();q.length=0};var t=
null,v})},"esri/core/workers/Connection":function(){define(["require","exports","../Logger","../promiseUtils"],function(a,b,l,e){var k=l.getLogger("esri.core.workers.Connection");return function(){function a(a){this._clientIdx=0;this._clients=a}a.prototype.broadcast=function(a,b,e){for(var c=[],d=0,g=this._clients;d<g.length;d++)c.push(g[d].invoke(a,b,e));return c};a.prototype.close=function(){for(var a=0,b=this._clients;a<b.length;a++)b[a].close();this._clients=[]};a.prototype.getAvailableClient=
function(){var a;this._clients.some(function(b){return b.isBusy()?!1:(a=b,!0)})||(this._clientIdx=(this._clientIdx+1)%this._clients.length,a=this._clients[this._clientIdx]);return a};a.prototype.invoke=function(a,b,h){var c=null;Array.isArray(h)?(k.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),c={transferList:h}):c=h;return this._clients&&this._clients.length?this.getAvailableClient().invoke(a,b,c):e.reject(Error("Connection closed"))};a.prototype.openPorts=
function(){return e.all(this._clients.map(function(a){return a.openPort()}))};return a}()})},"esri/core/workers/RemoteClient":function(){define(["require","exports","../Error","../promiseUtils","./utils"],function(a,b,l,e,k){function h(a,b){a["delete"](b)}var d=k.MessageType.CLOSE,g=k.MessageType.ABORT,n=k.MessageType.INVOKE,c=k.MessageType.RESPONSE,f=k.MessageType.OPEN_PORT,p=function(){function a(a){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=
null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===k.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<b.length;a++){var c=b[a];this._cancelledJobIds.has(c.jobId)||this._invoke(c)}this._cancelledJobIds.clear();
this._invokeMessages.length=0};return a}();return function(){function a(a,b,c){var d=this;this._port=a;this._client=b;this._outJobs=new Map;this._inJobs=new Map;this._queue=new p(function(a){return d._onInvoke(a)});this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._port.addEventListener("message",this._onMessage);this._port.start();this._channel=c.channel;c.scheduler&&(this._frameTask=c.scheduler.registerTask(1,function(a){return d._update(a)},function(){return 0<d._responseQueue.length}))}
a.connect=function(b){var c=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;b.remoteClient=new a(c.port1,b,{channel:c});return c.port2};a.prototype.close=function(){this._post({type:d});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};a.prototype.invoke=function(a,b,c){var d=this,f=c&&c.signal,m=c&&c.transferList;if(!this._port)return e.reject(new l("remote-client:port-closed","Can't invoke(), port is closed"));
var q=k.newJobId(),p=function(){var a=d._outJobs.get(q);a&&(h(d._outJobs,q),d._post({type:g,jobId:q}),a.reject(e.createAbortError()))};return e.create(function(c,g){e.onAbortOrThrow(f,function(){p();g(e.createAbortError())});d._outJobs.set(q,{resolve:c,reject:g});d._post({type:n,jobId:q,methodName:a,abortable:!0},b,m)},p)};a.prototype.openPort=function(){var a=this,b=k.newJobId(),c=function(){h(a._outJobs,b);a._post({type:g,jobId:b})};return e.create(function(d,e){a._outJobs.set(b,{resolve:d,reject:e,
signal:c});a._post({type:f,jobId:b})},c)};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(e.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._queue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};a.prototype._onMessage=function(a){if(a=
k.receiveMessage(a))switch(a.type){case c:this._onResponse(a);break;case n:this._queue.push(a);break;case g:this._onAbort(a);break;case d:this._onClose();break;case f:this._onOpenPort(a)}};a.prototype._onAbort=function(a){var b=this._inJobs,c=a.jobId,d=b.get(c);this._queue.push(a);d&&(d.controller&&d.controller.abort(),h(b,c))};a.prototype._onClose=function(){var a=this._client;this._close();a&&a.remoteClient===this&&"destroy"in a&&a.destroy();a.remoteClient=null};a.prototype._onInvoke=function(a){var b=
this,d=a.methodName,f=a.jobId,g=a.data;a=a.abortable?e.createAbortController():null;var m=this._inJobs,n=this._client,l=n[d],p;try{if(!l&&d&&-1!==d.indexOf("."))for(var r=d.split("."),B=0;B<r.length-1;B++)n=n[r[B]],l=n[r[B+1]];if("function"!==typeof l)throw new TypeError(d+" is not a function");p=l.call(n,g,{client:this,signal:a?a.signal:null})}catch(D){this._post({type:c,jobId:f,error:k.toInvokeError(D)});return}if(e.isThenable(p)){m.set(f,{controller:a,promise:p});if(a&&"cancel"in p)e.onAbort(a.signal,
function(){return p.cancel()});p.then(function(a){m.has(f)&&(h(m,f),b._post({type:c,jobId:f},a))}).catch(function(a){m.has(f)&&(h(m,f),e.isAbortError(a)||b._post({type:c,jobId:f,error:k.toInvokeError(a||{message:"Error encountered at method "+d})}))})}else this._post({type:c,jobId:f},p)};a.prototype._onOpenPort=function(b){var d=new MessageChannel;new a(d.port1,this._client,{});this._post({type:c,jobId:b.jobId},d.port2,[d.port2])};a.prototype._onResponse=function(a){this._frameTask?this._responseQueue.push(a):
this._handleResponse(a)};a.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};a.prototype._handleResponse=function(a){var b=a.jobId,c=a.error;a=a.data;var d=this._outJobs;if(d.has(b)){var e=d.get(b);h(d,b);c?e.reject(l.fromJSON(JSON.parse(c))):e.resolve(a)}};a.prototype._post=function(a,b,c){return k.postMessage(this._port,a,b,c)};return a}()})},"esri/core/workers/utils":function(){define(["require","exports",
"../has"],function(a,b,l){function e(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}function k(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name}Object.defineProperty(b,"__esModule",{value:!0});(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.ABORT=7]="ABORT";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=
9]="OPEN_PORT"})(b.MessageType||(b.MessageType={}));var h=0;b.newJobId=function(){return h++};b.isTranferableResult=e;b.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details,stack:a.stack}):null};b.postMessage=function(a,b,h,c){2===arguments.length||void 0===h&&void 0===c?a.postMessage(b):(l("esri-workers-arraybuffer-transfer")||(c?(c=c.filter(function(a){return!k(a)}),c.length||(c=null)):e(h)&&h.transferList&&(h.transferList=
h.transferList.filter(function(a){return!k(a)}),h.transferList.length||(h.transferList=null))),c?(b.data=h,a.postMessage(b,c)):e(h)?(b.data=h.result,h.transferList?a.postMessage(b,h.transferList):a.postMessage(b)):(b.data=h,a.postMessage(b)))};b.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/core/workers/WorkerOwner":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),
function(a,b,l,e,k,h,d,g,n,c){var f=d.getLogger("esri.core.workers"),p=n.MessageType.ABORT,r=n.MessageType.INVOKE,m=n.MessageType.OPEN,q=n.MessageType.OPENED,t=n.MessageType.RESPONSE;return function(){function a(a,b){this._outJobs=new Map;this._inJobs=new Map;this.worker=a;this.id=b;a.addEventListener("message",this._onMessage.bind(this));a.addEventListener("error",function(a){a.preventDefault();f.error(a)})}a.create=function(b){return e(this,void 0,void 0,function(){var d;return l(this,function(e){switch(e.label){case 0:return[4,
c.createWorker()];case 1:return d=e.sent(),[2,new a(d,b)]}})})};a.prototype.terminate=function(){this.worker.terminate()};a.prototype.open=function(a,b){void 0===b&&(b={});return e(this,void 0,void 0,function(){var c,d,e=this;return l(this,function(f){c=b.signal;d=n.newJobId();return[2,g.create(function(b,f){b={resolve:b,reject:f};g.onAbortOrThrow(c,function(){e._outJobs["delete"](d);e._post({type:p,jobId:d})});e._outJobs.set(d,b);e._post({type:m,jobId:d,modulePath:a})})]})})};a.prototype._onMessage=
function(a){if(a=n.receiveMessage(a))switch(a.type){case q:case t:this._onResponse(a);break;case p:this._onCancel(a);break;case r:this._onInvoke(a)}};a.prototype._onCancel=function(a){var b=this._inJobs;a=a.jobId;var c=b.get(a);c&&(c.controller&&c.controller.abort(),b["delete"](a))};a.prototype._onInvoke=function(a){var b=this,c=a.methodName,d=a.jobId,e=a.data;a=a.abortable?g.createAbortController():null;var f=this._inJobs,h=k.workerMessages[c],m;try{if("function"!==typeof h)throw new TypeError(c+
" is not a function");m=h.call(null,e,{signal:a?a.signal:null})}catch(C){this._post({type:t,jobId:d,error:n.toInvokeError(C)});return}if(g.isThenable(m)){f.set(d,{controller:a,promise:m});if(a&&"cancel"in m)g.onAbort(a.signal,function(){return m.cancel()});m.then(function(a){f.has(d)&&(f["delete"](d),b._post({type:t,jobId:d},a))}).catch(function(a){f.has(d)&&(f["delete"](d),a||(a={message:"Error encountered at method"+c}),g.isAbortError(a)||b._post({type:t,jobId:d,error:n.toInvokeError(a||{message:"Error encountered at method "+
c})}))})}else this._post({type:t,jobId:d},m)};a.prototype._onResponse=function(a){var b=a.jobId,c=a.error;a=a.data;var d=this._outJobs.get(b);d&&(this._outJobs["delete"](b),c?d.reject(h.fromJSON(JSON.parse(c))):d.resolve(a))};a.prototype._post=function(a,b,c){return n.postMessage(this.worker,a,b,c)};return a}()})},"esri/core/workers/workerFactory":function(){define("require exports ../tsSupport/assignHelper ../tsSupport/generatorHelper ../tsSupport/awaiterHelper dojo/_base/kernel ../../config ../has ../Logger ../promiseUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r){function m(a){return k(this,void 0,void 0,function(){return e(this,function(b){return[2,c.create(function(b){function c(m){if(m=p.receiveMessage(m))switch(m.type){case x:m=a;var k=d.workers.loaderUrl||f.DEFAULT_LOADER_URL,n;null!=d["default"]?(n=l({},d),delete n["default"],n=JSON.parse(JSON.stringify(n))):n=JSON.parse(JSON.stringify(d));var q=d.workers.loaderConfig,q=f.default({baseUrl:q.baseUrl,locale:h.locale,has:l({"config-deferredInstrumentation":0,"dojo-test-sniff":0,
"esri-native-promise":g("esri-native-promise"),"esri-secure-context":g("esri-secure-context"),"esri-workers-arraybuffer-transfer":g("esri-workers-arraybuffer-transfer"),"events-keypress-typed":0,"host-webworker":1,"esri-webgl-texture-float":g("esri-webgl-texture-float"),"esri-shared-array-buffer":g("esri-shared-array-buffer"),"esri-2d-debug":0,"esri-webgl-max-texture-size":g("esri-webgl-max-texture-size")},q.has),map:l({},q.map),paths:l({},q.paths),packages:q.packages||[]});m.postMessage({type:v,
configure:{esriConfig:n,loaderUrl:k,loaderConfig:q}});break;case t:a.removeEventListener("message",c),a.removeEventListener("error",e),b(a)}}function e(b){b.preventDefault();a.removeEventListener("message",c);a.removeEventListener("error",e);q.warn("Failed to create Worker. Fallback to execute module in main thread",b);a=new r;a.addEventListener("message",c);a.addEventListener("error",e)}a.addEventListener("message",c);a.addEventListener("error",e)})]})})}Object.defineProperty(b,"__esModule",{value:!0});
var q=n.getLogger("esri.core.workers");g.add("esri-workers-arraybuffer-transfer",!g("safari")||12<=g("safari"));var t=p.MessageType.CONFIGURED,v=p.MessageType.CONFIGURE,x=p.MessageType.HANDSHAKE,u;try{u=URL.createObjectURL(new Blob(['var globalId\x3d0;var outgoing\x3dnew Map;var configured\x3dfalse;var HANDSHAKE\x3d0;var CONFIGURE\x3d1;var CONFIGURED\x3d2;var OPEN\x3d3;var OPENED\x3d4;var RESPONSE\x3d5;var INVOKE\x3d6;var ABORT\x3d7;function mapDelete(map,key){map["delete"](key)}function createAbortError(){var error\x3dnew Error("AbortError");error.dojoType\x3d"cancel";return error}function receiveMessage(event){if(!event||!event.data){return null}if(typeof event.data\x3d\x3d\x3d"string"){return JSON.parse(event.data)}return event.data}function invokeStaticMessage(methodName,data,options){var signal\x3doptions\x26\x26options.signal;var Deferred\x3drequire("dojo/Deferred");var jobId\x3dglobalId++;var abort\x3dfunction(){var outJob\x3doutgoing.get(jobId);if(!outJob){return}mapDelete(outgoing,jobId);self.postMessage({type:ABORT,jobId:jobId});outJob.reject(createAbortError())};var deferred\x3dnew Deferred(abort);if(signal){if(signal.aborted){return deferred.reject(createAbortError())}signal.addEventListener("abort",function(){abort();deferred.reject(createAbortError())})}outgoing.set(jobId,deferred);self.postMessage({type:INVOKE,jobId:jobId,methodName:methodName,abortable:true,data:data});return deferred.promise}function messageHandler(event){var message\x3dreceiveMessage(event);if(!message){return}var jobId\x3dmessage.jobId;switch(message.type){case CONFIGURE:var configuration\x3dmessage.configure;if(configured){return}self.dojoConfig\x3dconfiguration.loaderConfig;self.importScripts(configuration.loaderUrl);if(typeof require.config\x3d\x3d\x3d"function"){require.config(configuration.loaderConfig)}require(["esri/config"],function(esriConfig){for(var name in configuration.esriConfig){if(Object.prototype.hasOwnProperty.call(configuration.esriConfig,name)){esriConfig[name]\x3dconfiguration.esriConfig[name]}}self.postMessage({type:CONFIGURED})});break;case OPEN:var modulePath\x3dmessage.modulePath;require(["esri/core/workers/RemoteClient",modulePath],function(RemoteClient,Module){var port\x3dRemoteClient.connect(Module);self.postMessage({type:OPENED,jobId:jobId,data:port},[port])});break;case RESPONSE:if(outgoing.has(jobId)){var deferred\x3doutgoing.get(jobId);mapDelete(outgoing,jobId);if(message.error){deferred.reject(JSON.parse(message.error))}else{deferred.resolve(message.data)}}break}}self.addEventListener("message",messageHandler);self.postMessage({type:HANDSHAKE});'],
{type:"text/javascript"}))}catch(w){}b.createWorker=function(){return k(this,void 0,void 0,function(){var a;return e(this,function(b){if(!g("esri-workers"))return[2,m(new r)];if(u)try{a=new Worker(u)}catch(A){q.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new r}else q.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new r;return[2,m(a)]})})}})},"esri/core/workers/loaderConfig":function(){define(["require","exports","../tsSupport/assignHelper",
"../has","../urlUtils"],function(a,b,l,e,k){Object.defineProperty(b,"__esModule",{value:!0});e=e("esri-built")?"dojo/dojo-lite.js":"dojo/dojo.js";b.DEFAULT_LOADER_URL=k.makeAbsolute(k.removeQueryParameters(a.toUrl(e)));b.DEFAULT_CONFIG={baseUrl:function(){var b=k.removeQueryParameters(a.toUrl("dojo/x.js"));return k.makeAbsolute(b.slice(0,b.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",main:"dist/cldr"},
{name:"globalize",main:"dist/globalize"},{name:"maquette",main:"dist/maquette.umd"},{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};b.default=function(e){var d={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,
has:l({},e.has),map:l({},e.map),packages:e.packages&&e.packages.concat()||[],paths:l({},e.paths)};e.hasOwnProperty("async")||(d.async=!0);e.hasOwnProperty("isDebug")||(d.isDebug=!1);e.baseUrl||(d.baseUrl=b.DEFAULT_CONFIG.baseUrl);b.DEFAULT_CONFIG.packages.forEach(function(b){a:{for(var c=d.packages,e=0;e<c.length;e++)if(c[e].name===b.name)break a;b=l({},b);e=k.removeQueryParameters(a.toUrl(b.name+"/x.js"));e=e.slice(0,e.length-5);b.location=k.makeAbsolute(e);c.push(b)}});e=d.map=d.map||{};for(var g=
0,h=Object.keys(b.DEFAULT_CONFIG.map);g<h.length;g++){var c=h[g];e[c]||(e[c]=b.DEFAULT_CONFIG.map[c])}return d}})},"esri/core/workers/WorkerFallback":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../global ../has ../promiseUtils ./utils @dojo/framework/shim/Promise".split(" "),function(a,b,l,e,k,h,d,g){var n=function(){return function(){var a=this,b=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(c){a[c]=
function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return b[c].apply(b,a)}})}}(),c=k.MutationObserver||k.WebKitMutationObserver,f=function(){var a;if(k.process&&k.process.nextTick)a=function(a){k.process.nextTick(a)};else if(k.Promise)a=function(a){k.Promise.resolve().then(a)};else if(c){var b=[],d=document.createElement("div");(new c(function(){for(;0<b.length;)b.shift()()})).observe(d,{attributes:!0});a=function(a){b.push(a);d.setAttribute("queueStatus","1")}}return a}(),p=function(){var a=
k.MessageEvent;try{new a("message",{data:null})}catch(m){return function(a,b){void 0===b&&(b={});var c=b.data,d=b.bubbles,d=void 0===d?!1:d;b=b.cancelable;b=void 0===b?!1:b;var e=document.createEvent("Event");e.initEvent(a,d,b);e.data=c;return e}}return function(b,c){return new a(b,c)}}();return function(){function b(){this._dispatcher=new n;this._isInitialized=!1;this._workerPostMessage({type:g.MessageType.HANDSHAKE})}b.prototype.terminate=function(){};Object.defineProperty(b.prototype,"onmessage",
{get:function(){return this._onmessageHandler},set:function(a){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=a)&&this.addEventListener("message",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"onerror",{get:function(){return this._onerrorHandler},set:function(a){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=a)&&this.addEventListener("error",a)},enumerable:!0,configurable:!0});
b.prototype.postMessage=function(a,b){var c=this;f(function(){c._workerMessageHandler(p("message",{data:a}))})};b.prototype.dispatchEvent=function(a){return this._dispatcher.dispatchEvent(a)};b.prototype.addEventListener=function(a,b,c){this._dispatcher.addEventListener(a,b,c)};b.prototype.removeEventListener=function(a,b,c){this._dispatcher.removeEventListener(a,b,c)};b.prototype._workerPostMessage=function(a,b){var c=this;f(function(){c.dispatchEvent(p("message",{data:a}))})};b.prototype._workerMessageHandler=
function(b){return e(this,void 0,void 0,function(){var c,e,f,h,m,k,n,p,r=this;return l(this,function(l){switch(l.label){case 0:c=g.receiveMessage(b);if(!c)return[2];e=c.jobId;f=c.type;switch(f){case g.MessageType.CONFIGURE:return[3,1];case g.MessageType.OPEN:return[3,2]}return[3,27];case 1:return this._isInitialized||this._workerPostMessage({type:g.MessageType.CONFIGURED}),[3,27];case 2:return h=c.modulePath,[3,25];case 3:k=l.sent();n=h;switch(n){case "esri/tasks/operations/PBFWorker":return[3,4];
case "esri/views/2d/engine/vectorTiles/WorkerTileHandler":return[3,6];case "esri/views/2d/layers/features/Pipeline":return[3,8];case "esri/views/3d/layers/PointCloudWorker":return[3,10];case "esri/views/3d/layers/SceneLayerWorker":return[3,12];case "esri/layers/graphics/sources/support/CSVSourceWorker":return[3,14];case "esri/layers/support/LercWorker":return[3,16];case "esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":return[3,18];case "esri/geometry/support/meshUtils/ElevationSamplerWorker":return[3,
20]}return[3,22];case 4:return[4,new Promise(function(b,c){a(["esri/tasks/operations/PBFWorker"],b,c)})];case 5:return m=l.sent(),[3,24];case 6:return[4,new Promise(function(b,c){a(["esri/views/2d/engine/vectorTiles/WorkerTileHandler"],b,c)})];case 7:return m=l.sent(),[3,24];case 8:return[4,new Promise(function(b,c){a(["esri/views/2d/layers/features/Pipeline"],b,c)})];case 9:return m=l.sent(),[3,24];case 10:return[4,new Promise(function(b,c){a(["esri/views/3d/layers/PointCloudWorker"],b,c)})];case 11:return m=
l.sent(),[3,24];case 12:return[4,new Promise(function(b,c){a(["esri/views/3d/layers/SceneLayerWorker"],b,c)})];case 13:return m=l.sent(),[3,24];case 14:return[4,new Promise(function(b,c){a(["esri/layers/graphics/sources/support/CSVSourceWorker"],b,c)})];case 15:return m=l.sent(),[3,24];case 16:return[4,new Promise(function(b,c){a(["esri/layers/support/LercWorker"],b,c)})];case 17:return m=l.sent(),[3,24];case 18:return[4,new Promise(function(b,c){a(["esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],
b,c)})];case 19:return m=l.sent(),[3,24];case 20:return[4,new Promise(function(b,c){a(["esri/geometry/support/meshUtils/ElevationSamplerWorker"],b,c)})];case 21:return m=l.sent(),[3,24];case 22:return[4,d.create(function(b){return a([h],b)})];case 23:m=l.sent(),l.label=24;case 24:return p=k.connect(m),this._workerPostMessage({type:g.MessageType.OPENED,jobId:e,data:p}),[3,26];case 25:a(["esri/core/workers/RemoteClient",h],function(a,b){a=a.connect(b);r._workerPostMessage({type:g.MessageType.OPENED,
jobId:e,data:a})}),l.label=26;case 26:return[3,27];case 27:return[2]}})})};return b}()})},"esri/core/accessorSupport/typescript":function(){define(["../declare","../typescript","../JSONSupport","../lang"],function(a,b,l,e){function k(a,b){if(!a)return b;if(!b)return a;for(var d in b){var e=a[d],c=b[d];Array.isArray(c)&&Array.isArray(e)?a[d]=e.concat(c):a[d]="object"===typeof c&&"object"===typeof e?k(e,c):c}return a}return{subclass:function(h,d){return function(d){d=b.declareDefinition(d,h);g&&(d.instanceMembers.properties=
k(g,d.instanceMembers.properties));var g=d.instanceMembers.properties;if(g)for(var c in g){var f=g[c];f&&!f.reader&&f.type&&(f.type===Date?f.reader=function(a){return null!=a?new Date(a):null}:-1!==f.type._meta.bases.indexOf(l)&&(f.reader=function(a){return function(b){return a.fromJSON(b)}}(f.type)))}return e.mixin(a(d.bases,d.instanceMembers),d.classMembers)}},shared:b.shared,property:function(a){return function(b,e){var d=Object.getPrototypeOf(b),d=d&&d.properties;b.properties&&b.properties!==
d||(b.properties={});b.properties=b.properties||{};b.properties[e]=a||{}}}}})},"esri/core/typescript":function(){define(["./declare","./lang"],function(a,b){var l={declareDefinition:function(a,b){var e=[],d=Object.getPrototypeOf(a.prototype),g;if(d!==Object.prototype){var k=d.constructor;g=k.prototype;e.push(k)}b&&(e=e.concat(b));b={};for(var k=Object.getOwnPropertyNames(a.prototype),c=0;c<k.length;c++){var f=k[c];if("constructor"!==f){var l=f;"dojoConstructor"===f&&(l="constructor");g&&a.prototype[f]===
g[f]||(b[l]=a.prototype[f])}}k=Object.getOwnPropertyNames(a);d=Object.getOwnPropertyNames(d.constructor);g={};for(c=0;c<k.length;c++)f=k[c],-1===d.indexOf(f)&&(g[f]=a[f]);return{bases:e,instanceMembers:b,classMembers:g}},subclass:function(e){return function(k){k=l.declareDefinition(k,e);return b.mixin(a(k.bases,k.instanceMembers),k.classMembers)}},shared:function(a){return function(b,e){b[e]=a}}};return l})},"esri/tasks/support/FeatureSet":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r){var m=new d.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent"});a=function(a){function b(b){b=a.call(this,b)||this;b.displayFieldName=null;b.exceededTransferLimit=!1;b.features=[];b.fields=null;b.geometryType=null;b.hasM=!1;b.hasZ=!1;b.queryGeometry=null;b.spatialReference=null;return b}e(b,a);b.prototype.readFeatures=function(a,b){b=f.fromJSON(b.spatialReference);
for(var c=[],d=0;d<a.length;d++){var e=a[d],g=h.fromJSON(e),e=e.geometry&&e.geometry.spatialReference;n.isSome(g.geometry)&&!e&&(g.geometry.spatialReference=b);c.push(g)}return c};b.prototype.writeGeometryType=function(a,b,c,d){if(a)m.write(a,b,c,d);else if(a=this.features)for(var e=0;e<a.length;e++){var f=a[e];if(f&&n.isSome(f.geometry)){m.write(f.geometry.type,b,c,d);break}}};b.prototype.writeSpatialReference=function(a,b,c,d){if(a)b.spatialReference=a.toJSON();else if(a=this.features)for(c=0;c<
a.length;c++)(d=a[c])&&n.isSome(d.geometry)&&d.geometry.spatialReference&&(b.spatialReference=d.geometry.spatialReference.toJSON())};b.prototype.toJSON=function(a){var b=this.write(null);if(b.features&&Array.isArray(a)&&0<a.length)for(var c=0;c<b.features.length;c++){var d=b.features[c];if(d.geometry){var e=a&&a[c];d.geometry=e&&e.toJSON()||d.geometry}}return b};b.prototype.quantize=function(a){for(var b=a.scale,c=b[0],d=b[1],b=a.translate,e=b[0],f=b[1],b=this.features,g=this._getQuantizationFunction(this.geometryType,
function(a){return Math.round((a-e)/c)},function(a){return Math.round((f-a)/d)}),h=0,m=b.length;h<m;h++)g(n.expect(b[h].geometry))||(b.splice(h,1),h--,m--);this.transform=a;return this};b.prototype.unquantize=function(){var a=this.features,b=this.transform;if(!b)return this;for(var c=b.translate,d=c[0],e=c[1],b=b.scale,f=b[0],g=b[1],b=this._getHydrationFunction(this.geometryType,function(a){return a*f+d},function(a){return e-a*g}),c=0;c<a.length;c++){var h=a[c].geometry;n.isSome(h)&&b(h)}return this};
b.prototype._quantizePoints=function(a,b,c){for(var d,e,f=[],g=0,h=a.length;g<h;g++){var m=a[g];if(0<g){var k=b(m[0]),m=c(m[1]);if(k!==d||m!==e)f.push([k-d,m-e]),d=k,e=m}else d=b(m[0]),e=c(m[1]),f.push([d,e])}return 0<f.length?f:null};b.prototype._getQuantizationFunction=function(a,b,c){var d=this;if("point"===a)return function(a){a.x=b(a.x);a.y=c(a.y);return a};if("polyline"===a||"polygon"===a)return function(a){for(var e=p.isPolygon(a)?a.rings:a.paths,f=[],g=0,h=e.length;g<h;g++){var m=d._quantizePoints(e[g],
b,c);m&&f.push(m)}return 0<f.length?(p.isPolygon(a)?a.rings=f:a.paths=f,a):null};if("multipoint"===a)return function(a){var e;e=d._quantizePoints(a.points,b,c);return 0<e.length?(a.points=e,a):null};if("extent"===a)return function(a){return a}};b.prototype._getHydrationFunction=function(a,b,c){if("point"===a)return function(a){a.x=b(a.x);a.y=c(a.y)};if("polyline"===a||"polygon"===a)return function(a){a=p.isPolygon(a)?a.rings:a.paths;for(var d,e,f=0,g=a.length;f<g;f++)for(var h=a[f],m=0,k=h.length;m<
k;m++){var n=h[m];0<m?(d+=n[0],e+=n[1]):(d=n[0],e=n[1]);n[0]=b(d);n[1]=c(e)}};if("extent"===a)return function(a){a.xmin=b(a.xmin);a.ymin=c(a.ymin);a.xmax=b(a.xmax);a.ymax=c(a.ymax)};if("multipoint"===a)return function(a){a=a.points;for(var d,e,f=0,g=a.length;f<g;f++){var h=a[f];0<f?(d+=h[0],e+=h[1]):(d=h[0],e=h[1]);h[0]=b(d);h[1]=c(e)}}};l([c.property({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0);l([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
b.prototype,"exceededTransferLimit",void 0);l([c.property({type:[h],json:{write:!0}})],b.prototype,"features",void 0);l([c.reader("features")],b.prototype,"readFeatures",null);l([c.property({type:[r],json:{write:!0}})],b.prototype,"fields",void 0);l([c.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:m.read}}})],b.prototype,"geometryType",void 0);l([c.writer("geometryType")],b.prototype,"writeGeometryType",null);l([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
b.prototype,"hasM",void 0);l([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);l([c.property({types:k.geometryTypes,json:{read:p.fromJSON,write:!0}})],b.prototype,"queryGeometry",void 0);l([c.property({type:f,json:{write:!0}})],b.prototype,"spatialReference",void 0);l([c.writer("spatialReference")],b.prototype,"writeSpatialReference",null);l([c.property({json:{write:!0}})],b.prototype,"transform",void 0);return b=l([c.subclass("esri.tasks.support.FeatureSet")],
b)}(c.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;(function(a){})(a||(a={}));return a})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),function(a,b,l,e,k,h,d,g,n,c){var f=new k.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",
dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function b(b){b=a.call(this)||this;b.alias=null;b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;b.valueType=
null;return b}l(b,a);h=b;b.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(x){}return c?c.value:null};b.prototype.readValueType=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(x){}return c?f.fromJSON(c.fieldValueType):null};b.prototype.clone=function(){return new h({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,
nullable:this.nullable,type:this.type,valueType:this.valueType})};var h;e([d.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);e([d.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);e([d.property()],b.prototype,"description",void 0);e([d.reader("description")],b.prototype,"readDescription",null);e([d.property({types:n.types,json:{read:{reader:n.fromJSON},write:!0}})],b.prototype,"domain",void 0);e([d.property({type:Boolean,json:{write:!0}})],
b.prototype,"editable",void 0);e([d.property({type:g.Integer,json:{write:!0}})],b.prototype,"length",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);e([d.enumeration.serializable()(c.kebabDict)],b.prototype,"type",void 0);e([d.property()],b.prototype,"valueType",void 0);e([d.reader("valueType",["description"])],b.prototype,"readValueType",null);return b=h=e([d.subclass("esri.layers.support.Field")],
b)}(d.declared(h))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.kebabDict=new l.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",
esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/mixins/ArcGISService":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Logger ../../core/MultiOriginJSONSupport ../../core/accessorSupport/decorators ../support/arcgisLayerUrl".split(" "),function(a,b,l,e,k,h,d,g){var n=k.getLogger("esri.layers.mixins.ArcGISService");return function(a){function b(){return null!==a&&a.apply(this,
arguments)||this}l(b,a);Object.defineProperty(b.prototype,"title",{get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var a=g.parse(this.url);if(a&&a.title)return a.title}return this._get("title")||""},set:function(a){this._set("title",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{set:function(a){this._set("url",g.sanitizeUrl(a,n))},enumerable:!0,configurable:!0});e([d.property({dependsOn:["url"]})],b.prototype,
"title",null);e([d.property({type:String})],b.prototype,"url",null);return b=e([d.subclass("esri.layers.mixins.ArcGISService")],b)}(d.declared(h))})},"esri/layers/support/arcgisLayerUrl":function(){define(["require","exports","../../core/urlUtils"],function(a,b,l){function e(a){var d=l.urlToObject(a).path.match(b.match);if(!d)return null;a=d[1];var e=d[2],h=d[3],d=d[4],c=e.indexOf("/");return{title:k(-1!==c?e.slice(c+1):e),serverType:h,sublayer:null!=d&&""!==d?parseInt(d,10):null,url:{path:a}}}function k(a){a=
a.replace(/\s*[/_]+\s*/g," ");return a[0].toUpperCase()+a.slice(1)}Object.defineProperty(b,"__esModule",{value:!0});b.serverTypes="MapServer ImageServer FeatureServer SceneServer StreamServer VectorTileServer".split(" ");b.match=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/("+b.serverTypes.join("|")+"))(?:\\/(?:layers\\/)?(\\d+))?","i");b.test=function(a){return!!b.match.test(a)};b.parse=e;b.cleanTitle=k;b.titleFromUrlAndName=function(a,b){var d=[];a&&(a=e(a))&&a.title&&d.push(a.title);
b&&(b=k(b),d.push(b));if(2===d.length){if(-1!==d[0].toLowerCase().indexOf(d[1].toLowerCase()))return d[0];if(-1!==d[1].toLowerCase().indexOf(d[0].toLowerCase()))return d[1]}return d.join(" - ")};b.isHostedAgolService=function(a){if(!a)return!1;a=a.toLowerCase();var b=-1!==a.indexOf(".arcgis.com/");a=-1!==a.indexOf("//services")||-1!==a.indexOf("//tiles")||-1!==a.indexOf("//features");return b&&a};b.isHostedSecuredProxyService=function(a,b){return b&&a&&-1!==a.toLowerCase().indexOf(b.toLowerCase())};
b.sanitizeUrl=function(a,b){return a?l.removeTrailingSlash(l.removeQueryParameters(a,b)):a};b.sanitizeUrlWithLayerId=function(a,b,g){if(!b)return{url:b};b=l.removeQueryParameters(b,g);g=l.urlToObject(b);g=e(g.path);var d;g&&null!=g.sublayer&&(null==a.layerId&&(d=g.sublayer),b=g.url.path);return{url:l.removeTrailingSlash(b),layerId:d}};b.writeUrlWithLayerId=function(a,b,e,k,c){l.write(b,k,"url",c);k.url&&null!=a.layerId&&(k.url=l.join(k.url,e,a.layerId.toString()))};b.isWmsServer=function(a){if(!a)return!1;
var b=a.toLowerCase();a=-1!==b.indexOf("/services/");var e=-1!==b.indexOf("/mapserver/wmsserver"),h=-1!==b.indexOf("/imageserver/wmsserver"),b=-1!==b.indexOf("/wmsserver");return a&&(e||h||b)}})},"esri/layers/mixins/TemporalLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../TimeExtent ../../core/Accessor ../../core/accessorSupport/decorators ../../layers/support/TimeInfo ../support/fieldUtils".split(" "),function(a,b,l,e,k,
h,d,g,n){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.timeExtent=null;b.useViewTime=!0;return b}l(b,a);Object.defineProperty(b.prototype,"timeInfo",{set:function(a){n.fixTimeInfoFields(a,this.fields);this._set("timeInfo",a)},enumerable:!0,configurable:!0});e([d.property({type:k,json:{write:!1}})],b.prototype,"timeExtent",void 0);e([d.property({value:null,type:g,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],b.prototype,"timeInfo",null);e([d.property({type:Boolean,
json:{write:!1}})],b.prototype,"useViewTime",void 0);return b=e([d.subclass("esri.layers.mixins.TemporalLayer")],b)}(d.declared(h))})},"esri/TimeExtent":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/accessorSupport/decorators ./layers/support/timeUtils".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.end=null;b.start=null;return b}l(b,a);c=b;b.prototype.readEnd=function(a,
b){return null!=b.end?new Date(b.end):null};b.prototype.writeEnd=function(a,b,c){b.end=a?a.getTime():null};b.prototype.readStart=function(a,b){return null!=b.start?new Date(b.start):null};b.prototype.writeStart=function(a,b,c){b.start=a?a.getTime():null};b.prototype.clone=function(){return new c({end:this.end,start:this.start})};b.prototype.intersection=function(a){if(!a)return null;var b=this.start?this.start.getTime():-Infinity,d=this.end?this.end.getTime():Infinity,e=a.start?a.start.getTime():
-Infinity;a=a.end?a.end.getTime():Infinity;var f,g;e>=b&&e<=d?f=e:b>=e&&b<=a&&(f=b);d>=e&&d<=a?g=d:a>=b&&a<=d&&(g=a);return isNaN(f)||isNaN(g)?null:(b=new c,b.start=-Infinity===f?null:new Date(f),b.end=Infinity===g?null:new Date(g),b)};b.prototype.offset=function(a,b){var e=new c,f=this.start,g=this.end;f&&(e.start=d.offsetDate(f,a,b));g&&(e.end=d.offsetDate(g,a,b));return e};b.prototype.equals=function(a){return a?this.start.getTime()===a.start.getTime()&&this.end.getTime()===a.end.getTime():!1};
var c;e([h.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"end",void 0);e([h.reader("end")],b.prototype,"readEnd",null);e([h.writer("end")],b.prototype,"writeEnd",null);e([h.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);e([h.reader("start")],b.prototype,"readStart",null);e([h.writer("start")],b.prototype,"writeStart",null);return b=c=e([h.subclass("esri.TimeExtent")],b)}(h.declared(k))})},"esri/layers/support/timeUtils":function(){define(["require",
"exports","../../TimeExtent","../../core/compilerUtils","../../core/jsonMap"],function(a,b,l,e,k){Object.defineProperty(b,"__esModule",{value:!0});var h={milliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},seconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},minutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},hours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},days:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},weeks:{getter:"getUTCDate",
setter:"setUTCDate",multiplier:7},months:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},years:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},decades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},centuries:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}};b.timeUnitKebabDictionary=k.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",
esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});b.offsetDate=function(a,b,e){a=new Date(a.getTime());b&&e&&(e=h[e],a[e.setter](a[e.getter]()+b*e.multiplier));return a};b.combinedViewLayerTimeExtentProperty={type:l,dependsOn:["view?.timeExtent","layer?.timeInfo","layer?.timeExtent","layer?.useViewTime"],readOnly:!0,get:function(){if(!this.layer||!this.layer.timeInfo)return null;
var a=this.view?this.view.timeExtent:null,a=this.layer.useViewTime?a:this.layer.timeExtent,b=this._get("timeExtent");return a&&a.equals(b)?b:a}};b.millisecondsPerTimeUnit={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};b.truncateDate=function(a,g){switch(g){case "milliseconds":return new Date(a.getTime());case "seconds":return new Date(a.getTime()-a.getTime()%b.millisecondsPerTimeUnit.seconds);case "minutes":return new Date(a.getTime()-
a.getTime()%b.millisecondsPerTimeUnit.minutes);case "hours":return new Date(a.getTime()-a.getTime()%b.millisecondsPerTimeUnit.hours);case "days":return new Date(a.getUTCFullYear(),a.getMonth(),a.getDate());case "weeks":return new Date(a.getUTCFullYear(),a.getMonth(),a.getDate()-a.getDay());case "months":return new Date(a.getUTCFullYear(),a.getMonth(),1);case "years":return new Date(a.getUTCFullYear(),0,1);case "decades":return new Date(a.getUTCFullYear()-a.getUTCFullYear()%10,0,1);case "centuries":return new Date(a.getUTCFullYear()-
a.getUTCFullYear()%100,0,1);default:return e.neverReached(g),null}};b.appendDate=function(a,b){a=new Date(a.getTime());switch(b.unit){case "milliseconds":a.setUTCMilliseconds(a.getUTCMilliseconds()+b.value);break;case "seconds":a.setSeconds(a.getSeconds()+b.value);break;case "minutes":a.setMinutes(a.getMinutes()+b.value);break;case "hours":a.setHours(a.getHours()+b.value);break;case "days":a.setDate(a.getDate()+b.value);break;case "weeks":a.setDate(a.getDate()+7*b.value);break;case "months":a.setMonth(a.getMonth()+
b.value);break;case "years":a.setFullYear(a.getFullYear()+b.value);break;case "decades":a.setFullYear(a.getFullYear()+10*b.value);break;case "centuries":a.setFullYear(a.getFullYear()+100*b.value);break;default:e.neverReached(b.unit)}return a}})},"esri/layers/support/TimeInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./TimeReference ./timeUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){return function(a){function b(b){b=a.call(this)||this;b.cumulative=!1;b.endField=null;b.hasLiveData=!1;b.interval=null;b.offset=null;b.startField=null;b.timeReference=null;b.fullTimeExtent=null;b.trackIdField=null;b.useTime=!0;return b}l(b,a);d=b;b.prototype.readInterval=function(a,b){return b.timeInterval&&b.timeIntervalUnits?new h({value:b.timeInterval,unit:f.timeUnitKebabDictionary.fromJSON(b.timeIntervalUnits)}):b.defaultTimeInterval&&b.defaultTimeIntervalUnits?
new h({value:b.defaultTimeInterval,unit:f.timeUnitKebabDictionary.fromJSON(b.defaultTimeIntervalUnits)}):null};b.prototype.writeInterval=function(a,b){a?(a=a.toJSON(),b.timeInterval=a.value,b.timeIntervalUnits=a.unit):(b.timeInterval=null,b.timeIntervalUnits=null)};b.prototype.readOffset=function(a,b){a=b.exportOptions.timeOffset;b=f.timeUnitKebabDictionary.fromJSON(b.exportOptions.timeOffsetUnits);return a&&b?new h({value:a,unit:b}):null};b.prototype.writeOffset=function(a,b){b.exportOptions||(b.exportOptions=
{});a?(a=a.toJSON(),b.exportOptions.timeOffset=a.value,b.exportOptions.timeOffsetUnits=a.unit):(b.exportOptions.timeOffset=null,b.exportOptions.timeOffsetUnits=null)};b.prototype.readFullTimeExtent=function(a,b){return b.timeExtent&&Array.isArray(b.timeExtent)&&2===b.timeExtent.length?new k({start:b.timeExtent[0],end:b.timeExtent[1]}):null};b.prototype.writeFullTimeExtent=function(a,b,c){b.timeExtent=a&&a.start&&a.end?[a.start.getTime(),a.end.getTime()]:null};b.prototype.clone=function(){var a=this.fullTimeExtent,
b=this.trackIdField,c=this.useTime;return new d({cumulative:this.cumulative,endField:this.endField,hasLiveData:this.hasLiveData,interval:this.interval,offset:this.offset,startField:this.startField,timeReference:g.clone(this.timeReference),fullTimeExtent:g.clone(a),trackIdField:b,useTime:c})};var d;e([n.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],b.prototype,"cumulative",void 0);e([n.property({type:String,json:{read:{source:"endTimeField"},
write:{target:"endTimeField",allowNull:!0}}})],b.prototype,"endField",void 0);e([n.property({type:Boolean,json:{write:!0}})],b.prototype,"hasLiveData",void 0);e([n.property({type:h,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"interval",void 0);e([n.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],b.prototype,"readInterval",null);e([n.writer("interval")],b.prototype,"writeInterval",null);e([n.property({type:h,json:{write:{enabled:!0,
allowNull:!0}}})],b.prototype,"offset",void 0);e([n.reader("offset",["exportOptions.timeOffset","exportOptions.timeOffset"])],b.prototype,"readOffset",null);e([n.writer("offset")],b.prototype,"writeOffset",null);e([n.property({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],b.prototype,"startField",void 0);e([n.property({type:c,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"timeReference",void 0);e([n.property({type:k,json:{write:{enabled:!0,
allowNull:!0}}})],b.prototype,"fullTimeExtent",void 0);e([n.reader("fullTimeExtent",["timeExtent"])],b.prototype,"readFullTimeExtent",null);e([n.writer("fullTimeExtent")],b.prototype,"writeFullTimeExtent",null);e([n.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"trackIdField",void 0);e([n.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],b.prototype,"useTime",void 0);return b=d=e([n.subclass("esri.layers.support.TimeInfo")],
b)}(n.declared(d))})},"esri/TimeInterval":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/accessorSupport/decorators ./layers/support/timeUtils".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this)||this;b.value=0;b.unit="milliseconds";return b}l(b,a);c=b;b.prototype.toMilliseconds=function(){return this.value*d.millisecondsPerTimeUnit[this.unit]};b.prototype.clone=function(){return new c({value:this.value,
unit:this.unit})};var c;e([h.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);e([h.property({type:d.timeUnitKebabDictionary.apiValues,json:{type:d.timeUnitKebabDictionary.jsonValues,read:d.timeUnitKebabDictionary.read,write:d.timeUnitKebabDictionary.write},nonNullable:!0})],b.prototype,"unit",void 0);return b=c=e([h.subclass("esri.TimeInterval")],b)}(h.declared(k))})},"esri/layers/support/TimeReference":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.respectsDaylightSaving=!1;b.timezone=null;return b}l(b,a);d=b;b.prototype.readRespectsDaylightSaving=function(a,b){return void 0!==b.respectsDaylightSaving?b.respectsDaylightSaving:void 0!==b.respectDaylightSaving?b.respectDaylightSaving:!1};b.prototype.clone=function(){return new d({respectsDaylightSaving:this.respectsDaylightSaving,timezone:this.timezone})};var d;e([h.property({type:Boolean,json:{write:!0}})],b.prototype,
"respectsDaylightSaving",void 0);e([h.reader("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],b.prototype,"readRespectsDaylightSaving",null);e([h.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],b.prototype,"timezone",void 0);return b=d=e([h.subclass("esri.layers.support.TimeReference")],b)}(h.declared(k))})},"esri/layers/support/commonProperties":function(){define("require exports ../../core/urlUtils ../../core/accessorSupport/PropertyOrigin ../../core/accessorSupport/utils ../../core/accessorSupport/write ../../symbols/support/ElevationInfo".split(" "),
function(a,b,l,e,k,h,d){Object.defineProperty(b,"__esModule",{value:!0});b.screenSizePerspectiveEnabled={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader:function(a,b){if(null==b.screenSizePerspective&&"defaults"===this.originOf("screenSizePerspectiveEnabled"))k.getProperties(this).store.set("screenSizePerspectiveEnabled",!1,e.OriginId.DEFAULTS);else return b.screenSizePerspective}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer:function(a,
b,c,d){"defaults"===this.originOf("screenSizePerspectiveEnabled")&&a?b[c]=a:h.willPropertyWrite(this,"screenSizePerspectiveEnabled",{},d)&&(b[c]=a)}}}}}};b.popupEnabled={type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(a,b){return!b.disablePopup}},write:{target:"disablePopup",writer:function(a,b,c){b[c]=!a}}}};b.labelsVisible={type:Boolean,json:{read:{source:"showLabels"},write:{target:"showLabels"}}};b.url={type:String,json:{write:{isRequired:!0,ignoreOrigin:!0,writer:l.write}}};
b.legendEnabled={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}};b.elevationInfo={value:null,type:d,json:{origins:{service:{read:{source:"elevationInfo"},write:{target:"elevationInfo",enabled:!1}}},read:{source:"layerDefinition.elevationInfo"},write:{target:"layerDefinition.elevationInfo"}}};b.readOnlyService=function(a){return{type:a,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}})},"esri/layers/support/FeatureIndex":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){return a.call(this,b)||this}l(b,a);d=b;b.prototype.clone=function(){return new d({name:this.name,fields:this.fields,isAscending:this.isAscending,isUnique:this.isUnique,description:this.description})};var d;e([h.property({constructOnly:!0})],b.prototype,"name",void 0);e([h.property({constructOnly:!0})],b.prototype,"fields",void 0);e([h.property({constructOnly:!0})],b.prototype,"isAscending",void 0);e([h.property({constructOnly:!0})],
b.prototype,"isUnique",void 0);e([h.property({constructOnly:!0})],b.prototype,"description",void 0);return b=d=e([h.subclass("esri.layers.support.FeatureIndex")],b)}(h.declared(k));b.FeatureIndex=a;b.default=a})},"esri/layers/support/FeatureProcessing":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/lang ../../core/accessorSupport/decorators ./Field ./fieldUtils".split(" "),function(a,b,l,e,k,h,d,g,n){return function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}l(b,a);c=b;b.fromWorker=function(a){if(!a)return null;a=JSON.parse(a);var b=new c;b.fields=a.fields&&a.fields.map(function(a){return g.fromJSON(a)});b.options=a.options;b.process=new (Function.bind.apply(Function,[void 0].concat(a.process.args,[a.process.body])));return b};Object.defineProperty(b.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c(h.clone({fields:this.fields,
options:this.options,process:this.process}))};b.prototype.getField=function(a){return n.getField(this.fields,a)};b.prototype.refresh=function(){this.notifyChange("version")};b.prototype.toWorker=function(){var a=this.process.toString();return JSON.stringify({fields:this.fields,options:this.options,process:{body:a.substring(a.indexOf("{")+1,a.lastIndexOf("}")),args:a.slice(a.indexOf("(")+1,a.indexOf(")")).match(/([^\s,]+)/g)}})};var c;e([d.property({type:[g]})],b.prototype,"fields",void 0);e([d.property()],
b.prototype,"options",void 0);e([d.property()],b.prototype,"process",void 0);e([d.property({readOnly:!0,dependsOn:["process","options","fields"]})],b.prototype,"version",null);return b=c=e([d.subclass("esri.layers.support.FeatureProcessing")],b)}(d.declared(k))})},"esri/layers/support/FeatureReduction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,
b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.type=null;return b}l(b,a);e([h.property({type:["selection"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.layers.support.FeatureReduction")],b)}(h.declared(k));b.FeatureReduction=a;b.default=a})},"esri/layers/support/FeatureReductionSelection":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./FeatureReduction".split(" "),
function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.type="selection";return b}l(b,a);e([k.property({type:["selection"]})],b.prototype,"type",void 0);return b=e([k.subclass("esri.layers.support.FeatureReductionSelection")],b)}(k.declared(h.default));b.FeatureReductionSelection=a;b.default=a})},"esri/layers/support/FeatureTemplate":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g){var n=new k.default({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.description=null;b.drawingTool=null;b.prototype=null;b.thumbnail=null;return b}l(b,a);b.prototype.writeDrawingTool=function(a,b){b.drawingTool=n.toJSON(a)};b.prototype.writePrototype=function(a,b){b.prototype=d.fixJson(d.clone(a),!0)};b.prototype.writeThumbnail=function(a,b){b.thumbnail=d.fixJson(d.clone(a))};
e([g.property({json:{write:!0}})],b.prototype,"name",void 0);e([g.property({json:{write:!0}})],b.prototype,"description",void 0);e([g.property({json:{read:n.read,write:n.write}})],b.prototype,"drawingTool",void 0);e([g.writer("drawingTool")],b.prototype,"writeDrawingTool",null);e([g.property({json:{write:!0}})],b.prototype,"prototype",void 0);e([g.writer("prototype")],b.prototype,"writePrototype",null);e([g.property({json:{write:!0}})],b.prototype,"thumbnail",void 0);e([g.writer("thumbnail")],b.prototype,
"writeThumbnail",null);return b=e([g.subclass("esri.layers.support.FeatureTemplate")],b)}(g.declared(h))})},"esri/layers/support/FeatureType":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./domains ./FeatureTemplate".split(" "),function(a,b,l,e,k,h,d,g,n){return function(a){function b(b){b=a.call(this,b)||this;b.id=null;b.name=null;b.domains=null;b.templates=
null;return b}l(b,a);b.prototype.readDomains=function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];switch(d.type){case "range":b[c]=g.RangeDomain.fromJSON(d);break;case "codedValue":b[c]=g.CodedValueDomain.fromJSON(d);break;case "inherited":b[c]=g.InheritedDomain.fromJSON(d)}}return b};b.prototype.writeDomains=function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]&&a[d].toJSON());h.fixJson(c);b.domains=c};b.prototype.readTemplates=function(a){return a&&a.map(function(a){return new n(a)})};
b.prototype.writeTemplates=function(a,b){b.templates=a&&a.map(function(a){return a.toJSON()})};e([d.property({json:{write:!0}})],b.prototype,"id",void 0);e([d.property({json:{write:!0}})],b.prototype,"name",void 0);e([d.property({json:{write:!0}})],b.prototype,"domains",void 0);e([d.reader("domains")],b.prototype,"readDomains",null);e([d.writer("domains")],b.prototype,"writeDomains",null);e([d.property({json:{write:!0}})],b.prototype,"templates",void 0);e([d.reader("templates")],b.prototype,"readTemplates",
null);e([d.writer("templates")],b.prototype,"writeTemplates",null);return b=e([d.subclass("esri.layers.support.FeatureType")],b)}(d.declared(k))})},"esri/layers/support/fieldProperties":function(){define("require exports @dojo/framework/shim/array ../../core/Logger ./Field ./fieldUtils".split(" "),function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});var d=e.getLogger("esri.layers.support.fieldProperties");b.defineFieldProperties=function(){return{fields:{type:[k],value:null},outFields:{type:[String],
dependsOn:["fields"],json:{read:!1},set:function(a){this._userOutFields=a;this.notifyChange("outFields")},get:function(){var a=this._userOutFields;if(!a||!a.length)return null;if(l.includes(a,"*"))return["*"];if(!this.fields)return a;for(var b=0;b<a.length;b++){var c=a[b];h.hasField(this.fields,c)||d.error("field-attributes-layer:invalid-field","Invalid field "+c+" found in outFields",{layer:this,outFields:a})}return h.fixFields(this.fields,a)}}}}})},"esri/layers/support/FieldsIndex":function(){define(["require",
"exports","../../core/tsSupport/extendsHelper"],function(a,b,l){return function(){function a(a){this.fields=a;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this.dateFields=[];if(a){for(var b=[],d=0;d<a.length;d++){var e=a[d],k=e&&e.name;if(k){var c=k.toLowerCase().trim();this._fieldsMap.set(k,e);this._fieldsMap.set(c,e);b.push(c);if("date"===e.type||"esriFieldTypeDate"===e.type)this.dateFields.push(e),this._dateFieldsSet.add(e)}}b.sort();this.uid=b.join(",")}}a.prototype.destroy=function(){this._fieldsMap.clear()};
a.prototype.has=function(a){return null!=this.get(a)};a.prototype.get=function(a){return null!=a?this._fieldsMap.get(a)||this._fieldsMap.get(a.toLowerCase().trim()):void 0};a.prototype.isDateField=function(a){return this._dateFieldsSet.has(this.get(a))};return a}()})},"esri/layers/support/LabelClass":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./LabelExpressionInfo ./labelUtils ./types ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t){function v(a){return a?"service"===a.origin?!1:!a.layer||!m.isOfType(a.layer,"map-image"):!0}function x(a){return a?(a=z.exec(a))&&(a[1]||a[3])||null:null}var u=new g.default({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",
esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",
esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0}),w=/^\s*\{([^}]+)\}\s*$/i,z=
/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]))\s*$/i;return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.labelExpression=null;b.labelExpressionInfo=null;b.labelPlacement=null;b.maxScale=0;b.minScale=0;b.symbol=q.defaultTextSymbol2D;b.useCodedValues=void 0;b.where=null;return b}e(b,a);g=b;b.evaluateWhere=function(a,b){var c=function(a,b,c){switch(b){case "\x3d":return a==c?!0:!1;case "\x3c\x3e":return a!=c?!0:!1;case "\x3e":return a>c?!0:!1;case "\x3e\x3d":return a>=
c?!0:!1;case "\x3c":return a<c?!0:!1;case "\x3c\x3d":return a<=c?!0:!1}return!1};try{if(null==a)return!0;var d=a.split(" ");if(3===d.length)return c(b[d[0]],d[1],d[2]);if(7===d.length){var e=c(b[d[0]],d[1],d[2]),f=d[3],g=c(b[d[4]],d[5],d[6]);switch(f){case "AND":return e&&g;case "OR":return e||g}}return!1}catch(I){console.log("Error.: can't parse \x3d "+a)}};b.prototype.readLabelExpression=function(a,b){b=b.labelExpressionInfo;if(!b||!b.value&&!b.expression)return a};b.prototype.writeLabelExpression=
function(a,b,c,d){this.labelExpressionInfo&&v(d)&&(null!=this.labelExpressionInfo.value?a=this.labelExpressionInfo.value.replace(/\{/g,"[").replace(/\}/g,"]"):null!=this.labelExpressionInfo.expression&&(d=x(this.labelExpressionInfo.expression))&&(a="["+d+"]"));null!=a&&(b[c]=a)};b.prototype.writeLabelExpressionInfo=function(a,b,c,d){if(null==a&&null!=this.labelExpression&&v(d))a=new p({expression:this.getLabelExpressionArcade()});else if(!a)return;a=a.toJSON(d);a.expression&&(b[c]=a)};b.prototype.writeMaxScale=
function(a,b){if(a||this.minScale)b.maxScale=a};b.prototype.writeMinScale=function(a,b){if(a||this.maxScale)b.minScale=a};b.prototype.getLabelExpression=function(){var a={expression:"",type:"none"};this.labelExpressionInfo?this.labelExpressionInfo.value?(a.expression=this.labelExpressionInfo.value,a.type="conventional"):this.labelExpressionInfo.expression&&(a.expression=this.labelExpressionInfo.expression,a.type="arcade"):null!=this.labelExpression&&(a.expression=this.labelExpression.replace(/\[/g,
"{").replace(/\]/g,"}"),a.type="conventional");return a};b.prototype.getLabelExpressionArcade=function(){var a=this.getLabelExpression();if(!a)return null;switch(a.type){case "conventional":return r.convertTemplatedStringToArcade(a.expression);case "arcade":return a.expression}return null};b.prototype.getLabelExpressionSingleField=function(){var a=this.getLabelExpression();if(!a)return null;switch(a.type){case "conventional":return(a=a.expression.match(w))&&a[1].trim()||null;case "arcade":return x(a.expression)}return null};
b.prototype.clone=function(){return new g({labelExpression:this.labelExpression,labelExpressionInfo:c.clone(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:c.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};var g;l([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);l([f.property({type:String,json:{write:{allowNull:!0}}})],b.prototype,"labelExpression",void 0);l([f.reader("labelExpression")],
b.prototype,"readLabelExpression",null);l([f.writer("labelExpression")],b.prototype,"writeLabelExpression",null);l([f.property({type:p,json:{write:{overridePolicy:function(a,b,c){return v(c)?{allowNull:!0}:{enabled:!1}}}}})],b.prototype,"labelExpressionInfo",void 0);l([f.writer("labelExpressionInfo")],b.prototype,"writeLabelExpressionInfo",null);l([f.property({type:u.apiValues,json:{type:u.jsonValues,read:u.read,write:u.write}})],b.prototype,"labelPlacement",void 0);l([f.property({type:Number})],
b.prototype,"maxScale",void 0);l([f.writer("maxScale")],b.prototype,"writeMaxScale",null);l([f.property({type:Number})],b.prototype,"minScale",void 0);l([f.writer("minScale")],b.prototype,"writeMinScale",null);l([f.property({types:d.symbolTypesLabel,json:{origins:{"web-scene":{types:d.symbolTypesLabel3D,read:t.read,write:t.writeTarget,default:null}},read:t.read,write:t.writeTarget,default:null}})],b.prototype,"symbol",void 0);l([f.property({type:Boolean,json:{write:!0}})],b.prototype,"useCodedValues",
void 0);l([f.property({type:String,json:{write:!0}})],b.prototype,"where",void 0);return b=g=l([f.subclass("esri.layers.support.LabelClass")],b)}(f.declared(n))})},"esri/layers/support/LabelExpressionInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./labelUtils".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||
this;b.value=null;b.expression=null;return b}l(b,a);c=b;b.prototype.readExpression=function(a,b){return b.value?d.convertTemplatedStringToArcade(b.value):a};b.prototype.writeExpression=function(a,b,c){null!=this.value&&(a=d.convertTemplatedStringToArcade(this.value));b[c]=a};b.prototype.clone=function(){return new c({value:this.value,expression:this.expression})};var c;e([h.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);e([h.property({type:String,json:{write:{allowNull:!0}}})],b.prototype,
"expression",void 0);e([h.reader("expression",["expression","value"])],b.prototype,"readExpression",null);e([h.writer("expression")],b.prototype,"writeExpression",null);return b=c=e([h.subclass("esri.layers.support.LabelExpressionInfo")],b)}(h.declared(k))})},"esri/layers/support/labelUtils":function(){define(["require","exports","../../core/string"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});var e=/__begin__/ig,k=/__end__/ig,h=/^__begin__/i,d=/__end__$/i;b.convertTemplatedStringToArcade=
function(a){a?(a=l.replace(a,function(a){return'__begin__$feature["'+a+'"]__end__'}),a=h.test(a)?a.replace(h,""):'"'+a,a=d.test(a)?a.replace(d,""):a+'"',a=a.replace(e,'" + ').replace(k,' + "')):a='""';return a}})},"esri/symbols/support/defaults":function(){define("require exports ../../core/compilerUtils ../../core/maybe ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),function(a,b,l,e,k,h,d,g,n){Object.defineProperty(b,"__esModule",{value:!0});
b.defaultPointSymbol2D=d.fromJSON(n.defaultPointSymbolJSON);b.defaultPolylineSymbol2D=h.fromJSON(n.defaultPolylineSymbolJSON);b.defaultPolygonSymbol2D=k.fromJSON(n.defaultPolygonSymbolJSON);b.defaultTextSymbol2D=g.fromJSON(n.defaultTextSymbolJSON);b.getDefaultSymbol2D=function(a){if(e.isNone(a))return null;switch(a.type){case "mesh":break;case "point":case "multipoint":return b.defaultPointSymbol2D;case "polyline":return b.defaultPolylineSymbol2D;case "polygon":case "extent":return b.defaultPolygonSymbol2D;
default:l.neverReached(a)}return null};b.errorPointSymbol2D=d.fromJSON(n.errorPointSymbolJSON);b.errorPolylineSymbol2D=h.fromJSON(n.errorPolylineSymbolJSON);b.errorPolygonSymbol2D=k.fromJSON(n.errorPolygonSymbolJSON)})},"esri/symbols/support/defaultsJSON":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.defaultColor=[252,146,31,255];b.defaultOutlineColor=[153,153,153,255];b.defaultPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",size:6,
color:b.defaultColor,outline:{width:.75,color:[153,153,153,255]}};b.defaultPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",width:.75,color:b.defaultColor};b.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{width:.75,color:[255,255,255,191]}};b.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",
xoffset:0,yoffset:0,angle:0};b.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};b.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};b.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}})},"esri/layers/support/labelingInfo":function(){define(["require","exports","./LabelClass"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});var e=/\[([^\[\]]+)\]/gi;
b.reader=function(a,b,d){var g=this;return a?a.map(function(a){var c=new l;c.read(a,d);if(c.labelExpression){var f=b.fields||b.layerDefinition&&b.layerDefinition.fields||g.fields;c.labelExpression=c.labelExpression.replace(e,function(a,b){a:if(f){a=b.toLowerCase();for(var c=0;c<f.length;c++){var d=f[c].name;if(d.toLowerCase()===a){b=d;break a}}}return"["+b+"]"})}return c}):null}})},"esri/layers/support/layerSourceUtils":function(){define(["require","exports","../../core/jsonMap","../../core/lang"],
function(a,b,l,e){function k(a){return null!=a&&a.hasOwnProperty("mapLayerId")}function h(a){return null!=a&&a.hasOwnProperty("dataSource")}function d(a){if(!a)return a;k(a)&&(a.type=b.MAPLAYER);if(h(a)&&(a.type=b.DATALAYER,!a.dataSource.type)){var c=a.dataSource;c.workspaceId?c.type=c.gdbVersion?"table":c.query||c.oidFields?"query-table":"raster":c.leftTableKey&&c.rightTableKey&&c.leftTableSource&&c.rightTableSource&&(c.type="join-table",c.leftTableSource=d(c.leftTableSource),c.rightTableSource=
d(c.rightTableSource))}return a}function g(a){var d={};if(a.type===b.MAPLAYER)d.mapLayerId=a.mapLayerId,a.gdbVersion&&(d.gdbVersion=a.gdbVersion);else if(a.type===b.DATALAYER){a.fields&&(d.fields=a.fields);var h;h=a.dataSource;var m;switch(h.type){case "table":m={dataSourceName:h.dataSourceName,workspaceId:h.workspaceId,gdbVersion:h.gdbVersion};break;case "query-table":m={geometryType:c.toJSON(h.geometryType),workspaceId:h.workspaceId,query:h.query,oidFields:h.oidFields,spatialReference:h.spatialReference};
break;case "join-table":m={leftTableSource:g(h.leftTableSource),rightTableSource:g(h.rightTableSource),leftTableKey:h.leftTableKey,rightTableKey:h.rightTableKey,joinType:r.toJSON(h.joinType)};break;case "raster":m={workspaceId:h.workspaceId,dataSourceName:h.dataSourceName}}m.type=p.toJSON(h.type);h=e.fixJson(m);d.dataSource=h}d.type=f.toJSON(a.type);return e.fixJson(d)}function n(a){var d={};if(f.fromJSON(a.type)===b.MAPLAYER)d.mapLayerId=a.mapLayerId,a.gdbVersion&&(d.gdbVersion=a.gdbVersion);else if(f.fromJSON(a.type)===
b.DATALAYER){a.fields&&(d.fields=a.fields);var g;g=a.dataSource;var h;switch(g.type){case "table":h={dataSourceName:g.dataSourceName,workspaceId:g.workspaceId,gdbVersion:g.gdbVersion};break;case "queryTable":h={geometryType:c.fromJSON(g.geometryType),workspaceId:g.workspaceId,query:g.query,oidFields:g.oidFields,spatialReference:g.spatialReference};break;case "joinTable":h={leftTableSource:n(g.leftTableSource),rightTableSource:n(g.rightTableSource),leftTableKey:g.leftTableKey,rightTableKey:g.rightTableKey,
joinType:r.fromJSON(g.joinType)};break;case "raster":h={workspaceId:g.workspaceId,dataSourceName:g.dataSourceName}}h.type=p.fromJSON(g.type);g=e.fixJson(h);d.dataSource=g}d.type=f.fromJSON(a.type);return e.fixJson(d)}Object.defineProperty(b,"__esModule",{value:!0});b.MAPLAYER="map-layer";b.DATALAYER="data-layer";var c=new l.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),f=new l.default({mapLayer:b.MAPLAYER,
dataLayer:b.DATALAYER}),p=new l.default({joinTable:"join-table",queryTable:"query-table"}),r=new l.default({esriLeftOuterJoin:"left-outer-join",esriLeftInnerJoin:"left-inner-join"});b.isMapLayerSource=k;b.isDataLayerSource=h;b.castSource=d;b.sourceToJSON=g;b.sourceFromJSON=n})},"esri/layers/support/Relationship":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d){var g=new k.default({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});return function(a){function b(b){b=a.call(this,b)||this;b.cardinality=null;b.id=null;b.keyField=null;b.name=null;b.relatedTableId=null;return b}l(b,a);e([d.property({json:{read:g.read,write:g.write}})],b.prototype,"cardinality",void 0);e([d.property({json:{read:!0,write:!0}})],b.prototype,"id",void 0);e([d.property({json:{read:!0,
write:!0}})],b.prototype,"keyField",void 0);e([d.property({json:{read:!0,write:!0}})],b.prototype,"name",void 0);e([d.property({json:{read:!0,write:!0}})],b.prototype,"relatedTableId",void 0);return b=e([d.subclass("esri.layers.support.Relationship")],b)}(d.declared(h))})},"esri/support/popupUtils":function(){define("require exports ../core/tsSupport/assignHelper dojo/i18n!../widgets/Popup/nls/Popup ../PopupTemplate ../popup/content ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,l,e,k,h,d,g){function n(a,b){var d=a;b.ignoreFieldTypes&&(a=a.filter(function(a){return-1===b.ignoreFieldTypes.indexOf(a.type)}));if(0===a.length)return null;var e=b.maximumFields&&a.length>b.maximumFields;e&&(a=a.slice(0,b.maximumFields));a===d&&(a=a.slice());a.sort(c);return{fields:a,limitExceeded:e}}function c(a,b){return"oid"===a.type?-1:"oid"===b.type?1:r(a)?-1:r(b)?1:(a.alias||a.name).toLocaleLowerCase().localeCompare((b.alias||b.name).toLocaleLowerCase())}function f(a){return a.map(function(a){return new d({fieldName:a.name,
label:a.alias,format:p(a),visible:!0})})}function p(a){switch(a.type){case "small-integer":case "integer":case "single":return new g({digitSeparator:!0,places:0});case "double":return new g({digitSeparator:!0,places:2});case "date":return new g({dateFormat:"long-month-day-year"});default:return null}}function r(a){if("name"===(a.name&&a.name.toLowerCase())||"name"===(a.alias&&a.alias.toLowerCase()))return!0}Object.defineProperty(b,"__esModule",{value:!0});b.createPopupTemplate=function(a,b){var c=
a.fields;a=a.title;if(!c)return null;b=l({},m,b);c=n(c,b);if(!c)return null;a:{b=0;for(var d=c.fields;b<d.length;b++){var g=d[b];if(r(g)){a=a+": {"+g.name+"}";break a}}}d=c.limitExceeded;b=[new h.FieldsContent,new h.AttachmentsContent];d&&b.push(new h.TextContent({text:"\x3csmall\x3e"+e.tooManyFields+"\x3c/small\x3e"}));c=f(c.fields);return new k({title:a,content:b,fieldInfos:c})};var m={ignoreFieldTypes:["geometry","blob","raster","guid","xml"],maximumFields:75}})},"esri/tasks/support/AttachmentQuery":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),
function(a,b,l,e,k,h,d,g){a=function(a){function b(b){b=a.call(this,b)||this;b.attachmentTypes=null;b.globalIds=null;b.num=null;b.objectIds=null;b.returnMetadata=!1;b.size=null;b.start=null;b.where=null;return b}l(b,a);f=b;b.prototype.writeStart=function(a,b,c){b.resultOffset=this.start;b.resultRecordCount=this.num||10};b.prototype.clone=function(){return new f(h.clone({attachmentTypes:this.attachmentTypes,where:this.where,globalIds:this.globalIds,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,
size:this.size,start:this.start}))};var f;e([d.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);e([d.property({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0);e([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);e([d.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);e([d.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0);e([d.property({type:[Number],
json:{write:!0}})],b.prototype,"size",void 0);e([d.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);e([d.writer("start"),d.writer("num")],b.prototype,"writeStart",null);e([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);return b=f=e([d.subclass("esri.tasks.support.AttachmentQuery")],b)}(d.declared(k));a.from=g.default(a);return a})},"esri/tasks/support/Query":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../geometry ../../symbols ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../symbols/support/jsonUtils ./QuantizationParameters ./StatisticDefinition".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v){var x=new n.default({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),u=new n.default({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});a=function(a){function b(b){b=a.call(this,b)||this;b.cacheHint=!1;b.datumTransformation=null;b.distance=void 0;b.gdbVersion=null;b.geometry=null;b.geometryPrecision=void 0;b.groupByFieldsForStatistics=null;b.having=null;b.historicMoment=null;b.maxAllowableOffset=void 0;b.maxRecordCountFactor=1;b.multipatchOption=null;b.num=void 0;b.objectIds=null;b.orderByFields=
null;b.outFields=null;b.outSpatialReference=null;b.outStatistics=null;b.parameterValues=null;b.pixelSize=null;b.quantizationParameters=null;b.rangeValues=null;b.relationParameter=null;b.resultType=null;b.returnCentroid=!1;b.returnDistinctValues=!1;b.returnExceededLimitFeatures=!0;b.returnGeometry=!1;b.returnQueryGeometry=!1;b.returnM=void 0;b.returnZ=void 0;b.source=null;b.spatialRelationship="intersects";b.start=void 0;b.sqlFormat=null;b.text=null;b.timeExtent=null;b.units=null;b.where=null;return b}
l(b,a);c=b;b.prototype.castDatumTransformation=function(a){return"number"===typeof a||"object"===typeof a?a:null};b.prototype.writeHistoricMoment=function(a,b,c){b.historicMoment=a&&a.getTime()};b.prototype.writeParameterValues=function(a,b,c){if(a){c={};for(var d in a){var e=a[d];Array.isArray(e)?c[d]=e.map(function(a){return a instanceof Date?a.getTime():a}):c[d]=e instanceof Date?e.getTime():e}b.parameterValues=c}};b.prototype.writeStart=function(a,b,c){b.resultOffset=this.start;b.resultRecordCount=
this.num||10;b.where="1\x3d1"};b.prototype.writeWhere=function(a,b,c){b.where=a||"1\x3d1"};b.prototype.clone=function(){return new c(f.clone({cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,
maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,
returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,source:this.source,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};var c;b.MAX_MAX_RECORD_COUNT_FACTOR=5;e([p.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,
"cacheHint",void 0);e([p.property({json:{write:!0}})],b.prototype,"datumTransformation",void 0);e([p.cast("datumTransformation")],b.prototype,"castDatumTransformation",null);e([p.property({type:Number,json:{write:{overridePolicy:function(a){return{enabled:0<a}}}}})],b.prototype,"distance",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);e([p.property({types:h.geometryTypes,json:{read:m.fromJSON,write:!0}})],b.prototype,"geometry",void 0);e([p.property({type:Number,
json:{write:!0}})],b.prototype,"geometryPrecision",void 0);e([p.property({type:[String],json:{write:!0}})],b.prototype,"groupByFieldsForStatistics",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"having",void 0);e([p.property({type:Date})],b.prototype,"historicMoment",void 0);e([p.writer("historicMoment")],b.prototype,"writeHistoricMoment",null);e([p.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);e([p.property({type:Number,cast:function(a){return 1>
a?1:a>c.MAX_MAX_RECORD_COUNT_FACTOR?c.MAX_MAX_RECORD_COUNT_FACTOR:a},json:{write:{overridePolicy:function(a){return{enabled:1<a}}}}})],b.prototype,"maxRecordCountFactor",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"multipatchOption",void 0);e([p.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);e([p.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);e([p.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",
void 0);e([p.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);e([p.property({type:k.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);e([p.property({type:[v],json:{write:!0}})],b.prototype,"outStatistics",void 0);e([p.property({json:{write:!0}})],b.prototype,"parameterValues",void 0);e([p.writer("parameterValues")],b.prototype,"writeParameterValues",null);e([p.property({types:d.symbolTypes,json:{read:q.read,
write:!0}})],b.prototype,"pixelSize",void 0);e([p.property({type:t.default,json:{write:!0}})],b.prototype,"quantizationParameters",void 0);e([p.property({type:[Object],json:{write:!0}})],b.prototype,"rangeValues",void 0);e([p.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(a){return{enabled:"relation"===this.spatialRelationship}}}}})],b.prototype,"relationParameter",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"resultType",
void 0);e([p.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnCentroid",void 0);e([p.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnDistinctValues",void 0);e([p.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:!a}}}}})],b.prototype,"returnExceededLimitFeatures",void 0);e([p.property({type:Boolean,json:{write:!0}})],b.prototype,"returnGeometry",void 0);e([p.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnQueryGeometry",void 0);e([p.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnM",void 0);e([p.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnZ",void 0);e([p.property({json:{write:!0}})],b.prototype,"source",void 0);e([p.property({type:String,json:{read:{source:"spatialRel",reader:x.read},write:{target:"spatialRel",
writer:x.write}}})],b.prototype,"spatialRelationship",void 0);e([p.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);e([p.writer("start"),p.writer("num")],b.prototype,"writeStart",null);e([p.property({type:String,json:{write:!0}})],b.prototype,"sqlFormat",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([p.property({type:g,json:{write:!0}})],b.prototype,"timeExtent",void 0);e([p.property({type:String,json:{read:u.read,write:{writer:u.write,
overridePolicy:function(a){return{enabled:a&&0<this.distance}}}}})],b.prototype,"units",void 0);e([p.property({type:String,json:{write:{overridePolicy:function(a){return{enabled:null!=a||0<this.start}}}}})],b.prototype,"where",void 0);e([p.writer("where")],b.prototype,"writeWhere",null);return b=c=e([p.subclass("esri.tasks.support.Query")],b)}(p.declared(c));a.from=r.default(a);return a})},"esri/tasks/support/QuantizationParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g,n){Object.defineProperty(b,"__esModule",{value:!0});var c=new h.default({upperLeft:"upper-left",lowerLeft:"lower-left"});a=function(a){function b(b){b=a.call(this,b)||this;b.extent=null;b.mode="view";b.originPosition="upper-left";b.tolerance=1;return b}l(b,a);d=b;b.prototype.clone=function(){return new d(g.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};var d;e([n.property({type:k.Extent,json:{write:!0}})],b.prototype,
"extent",void 0);e([n.property({type:["view","edit"],json:{write:!0}})],b.prototype,"mode",void 0);e([n.property({type:String,json:{read:c.read,write:c.write}})],b.prototype,"originPosition",void 0);e([n.property({type:Number,json:{write:!0}})],b.prototype,"tolerance",void 0);return b=d=e([n.subclass("esri.tasks.support.QuantizationParameters")],b)}(n.declared(d));b.default=a})},"esri/tasks/support/StatisticDefinition":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){return function(a){function b(b){b=a.call(this)||this;b.maxPointCount=void 0;b.maxRecordCount=void 0;b.maxVertexCount=void 0;b.onStatisticField=null;b.outStatisticFieldName=null;b.statisticType=null;return b}l(b,a);d=b;b.prototype.clone=function(){return new d({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType})};
var d;e([h.property({type:Number,json:{write:!0}})],b.prototype,"maxPointCount",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"maxRecordCount",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"maxVertexCount",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"outStatisticFieldName",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"statisticType",
void 0);return b=d=e([h.subclass("esri.tasks.support.StatisticDefinition")],b)}(h.declared(k))})},"esri/tasks/support/RelationshipQuery":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(a,b,l,e,k,h,d,g,n){a=function(a){function b(b){b=a.call(this,b)||this;b.gdbVersion=null;b.geometryPrecision=
void 0;b.historicMoment=null;b.maxAllowableOffset=void 0;b.objectIds=null;b.outFields=null;b.outSpatialReference=null;b.relationshipId=void 0;b.returnGeometry=!1;b.source=null;b.where=null;return b}l(b,a);c=b;b.prototype._writeHistoricMoment=function(a,b){b.historicMoment=a&&a.getTime()};b.prototype.clone=function(){return new c(d.clone({gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&this.historicMoment.getTime(),maxAllowableOffset:this.maxAllowableOffset,
objectIds:this.objectIds,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,returnGeometry:this.returnGeometry,source:this.source,where:this.where}))};var c;e([g.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);e([g.property({type:Date})],b.prototype,"historicMoment",void 0);e([g.writer("historicMoment")],b.prototype,"_writeHistoricMoment",
null);e([g.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);e([g.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);e([g.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);e([g.property({type:k.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);e([g.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);e([g.property({json:{write:!0}})],b.prototype,
"returnGeometry",void 0);e([g.property({json:{write:!0}})],b.prototype,"source",void 0);e([g.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);return b=c=e([g.subclass("esri.tasks.support.RelationshipQuery")],b)}(g.declared(h));a.from=n.default(a);return a})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/tsSupport/assignHelper ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper ../../../request ../../../core/Accessor ../../../core/Error ../../../core/Loadable ../../../core/maybe ../../../core/promiseUtils ../../../core/urlUtils ../../../core/accessorSupport/decorators ../../../tasks/QueryTask ../../../tasks/operations/queryAttachments".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.type="feature-layer";return b}l(b,a);b.prototype.load=function(a){a=p.isSome(a)?a.signal:null;this.addResolvingPromise(this._fetchService(a));return this.when()};Object.defineProperty(b.prototype,"queryTask",{get:function(){var a=this.layer,b=a.parsedUrl,c=a.gdbVersion;return new t({url:null!=a.dynamicDataSource?b.path+"?"+m.objectToQuery(b.query):
b.path,gdbVersion:c})},enumerable:!0,configurable:!0});b.prototype.addAttachment=function(a,b){var c=this;return this.load().then(function(){var d=a.attributes[c.layer.objectIdField],e=c.layer.parsedUrl.path+"/"+d+"/addAttachment",f=k({f:"json"},c.layer.parsedUrl.query),f=c._getFormDataForAttachment(b,f);return g(e,{body:f}).then(function(a){return c._createFeatureEditResult(a.data.addAttachmentResult)}).catch(function(a){return r.reject(c._createAttachmentErrorResult(d,a))})})};b.prototype.updateAttachment=
function(a,b,c){var d=this;return this.load().then(function(){var e=a.attributes[d.layer.objectIdField],f=d.layer.parsedUrl.path+"/"+e+"/updateAttachment",h=k({f:"json"},d.layer.parsedUrl.query,{attachmentId:b}),h=d._getFormDataForAttachment(c,h);return g(f,{body:h}).then(function(a){return d._createFeatureEditResult(a.data.updateAttachmentResult)}).catch(function(a){return r.reject(d._createAttachmentErrorResult(e,a))})})};b.prototype.applyEdits=function(a){var b=this;return this.load().then(function(){var c=
a.addFeatures.map(b._serializeFeature,b),d=a.updateFeatures.map(b._serializeFeature,b),e=b._getFeatureIds(a.deleteFeatures),c={f:"json",adds:c.length?JSON.stringify(c):null,updates:d.length?JSON.stringify(d):null,deletes:e.length?e.join(","):null};return g(b.layer.parsedUrl.path+"/applyEdits",{query:c,method:"post",responseType:"json"})}).then(function(a){return b._createEditsResult(a)})};b.prototype.deleteAttachments=function(a,b){var c=this;return this.load().then(function(){var d=a.attributes[c.layer.objectIdField];
return g(c.layer.parsedUrl.path+"/"+d+"/deleteAttachments",{query:k({f:"json"},c.layer.parsedUrl.query,{attachmentIds:b.join(",")}),method:"post",responseType:"json"}).then(function(a){return a.data.deleteAttachmentResults.map(c._createFeatureEditResult)}).catch(function(a){return r.reject(c._createAttachmentErrorResult(d,a))})})};b.prototype.queryAttachments=function(a,b){var c=this;void 0===b&&(b={});var d=this.layer.parsedUrl,e=d.path;return this.load().then(function(){var f=k({},b,{query:k({},
d.query,{f:"json"}),responseType:"json"});if(!c.layer.get("capabilities.operations.supportsQueryAttachments")){for(var h=a.objectIds,m=[],l=0;l<h.length;l++)m.push(g(e+"/"+h[l]+"/attachments",f));return r.all(m).then(function(a){return h.map(function(b,c){return{parentObjectId:b,attachmentInfos:a[c].data.attachmentInfos}})}).then(function(a){return v.processAttachmentQueryResult(a,e)})}return c.queryTask.executeAttachmentQuery(a,f)})};b.prototype.queryFeatures=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.execute(a,
b)})};b.prototype.queryFeaturesJSON=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeJSON(a,b)})};b.prototype.queryObjectIds=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeForIds(a,b)})};b.prototype.queryFeatureCount=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeForCount(a,b)})};b.prototype.queryExtent=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeForExtent(a,
b)})};b.prototype.queryRelatedFeatures=function(a,b){var c=this;return this.load().then(function(){return c.queryTask.executeRelationshipQuery(a,b)})};b.prototype._fetchService=function(a){return d(this,void 0,void 0,function(){var b,c;return h(this,function(d){switch(d.label){case 0:return(b=this.layer.resourceInfo)?(this.layerDefinition=b,[2]):[4,g(this.layer.parsedUrl.path,{query:k({f:"json"},this.layer.parsedUrl.query),responseType:"json",signal:a})];case 1:return this.layerDefinition=c=d.sent().data,
[2]}})})};b.prototype._serializeFeature=function(a){var b=a.geometry;a=a.attributes;return p.isNone(b)?{attributes:a}:"mesh"===b.type||"extent"===b.type?null:{geometry:b.toJSON(),attributes:a}};b.prototype._getFeatureIds=function(a){var b=a[0];return b?"objectId"in b?this._getIdsFromFeatureIdentifier(a):this._getIdsFromFeatures(a):[]};b.prototype._getIdsFromFeatures=function(a){var b=this.layer.objectIdField;return a.map(function(a){return a.attributes&&a.attributes[b]})};b.prototype._getIdsFromFeatureIdentifier=
function(a){return a.map(function(a){return a.objectId})};b.prototype._createEditsResult=function(a){a=a.data;return{addFeatureResults:a.addResults?a.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:a.updateResults?a.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:a.deleteResults?a.deleteResults.map(this._createFeatureEditResult,this):[]}};b.prototype._createFeatureEditResult=function(a){var b=!0===a.success?null:a.error||{code:void 0,description:void 0};
return{objectId:a.objectId,globalId:a.globalId,error:b?new c("feature-layer-source:edit-failure",b.description,{code:b.code}):null}};b.prototype._createAttachmentErrorResult=function(a,b){return{objectId:a,globalId:null,error:new c("feature-layer-source:attachment-failure",b.details.messages&&b.details.messages[0]||b.message,{code:b.details.httpStatus||b.details.messageCode})}};b.prototype._getFormDataForAttachment=function(a,b){if(a=a instanceof FormData?a:a&&a.elements?new FormData(a):null)for(var c in b){var d=
b[c];null!=d&&(a.set?a.set(c,d):a.append(c,d))}return a};e([q.property()],b.prototype,"type",void 0);e([q.property({constructOnly:!0})],b.prototype,"layer",void 0);e([q.property({readOnly:!0,dependsOn:["layer.parsedUrl","layer.gdbVersion","layer.dynamicDataSource"]})],b.prototype,"queryTask",null);return b=e([q.subclass("esri.layers.graphics.sources.FeatureLayerSource")],b)}(q.declared(n,f));b.default=a})},"esri/tasks/QueryTask":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../geometry ../core/accessorSupport/decorators ./Task ./operations/query ./operations/queryAttachments ./operations/queryRelatedRecords ./support/AttachmentQuery ./support/FeatureSet ./support/Query ./support/RelationshipQuery".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t){return function(a){function b(b){b=a.call(this,b)||this;b.gdbVersion=null;b.source=null;return b}l(b,a);b.prototype.execute=function(a,b){return this.executeJSON(a,b).then(function(a){return m.fromJSON(a)})};b.prototype.executeJSON=function(a,b){return c.executeQuery(this.parsedUrl,this._normalizeQuery(a),h({},this.requestOptions,b)).then(function(a){return a.data})};b.prototype.executeForCount=function(a,b){return c.executeQueryForCount(this.parsedUrl,this._normalizeQuery(a),
h({},this.requestOptions,b)).then(function(a){return a.data.count})};b.prototype.executeForExtent=function(a,b){return c.executeQueryForExtent(this.parsedUrl,this._normalizeQuery(a),h({},this.requestOptions,b)).then(function(a){return{count:a.data.count,extent:d.Extent.fromJSON(a.data.extent)}})};b.prototype.executeForIds=function(a,b){return c.executeQueryForIds(this.parsedUrl,this._normalizeQuery(a),h({},this.requestOptions,b)).then(function(a){return a.data.objectIds})};b.prototype.executeRelationshipQuery=
function(a,b){a=t.from(a);if(this.gdbVersion||this.source)a=a.clone().set({gdbVersion:this.gdbVersion||a.gdbVersion,source:this.source||a.source});return p.executeRelationshipQuery(this.parsedUrl,a,h({},this.requestOptions,b)).then(function(a){var b=a.data,c={};Object.keys(b).forEach(function(a){return c[a]=m.fromJSON(b[a])});return c})};b.prototype.executeAttachmentQuery=function(a,b){var c=this;return f.executeAttachmentQuery(this.parsedUrl,r.from(a),h({},this.requestOptions,b)).then(function(a){return f.processAttachmentQueryResult(a.data.attachmentGroups,
c.parsedUrl.path)})};b.prototype._normalizeQuery=function(a){if(!this.gdbVersion&&!this.source)return a;a=q.from(a);return a.clone().set({gdbVersion:this.gdbVersion||a.gdbVersion,source:this.source||a.source})};e([g.property()],b.prototype,"gdbVersion",void 0);e([g.property()],b.prototype,"source",void 0);return b=e([g.subclass("esri.tasks.QueryTask")],b)}(g.declared(n))})},"esri/tasks/Task":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g,n){return function(a){function b(b){b=a.call(this)||this;b.requestOptions=null;b.url=null;return b}l(b,a);b.prototype.normalizeCtorArgs=function(a,b){return"string"!==typeof a?a:h({url:a},b)};Object.defineProperty(b.prototype,"parsedUrl",{get:function(){return this._parseUrl(this.url)},enumerable:!0,configurable:!0});b.prototype._parseUrl=function(a){return a?g.urlToObject(a):null};b.prototype._encode=function(a,b,c){var d={},e;for(e in a)if("declaredClass"!==e){var f=a[e];
if(null!=f&&"function"!==typeof f)if(Array.isArray(f)){d[e]=[];for(var g=0;g<f.length;g++)d[e][g]=this._encode(f[g])}else"object"===typeof f?f.toJSON&&(f=f.toJSON(c&&c[e]),d[e]=b?f:JSON.stringify(f)):d[e]=f}return d};e([n.property({readOnly:!0,dependsOn:["url"]})],b.prototype,"parsedUrl",null);e([n.property()],b.prototype,"requestOptions",void 0);e([n.property({type:String})],b.prototype,"url",void 0);return b=e([n.subclass("esri.tasks.Task")],b)}(n.declared(d))})},"esri/tasks/operations/query":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../core/asyncUtils ../../core/maybe ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/normalizeUtils ./pbfQueryUtils ./PBFWorker ./urlUtils @dojo/framework/shim/Promise".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p){function r(a,b){var c=a.geometry;a=a.toJSON();c&&(a.geometry=JSON.stringify(c),a.geometryType=g.getJsonType(c),a.inSR=c.spatialReference.wkid||JSON.stringify(c.spatialReference));a.groupByFieldsForStatistics&&(a.groupByFieldsForStatistics=a.groupByFieldsForStatistics.join(","));a.objectIds&&(a.objectIds=a.objectIds.join(","));a.orderByFields&&(a.orderByFields=a.orderByFields.join(","));!a.outFields||b&&(b.returnCountOnly||b.returnExtentOnly||b.returnIdsOnly)?delete a.outFields:
-1!==a.outFields.indexOf("*")?a.outFields="*":a.outFields=a.outFields.join(",");a.outSR?a.outSR=a.outSR.wkid||JSON.stringify(a.outSR):c&&(a.returnGeometry||a.returnCentroid)&&(a.outSR=a.inSR);a.returnGeometry&&delete a.returnGeometry;a.outStatistics&&(a.outStatistics=JSON.stringify(a.outStatistics));a.pixelSize&&(a.pixelSize=JSON.stringify(a.pixelSize));a.quantizationParameters&&(a.quantizationParameters=JSON.stringify(a.quantizationParameters));a.source&&(a.layer=JSON.stringify({source:a.source}),
delete a.source);if(a.timeExtent){c=a.timeExtent;b=c.start;c=c.end;if(null!=b||null!=c)a.time=b===c?b:(null==b?"null":b)+","+(null==c?"null":c);delete a.timeExtent}return a}function m(a,b,c,f,g){void 0===f&&(f={});var m="string"===typeof a?d.urlToObject(a):a;a=b.geometry?[b.geometry]:[];f.responseType="pbf"===c?"array-buffer":"json";return k.safeCast(n.normalizeCentralMeridian(a,null,f)).then(function(a){a=a&&a[0];h.isSome(a)&&(b=b.clone(),b.geometry=a);a=p.mapParameters(l({},m.query,{f:c},g,r(b,
g)));return e(m.path+"/query",l({},f,{query:a}))})}Object.defineProperty(b,"__esModule",{value:!0});b.queryToQueryStringParameters=r;b.executeQuery=function(a,b,c){return m(a,b,"json",c)};b.executeQueryPBF=function(a,b,d,e){return m(a,b,"pbf",e).then(function(a){var b=function(b){a.data=b;return a};return d.useWorker?(null==q&&(q=new f.PBFWorker),q.parseFeatureQuery(a.data,d).then(function(a){return b(a)})):b(c.parsePBFFeatureQuery(a.data,d))})};b.executeQueryForIds=function(a,b,c){return m(a,b,"json",
c,{returnIdsOnly:!0})};b.executeQueryForCount=function(a,b,c){return m(a,b,"json",c,{returnIdsOnly:!0,returnCountOnly:!0})};b.executeQueryForExtent=function(a,b,c){return m(a,b,"json",c,{returnExtentOnly:!0,returnCountOnly:!0}).then(function(a){var b=a.data;if(b.hasOwnProperty("extent"))return a;if(b.features)throw Error("Layer does not support extent calculation.");if(b.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return a})};var q})},"esri/tasks/operations/pbfQueryUtils":function(){define(["require",
"exports","./pbfFeatureServiceParser"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.parsePBFFeatureQuery=function(a,b){if((a=l.parseFeatureQuery(a,b).queryResult.featureResult)&&a.features&&a.features.length&&a.objectIdFieldName){b=a.objectIdFieldName;for(var e=0,d=a.features;e<d.length;e++){var g=d[e];g.attributes&&(g.objectId=g.attributes[b])}}return a}})},"esri/tasks/operations/pbfFeatureServiceParser":function(){define("require exports ../../core/Error ../../core/Logger ../../core/pbf ./pbfDehydratedFeatureSet ./pbfOptimizedFeatureSet".split(" "),
function(a,b,l,e,k,h,d){function g(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getSInt32();case 5:return a.getUInt32();case 6:return a.getInt64();case 7:return a.getUInt64();case 8:return a.getSInt64();case 9:return a.getBool();default:return a.skip(),null}return null}function n(a){for(var b={type:0>=p.length?null:p[0]};a.next();)switch(a.tag()){case 1:b.name=a.getString();break;case 2:var c=a.getEnum();b.type=
c>=p.length?null:p[c];break;case 3:b.alias=a.getString();break;case 4:c=a.getEnum();c=c>=r.length?null:r[c];b.sqlType=c;break;default:a.skip()}return b}function c(a,b,c,d){for(var e=a.createFeature(b),f=0;c.next();)switch(c.tag()){case 1:var h=d[f++].name;e.attributes[h]=g(c.getMessage());break;case 2:for(var h=a,m=b,k=c.getMessage(),l=h.createGeometry(m),m=2+(m.hasZ?1:0)+(m.hasM?1:0);k.next();)switch(k.tag()){case 2:for(var n=k.getUInt32(),n=k.pos()+n,q=0;k.pos()<n;)h.addLength(l,k.getUInt32(),q++);
break;case 3:for(var n=k.getUInt32(),n=k.pos()+n,p=q=0;k.pos()<n;)h.addCoordinate(l,k.getSInt64(),p,q),q++,q===m&&(p++,q=0);break;default:k.skip()}e.geometry=l;break;case 4:h=a;k=c.getMessage();for(l=h.createPointGeometry(b);k.next();)switch(k.tag()){case 3:m=k.getUInt32();m=k.pos()+m;for(n=0;k.pos()<m;)h.addCoordinatePoint(l,k.getSInt64(),0,n++);break;default:k.skip()}e.centroid=l;break;default:c.skip()}return e}Object.defineProperty(b,"__esModule",{value:!0});var f=e.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),
p="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),r="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
m=["upperLeft","lowerLeft"];b.parseFeatureQuery=function(a,b){b=b&&"dehydrated"===b.type?new h.Context(b):new d.Context(b);try{var e=new k(new Uint8Array(a),new DataView(a));for(a={};e.next();)switch(e.tag()){case 2:for(var g=a,q=b,p=e.getMessage(),r={};p.next();)switch(p.tag()){case 1:var t=q,y=p.getMessage(),B=t.createFeatureResult();B.geometryType=0>=t.geometryTypes.length?null:t.geometryTypes[0];for(var D=!1;y.next();)switch(y.tag()){case 1:B.objectIdFieldName=y.getString();break;case 3:B.globalIdFieldName=
y.getString();break;case 4:B.geohashFieldName=y.getString();break;case 5:for(var C=y.getMessage(),E={};C.next();)switch(C.tag()){case 1:E.shapeAreaFieldName=C.getString();break;case 2:E.shapeLengthFieldName=C.getString();break;case 3:E.units=C.getString();break;default:C.skip()}B.geometryProperties=E;break;case 7:var F=y.getEnum();B.geometryType=F>=t.geometryTypes.length?null:t.geometryTypes[F];break;case 8:for(var G=y.getMessage(),H=t.createSpatialReference();G.next();)switch(G.tag()){case 1:H.wkid=
G.getUInt32();break;case 5:H.wkt=G.getString();break;default:G.skip()}B.spatialReference=H;break;case 10:B.hasZ=y.getBool();break;case 11:B.hasM=y.getBool();break;case 12:for(var O=y.getMessage(),I={originPosition:0>=m.length?null:m[0]};O.next();)switch(O.tag()){case 1:var L=O.getEnum();I.originPosition=L>=m.length?null:m[L];break;case 2:for(var J=O.getMessage(),E=[0,0,0,0];J.next();)switch(J.tag()){case 1:E[0]=J.getDouble();break;case 2:E[1]=J.getDouble();break;case 4:E[2]=J.getDouble();break;case 3:E[3]=
J.getDouble();break;default:J.skip()}I.scale=E;break;case 3:for(var M=O.getMessage(),E=[0,0,0,0];M.next();)switch(M.tag()){case 1:E[0]=M.getDouble();break;case 2:E[1]=M.getDouble();break;case 4:E[2]=M.getDouble();break;case 3:E[3]=M.getDouble();break;default:M.skip()}I.translate=E;break;default:O.skip()}B.transform=I;break;case 9:var P=y.getBool();B.exceededTransferLimit=P;break;case 13:t.addField(B,n(y.getMessage()));break;case 15:D||(t.prepareFeatures(B),D=!0);t.addFeature(B,c(t,B,y.getMessage(),
B.fields));break;default:y.skip()}t.finishFeatureResult(B);r.featureResult=B;break;default:p.skip()}g.queryResult=r;break;default:e.skip()}return a}catch(Q){return e=new l("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:Q}),f.error(e),{queryResult:{featureResult:b.createFeatureResult()}}}}})},"esri/core/pbf":function(){define(["require","exports","./has"],function(a,b,l){var e=l("esri-text-decoder")?TextDecoder:null;return function(){function a(a,b,g,k){this._tag=0;this._dataType=
99;this._data=a;this._dataView=b;this._pos=g||0;this._end=k||a.byteLength;this._textDecoder=e?new e("utf-8"):null}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var b=this._decodeVarint();this._tag=b>>3;this._dataType=b&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=
function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;
a=(a|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return a};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,b=this._pos,a=
a.getUint32(b,!0)+4294967296*a.getUint32(b+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*a.getInt32(b+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);
return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),b=this._pos,b=this._toString(this._data,b,b+a);this._skip(a);return b};a.prototype.getBytes=function(){var a=this._getLength(),b=this._pos,b=this._toBytes(this._data,b,b+a);this._skip(a);return b};a.prototype.getMessage=function(){var b=this._getLength(),d=this._pos,d=new a(this._data,this._dataView,d,d+b);this._skip(b);return d};
a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,b=this._pos,e=0,k;if(10<=this._end-b){if(k=a[b++],e|=k&127,0!==(k&128)&&(k=a[b++],e|=(k&127)<<7,
0!==(k&128)&&(k=a[b++],e|=(k&127)<<14,0!==(k&128)&&(k=a[b++],e|=(k&127)<<21,0!==(k&128)&&(k=a[b++],e+=268435456*(k&127),0!==(k&128)&&(k=a[b++],e+=34359738368*(k&127),0!==(k&128)&&(k=a[b++],e+=4398046511104*(k&127),0!==(k&128)&&(k=a[b++],e+=562949953421312*(k&127),0!==(k&128)&&(k=a[b++],e+=72057594037927936*(k&127),0!==(k&128)&&(k=a[b++],e+=0x7fffffffffffffff*(k&127),0!==(k&128)))))))))))throw Error("Varint too long!");}else{for(var c=1;b!==this._end;){k=a[b];if(0===(k&128))break;++b;e+=(k&127)*c;
c*=128}if(b===this._end)throw Error("Varint overrun!");++b;e+=k*c}this._pos=b;return e};a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,b,e){e=Math.min(this._end,e);if(this._textDecoder)return a=a.subarray(b,e),this._textDecoder.decode(a);for(var d="",c="";b<e;++b){var f=a[b];f&128?c+="%"+f.toString(16):
(d+=decodeURIComponent(c)+String.fromCharCode(f),c="")}c.length&&(d+=decodeURIComponent(c));return d};a.prototype._toBytes=function(a,b,e){e=Math.min(this._end,e);return new Uint8Array(a.buffer,b,e-b)};return a}()})},"esri/tasks/operations/pbfDehydratedFeatureSet":function(){define("require exports ../../Graphic ../../core/compilerUtils ../../geometry/SpatialReference ../../layers/graphics/dehydratedFeatures ../../layers/support/Field".split(" "),function(a,b,l,e,k,h,d){function g(a,b,c,d){return b}
function n(a,b,c,d){switch(c){case 0:return r(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1]}}function c(a,b,c,d){switch(c){case 0:return r(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];case 2:return r(a,b,2)}}function f(a,b,c,d){switch(c){case 0:return r(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];case 2:return r(a,b,3)}}function p(a,b,c,d){switch(c){case 0:return r(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];case 2:return r(a,b,3);case 3:return r(a,b,3)}}function r(a,
b,c){return a.translate[c]+b*a.scale[c]}Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a){this.options=a;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=g;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}a.prototype.createFeatureResult=function(){return new h.DehydratedFeatureSetClass};
a.prototype.finishFeatureResult=function(a){this.options.applyTransform&&(a.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0};a.prototype.createSpatialReference=function(){return new k};a.prototype.addField=function(a,b){a.fields.push(d.fromJSON(b));var c=a.fields.map(function(a){return a.name});this.AttributesConstructor=function(){for(var a=0;a<c.length;a++)this[c[a]]=null}};a.prototype.addFeature=function(a,b){var c=this.options.maxStringAttributeLength?
this.options.maxStringAttributeLength:0;if(0<c)for(var d in b.attributes){var e=b.attributes[d];"string"===typeof e&&e.length>c&&(b.attributes[d]="")}a.features.push(b)};a.prototype.prepareFeatures=function(a){this.options.applyTransform&&a.transform&&(this.transform=a.transform,this.applyTransform=this.deriveApplyTransform(a));this.vertexDimension=2;a.hasZ&&this.vertexDimension++;a.hasM&&this.vertexDimension++;switch(a.geometryType){case "point":this.addCoordinate=this.addCoordinatePoint.bind(this);
this.createGeometry=this.createPointGeometry.bind(this);break;case "polygon":this.addCoordinate=this.addCoordinatePolygon.bind(this);this.createGeometry=this.createPolygonGeometry.bind(this);break;case "polyline":this.addCoordinate=this.addCoordinatePolyline.bind(this);this.createGeometry=this.createPolylineGeometry.bind(this);break;case "multipoint":this.addCoordinate=this.addCoordinateMultipoint.bind(this);this.createGeometry=this.createMultipointGeometry.bind(this);break;default:e.neverReached(a.geometryType)}};
a.prototype.createFeature=function(a){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return new h.DehydratedFeatureClass(l.generateUID(),null,new this.AttributesConstructor)};a.prototype.addLength=function(a,b,c){0===this.lengths.length&&(this.toAddInCurrentPath=b);this.lengths.push(b)};a.prototype.createPointGeometry=function(a){a={type:"point",x:0,y:0,spatialReference:a.spatialReference,
hasZ:!!a.hasZ,hasM:!!a.hasM};a.hasZ&&(a.z=0);a.hasM&&(a.m=0);return a};a.prototype.addCoordinatePoint=function(a,b,c,d){b=this.applyTransform(this.transform,b,d,0);switch(d){case 0:a.x=b;break;case 1:a.y=b;break;case 2:a.hasZ?a.z=b:a.m=b;break;case 3:a.m=b}};a.prototype.transformPathLikeValue=function(a,b){var c=0;1>=b&&(c=this.previousCoordinate[b],this.previousCoordinate[b]+=a);return this.applyTransform(this.transform,a,b,c)};a.prototype.addCoordinatePolyline=function(a,b,c,d){this.dehydratedAddPointsCoordinate(a.paths,
b,c,d)};a.prototype.addCoordinatePolygon=function(a,b,c,d){this.dehydratedAddPointsCoordinate(a.rings,b,c,d)};a.prototype.addCoordinateMultipoint=function(a,b,c){0===c&&a.points.push([]);b=this.transformPathLikeValue(b,c);a.points[a.points.length-1].push(b)};a.prototype.createPolygonGeometry=function(a){return{type:"polygon",rings:[[]],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};a.prototype.createPolylineGeometry=function(a){return{type:"polyline",paths:[[]],spatialReference:a.spatialReference,
hasZ:!!a.hasZ,hasM:!!a.hasM}};a.prototype.createMultipointGeometry=function(a){return{type:"multipoint",points:[],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};a.prototype.dehydratedAddPointsCoordinate=function(a,b,c,d){null===this.coordinateBuffer&&(c=this.lengths.reduce(function(a,b){return a+b},0),this.coordinateBuffer=new Float64Array(c*this.vertexDimension));0===d&&0===this.toAddInCurrentPath--&&(a.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,
this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);b=this.transformPathLikeValue(b,d);a=a[a.length-1];0===d&&a.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=b};a.prototype.deriveApplyTransform=function(a){var b=a.hasZ;a=a.hasM;return b&&a?p:b?c:a?f:n};return a}();b.Context=a})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q){function t(a,b,c){if(!a)return null;switch(b){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:c};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:c};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:c};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:c}}}
function v(a,b,c,d){return{x:a,y:b,z:c,hasZ:null!=c,hasM:!1,spatialReference:d,type:"point"}}function x(a){return"declaredClass"in a}function u(a){return"declaredClass"in a}function w(a){return"declaredClass"in a}function z(a){return d.isNone(a)?null:x(a)?a:p.fromJSON(y(a))}function A(a){if(d.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var b=0,c=0;for(a=a.paths;c<a.length;c++)b+=a[c].length;return b;case "polygon":c=b=0;for(a=a.rings;c<a.length;c++)b+=a[c].length;return b;
case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(b=a.vertexAttributes&&a.vertexAttributes.position)?b.length/3:0;default:k.neverReached(a)}}function y(a){var b=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:b};case "polygon":var c=a.hasZ,d=a.hasM;return{rings:B(a.rings),hasZ:c,hasM:d,spatialReference:b};case "polyline":var e=a.paths,c=a.hasZ,d=a.hasM;return{paths:B(e),hasZ:c,hasM:d,spatialReference:b};case "extent":var e=
a.xmin,f=a.xmax,g=a.ymin,h=a.ymax,m=a.zmin,l=a.zmax,n=a.mmin,p=a.mmax,c=a.hasZ,d=a.hasM;return{xmin:e,xmax:f,ymin:g,ymax:h,zmin:m,zmax:l,mmin:n,mmax:p,hasZ:c,hasM:d,spatialReference:b};case "multipoint":return e=a.points,c=a.hasZ,d=a.hasM,{points:E(e)?D(e):e,hasZ:c,hasM:d,spatialReference:b};default:k.neverReached(a)}}function B(a){return C(a)?a.map(function(a){return D(a)}):a}function D(a){return a.map(function(a){return g.toArray(a)})}function C(a){for(var b=0;b<a.length;b++){var c=a[b];if(0!==
c.length)return E(c)}return!1}function E(a){return a.length&&(g.isFloat32Array(a[0])||g.isFloat64Array(a[0]))}function F(a,b){c.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[3]=a.x;b[1]=b[4]=a.y;a.hasZ&&(b[2]=b[5]=a.z);break;case "polyline":for(var d=0;d<a.paths.length;d++)c.expandWithNestedArray(b,a.paths[d],a.hasZ);break;case "polygon":for(d=0;d<a.rings.length;d++)c.expandWithNestedArray(b,a.rings[d],a.hasZ);break;case "multipoint":c.expandWithNestedArray(b,a.points,
a.hasZ);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[3]=a.xmax;b[4]=a.ymax;null!=a.zmin&&(b[2]=a.zmin);null!=a.zmax&&(b[5]=a.zmax);break;default:k.neverReached(a)}}function G(a,b){f.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var c=0;c<a.paths.length;c++)f.expandWithNestedArray(b,a.paths[c]);break;case "polygon":for(c=0;c<a.rings.length;c++)f.expandWithNestedArray(b,a.rings[c]);break;case "multipoint":f.expandWithNestedArray(b,
a.points);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;break;default:k.neverReached(a)}}Object.defineProperty(b,"__esModule",{value:!0});b.equals=q.equals;a=function(){return function(a,b,c){this.uid=a;this.geometry=b;this.attributes=c;this.visible=!0;this.centroid=this.objectId=null}}();b.DehydratedFeatureClass=a;b.hasGeometry=function(a){return d.isSome(a.geometry)};b.isFeatureGeometry=function(a){return l.isFeatureGeometryType(a.type)};a=function(){return function(){this.exceededTransferLimit=
!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}();b.DehydratedFeatureSetClass=a;b.isPoint=function(a){return"point"===a.type};b.fromFeatureSetJSON=function(a){var b=l.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),c=n.fromJSON(a.spatialReference),d=a.transform,f=a.features.map(function(f){var g=a.objectIdFieldName;f={uid:e.generateUID(),
objectId:g&&f.attributes?f.attributes[g]:null,attributes:f.attributes,geometry:t(f.geometry,b,c),visible:!0};if((g=f.geometry)&&d)switch(g.type){case "point":f.geometry=r.hydratePoint(d,g,g,g.hasZ,g.hasM);break;case "multipoint":f.geometry=r.hydrateMultipoint(d,g,g,g.hasZ,g.hasM);break;case "polygon":f.geometry=r.hydratePolygon(d,g,g,g.hasZ,g.hasM);break;case "polyline":f.geometry=r.hydratePolyline(d,g,g,g.hasZ,g.hasM);break;default:k.neverReached(g)}return f});return{geometryType:b,features:f,spatialReference:c,
fields:a.fields?a.fields.map(function(a){return m.fromJSON(a)}):null,objectIdFieldName:a.objectIdFieldName,globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};b.fromJSONGeometry=t;b.makeDehydratedPoint=v;b.isHydratedGeometry=x;b.isHydratedPoint=u;b.isHydratedGraphic=w;b.hydrateGraphic=function(a,b){if(!a||w(a))return a;b=new e({layer:b,sourceLayer:b});
b.visible=a.visible;b.symbol=h.clone(a.symbol);b.attributes=h.clone(a.attributes);b.geometry=z(a.geometry);return b};b.hydrateGeometry=z;b.clonePoint=function(a,b){if(!a)return null;if(u(a)){if(null==b)return a.clone();if(u(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=a.spatialReference,a.hasZ?(b.z=a.z,b.hasZ=a.hasZ):(b.z=null,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=null,b.hasM=!1)):(b=v(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b};b.estimateSize=function(a){for(var b=
32,c=0,e=Object.keys(a.attributes);c<e.length;c++){var f=e[c],b=b+f.length,f=a.attributes[f];switch(typeof f){case "string":b+=f.length;break;default:case "number":b+=8}}a=d.isSome(a.geometry)?"mesh"===a.geometry.type?0:A(a.geometry):0;return b+12*a};b.numVertices=A;b.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var b=0;for(a=a.paths;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "polygon":b=0;for(a=a.rings;b<a.length;b++)if(0<a[b].length)return!0;
return!1;case "multipoint":return 0<a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:k.neverReached(a)}};b.computeAABB=F;b.expandAABB=function(a,b){F(a,H);c.expand(b,H)};b.computeAABR=G;b.expandAABR=function(a,b){G(a,O);f.expand(b,O)};b.getObjectId=function(a,b){return null!=a.objectId?a.objectId:a.attributes&&b?a.attributes[b]:null};var H=c.create(),O=f.create()})},"esri/geometry/support/aaBoundingBox":function(){define(["require",
"exports","../Extent","./aaBoundingRect"],function(a,b,l,e){function k(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],a[4],a[5]]}function h(a,b,c,d,e,f,g){void 0===g&&(g=k());g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=e;g[5]=f;return g}function d(a){return a[0]>=a[3]?0:a[3]-a[0]}function g(a){return a[1]>=a[4]?0:a[4]-a[1]}function n(a){return a[2]>=a[5]?0:a[5]-a[2]}function c(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function f(a){return 6===a.length}Object.defineProperty(b,
"__esModule",{value:!0});b.create=k;b.fromValues=h;b.fromExtent=function(a,b){void 0===b&&(b=k());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new l({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new l({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,c){void 0===c&&(c=k());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=b[0];c[4]=b[1];c[5]=
b[2];return c};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};b.expand=function(a,b,c){void 0===c&&(c=a);f(b)?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.min(a[2],b[2]),c[3]=Math.max(a[3],b[3]),c[4]=Math.max(a[4],b[4]),c[5]=Math.max(a[5],b[5])):e.is(b)?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[3]=Math.max(a[3],b[2]),c[4]=Math.max(a[4],b[3])):2===
b.length?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[3]=Math.max(a[3],b[0]),c[4]=Math.max(a[4],b[1])):3===b.length&&(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.min(a[2],b[2]),c[3]=Math.max(a[3],b[0]),c[4]=Math.max(a[4],b[1]),c[5]=Math.max(a[5],b[2]));return c};b.expandWithBuffer=function(a,b,c,d,e){void 0===e&&(e=a);var f=a[0],g=a[1],h=a[2],m=a[3],k=a[4];a=a[5];for(var l=0;l<d;l++)f=Math.min(f,b[c+3*l]),g=Math.min(g,b[c+3*l+1]),h=Math.min(h,b[c+3*l+2]),m=Math.max(m,b[c+3*
l]),k=Math.max(k,b[c+3*l+1]),a=Math.max(a,b[c+3*l+2]);e[0]=f;e[1]=g;e[2]=h;e[3]=m;e[4]=k;e[5]=a;return e};b.expandWithNestedArray=function(a,b,c,d){void 0===d&&(d=a);var e=b.length,f=a[0],g=a[1],h=a[2],m=a[3],k=a[4];a=a[5];if(c)for(c=0;c<e;c++){var l=b[c],f=Math.min(f,l[0]),g=Math.min(g,l[1]),h=Math.min(h,l[2]),m=Math.max(m,l[0]),k=Math.max(k,l[1]);a=Math.max(a,l[2])}else for(c=0;c<e;c++)l=b[c],f=Math.min(f,l[0]),g=Math.min(g,l[1]),m=Math.max(m,l[0]),k=Math.max(k,l[1]);d[0]=f;d[1]=g;d[2]=h;d[3]=m;
d[4]=k;d[5]=a;return d};b.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=d;b.depth=g;b.height=n;b.diameter=function(a){var b=d(a),c=n(a);a=g(a);return Math.sqrt(b*b+c*c+a*a)};b.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+d(a)/2;b[1]=a[1]+g(a)/2;b[2]=a[2]+n(a)/2;return b};b.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=d(a);b[1]=g(a);b[2]=n(a);return b};b.maximumDimension=function(a){return Math.max(d(a),n(a),g(a))};b.containsPoint=function(a,b){return b[0]>=
a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[2]>=a[2]-c&&b[0]<=a[3]+c&&b[1]<=a[4]+c&&b[2]<=a[5]+c};b.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};b.offset=function(a,b,c,d,e){void 0===
e&&(e=a);e[0]=a[0]+b;e[1]=a[1]+c;e[2]=a[2]+d;e[3]=a[3]+b;e[4]=a[4]+c;e[5]=a[5]+d;return e};b.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c[2]=b[2];c!==a&&(c[3]=a[3],c[4]=a[4],c[5]=a[5]);return c};b.setMax=function(a,b,c){void 0===c&&(c=a);c[3]=b[0];c[4]=b[1];c[5]=b[2];c!==a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return a};b.set=c;b.empty=function(a){return a?c(a,b.NEGATIVE_INFINITY):k(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=e.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];
return b};b.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=b[2];a[4]=b[3];a[5]=Number.POSITIVE_INFINITY;return a};b.is=f;b.isPoint=function(a){return 0===d(a)&&0===g(a)&&0===n(a)};b.equals=function(a,b,c){if(null==a||null==b)return a===b;if(!f(a)||!f(b))return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.wrap=function(a,b,c,d,e,f){return h(a,b,c,d,e,f,p)};b.POSITIVE_INFINITY=[-Infinity,-Infinity,
-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0,0,0];var p=k()})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(a,b,l){function e(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function k(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function h(a,b,c){for(var d=[],f,g,h,m,l=0;l<c.length;l++){var n=c[l];if(0<l){if(h=e(a,n[0]),m=k(a,n[1]),h!==
f||m!==g)d.push(b(n,h-f,m-g)),f=h,g=m}else f=e(a,n[0]),g=k(a,n[1]),d.push(b(n,f,g))}return 0<d.length?d:null}function d(a,b,c,d){return h(a,c?d?C:D:d?D:B,b)}function g(a,b,c,d){var e=[];c=c?d?C:D:d?D:B;for(d=0;d<b.length;d++){var f=h(a,c,b[d]);f&&3<=f.length&&e.push(f)}return e.length?e:null}function n(a,b,c,d){var e=[];c=c?d?C:D:d?D:B;for(d=0;d<b.length;d++){var f=h(a,c,b[d]);f&&2<=f.length&&e.push(f)}return e.length?e:null}function c(a,b){return b*a.scale[0]+a.translate[0]}function f(a,b){return a.translate[1]-
b*a.scale[1]}function p(a,b,d){var e=Array(d.length);if(!d.length)return e;var g=a.scale,h=g[0],g=g[1],k=c(a,d[0][0]);a=f(a,d[0][1]);e[0]=b(d[0],k,a);for(var m=1;m<d.length;m++){var l=d[m],k=k+l[0]*h;a-=l[1]*g;e[m]=b(l,k,a)}return e}function r(a,b,c){for(var d=Array(c.length),e=0;e<c.length;e++)d[e]=p(a,b,c[e]);return d}function m(a,b,c,d){return p(a,c?d?C:D:d?D:B,b)}function q(a,b,c,d){return r(a,c?d?C:D:d?D:B,b)}function t(a,b,c,d){return r(a,c?d?C:D:d?D:B,b)}function v(a,b,c){var d=c[0],e=d[0],
d=d[1],f=Math.min(e,b[0]),g=Math.min(d,b[1]),h=Math.max(e,b[2]);b=Math.max(d,b[3]);for(var k=1;k<c.length;k++){var m=c[k],l=m[0],m=m[1],e=e+l,d=d+m;0>l&&(f=Math.min(f,e));0<l&&(h=Math.max(h,e));0>m?g=Math.min(g,d):0<m&&(b=Math.max(b,d))}a[0]=f;a[1]=g;a[2]=h;a[3]=b;return a}function x(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)v(a,a,b[c]);return a}function u(a,b,c,d,f){b.xmin=e(a,c.xmin);b.ymin=k(a,c.ymin);b.xmax=e(a,
c.xmax);b.ymax=k(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),f&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function w(a,b,c,e,f){b.points=d(a,c.points,e,f);return b}function z(a,b,c,d,f){b.x=e(a,c.x);b.y=k(a,c.y);b!==c&&(d&&(b.z=c.z),f&&(b.m=c.m));return b}function A(a,b,c,d,e){a=g(a,c.rings,d,e);if(!a)return null;b.rings=a;return b}function y(a,b,c,d,e){a=n(a,c.paths,d,e);if(!a)return null;b.paths=a;return b}Object.defineProperty(b,"__esModule",{value:!0});var B=function(a,b,c){return[b,c]},
D=function(a,b,c){return[b,c,a[2]]},C=function(a,b,c){return[b,c,a[2],a[3]]};b.toQuantizationTransform=function(a){return a?{originPosition:"upperLeft",scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};b.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,d,e,f;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(e=b.translate[0],
f=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,f=b.extent.ymax,b=b.tolerance);return c===e&&d===f&&a===b};b.quantizeX=e;b.quantizeY=k;b.quantizeBounds=function(a,b,c){b[0]=e(a,c[0]);b[3]=k(a,c[1]);b[2]=e(a,c[2]);b[1]=k(a,c[3]);return b};b.quantizePoints=d;b.quantizeRings=g;b.quantizePaths=n;b.hydrateX=c;b.hydrateY=f;b.hydrateCoordsArray=p;b.hydrateCoordsArrayArray=r;b.hydrateBounds=function(a,b,d){return d?(b[0]=c(a,d[0]),b[1]=f(a,d[3]),b[2]=c(a,d[2]),b[3]=f(a,d[1]),b):[c(a,b[0]),f(a,b[3]),c(a,b[2]),
f(a,b[1])]};b.hydratePoints=m;b.hydratePaths=q;b.hydrateRings=t;b.getQuantizedBoundsCoordsArray=v;b.getQuantizedBoundsCoordsArrayArray=x;b.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return v(b,b,a)};b.getQuantizedBoundsPaths=function(a){return x([0,0,0,0],a)};b.getQuantizedBoundsRings=function(a){return x([0,0,0,0],a)};b.quantizeExtent=u;b.quantizeMultipoint=w;b.quantizePoint=z;b.quantizePolygon=
A;b.quantizePolyline=y;b.quantizeGeometry=function(a,b){return a&&b?l.isPoint(b)?z(a,{},b,!1,!1):l.isPolyline(b)?y(a,{},b,!1,!1):l.isPolygon(b)?A(a,{},b,!1,!1):l.isMultipoint(b)?w(a,{},b,!1,!1):l.isExtent(b)?u(a,{},b,!1,!1):null:null};b.hydrateExtent=function(a,b,d,e,g){b.xmin=c(a,d.xmin);b.ymin=f(a,d.ymin);b.xmax=c(a,d.xmax);b.ymax=f(a,d.ymax);b!==d&&(e&&(b.zmin=d.zmin,b.zmax=d.zmax),g&&(b.mmin=d.mmin,b.mmax=d.mmax));return b};b.hydrateMultipoint=function(a,b,c,d,e){b.points=m(a,c.points,d,e);return b};
b.hydratePoint=function(a,b,d,e,g){b.x=c(a,d.x);b.y=f(a,d.y);b!==d&&(e&&(b.z=d.z),g&&(b.m=d.m));return b};b.hydratePolygon=function(a,b,c,d,e){b.rings=t(a,c.rings,d,e);return b};b.hydratePolyline=function(a,b,c,d,e){b.paths=q(a,c.paths,d,e);return b}})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils","../../core/maybe"],function(a,b,l,e){function k(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=
0;c<a.length;c++){var d=a[c],e=b[c];if(d.length!==e.length)return!1;for(var f=0;f<d.length;f++)if(d[f]!==e[f])return!1}return!0}function h(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!k(a[c],b[c]))return!1;return!0}function d(a,b){return a===b||a&&b&&a.equals(b)}function g(a,b){if(a===b)return!0;if(e.isNone(a)||e.isNone(b)||a.type!==b.type)return!1;switch(a.type){case "point":return a=d(a.spatialReference,b.spatialReference)?a.x===b.x&&a.y===
b.y&&a.z===b.z&&a.m===b.m:!1,a;case "extent":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:d(a.spatialReference,b.spatialReference)?a.xmin===b.xmin&&a.ymin===b.ymin&&a.zmin===b.zmin&&a.xmax===b.xmax&&a.ymax===b.ymax&&a.zmax===b.zmax:!1,a;case "polyline":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:d(a.spatialReference,b.spatialReference)?h(a.paths,b.paths):!1,a;case "polygon":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:d(a.spatialReference,b.spatialReference)?h(a.rings,b.rings):!1,a;case "multipoint":return a=
a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:d(a.spatialReference,b.spatialReference)?k(a.points,b.points):!1,a;case "mesh":return!1;default:l.neverReached(a)}}function n(a,b){if(a===b)return!0;if(!a||!b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(a[e]!==b[e])return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.equals=function(a,b){return a===b?!0:null!=a&&null!=b&&a.objectId===b.objectId&&g(a.geometry,b.geometry)&&n(a.attributes,
b.attributes)?!0:!1}})},"esri/tasks/operations/pbfOptimizedFeatureSet":function(){define(["require","exports","../../layers/graphics/OptimizedFeature","../../layers/graphics/OptimizedFeatureSet","../../layers/graphics/OptimizedGeometry"],function(a,b,l,e,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a){this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"]}a.prototype.createFeatureResult=function(){return new e.default};
a.prototype.prepareFeatures=function(){};a.prototype.finishFeatureResult=function(){};a.prototype.addFeature=function(a,b){a.features.push(b)};a.prototype.createFeature=function(){return new l.default};a.prototype.createSpatialReference=function(){return{wkid:0}};a.prototype.createGeometry=function(){return new k.default};a.prototype.addField=function(a,b){a.fields.push(b)};a.prototype.addCoordinate=function(a,b){a.coords.push(b)};a.prototype.addCoordinatePoint=function(a,b){a.coords.push(b)};a.prototype.addLength=
function(a,b){a.lengths.push(b)};a.prototype.createPointGeometry=function(){return new k.default};return a}();b.Context=a})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a,b,k,h){void 0===a&&(a=null);void 0===b&&(b={});this.geometry=a;b&&(this.attributes=b);k&&(this.centroid=k);null!=h&&(this.objectId=h)}}();b.default=a})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();b.default=a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});
a=function(){return function(a,b){void 0===a&&(a=[]);void 0===b&&(b=[]);this.lengths=a;this.coords=b}}();b.default=a})},"esri/tasks/operations/PBFWorker":function(){define("require exports ../../core/tsSupport/extendsHelper ../../Graphic ../../core/promiseUtils ../../core/requireUtils ../../core/workers ../../geometry/SpatialReference ../../layers/support/Field ./pbfQueryUtils module".split(" "),function(a,b,l,e,k,h,d,g,n,c,f){Object.defineProperty(b,"__esModule",{value:!0});var p=function(){function a(){}
a.prototype._parseFeatureQuery=function(a){var b=c.parsePBFFeatureQuery(a.buffer,a.options);if(a.options&&"dehydrated"===a.options.type&&(b.spatialReference=b.spatialReference.toJSON(),b.fields))for(a=0;a<b.fields.length;a++)b.fields[a]=b.fields[a].toJSON();return k.resolve(b)};return a}(),r=function(b){function m(){var c=b.call(this)||this;c._thread=void 0;d.open(h.getAbsMid("./PBFWorker",a,f),{strategy:"dedicated"}).then(function(a){void 0===c._thread?c._thread=a:a.close()});return c}l(m,b);m.prototype.destroy=
function(){this._thread&&this._thread.close();this._thread=null};m.prototype.parseFeatureQuery=function(a,b){return a&&0!==a.byteLength?this._thread?this._thread.invoke("_parseFeatureQuery",{buffer:a,options:b},{transferList:[a]}).then(function(a){if(b&&"dehydrated"===b.type){a.spatialReference=g.fromJSON(a.spatialReference);if(a.fields)for(var c=0;c<a.fields.length;c++)a.fields[c]=n.fromJSON(a.fields[c]);for(var c=a.spatialReference,d=0,f=a.features;d<f.length;d++){var h=f[d];h.uid=e.generateUID();
h.geometry&&(h.geometry.spatialReference=c)}}return a}):k.resolve(c.parsePBFFeatureQuery(a,b)):k.resolve(null)};return m}(p);b.PBFWorker=r;b.default=function(){return new p}})},"esri/tasks/operations/urlUtils":function(){define(["require","exports"],function(a,b){function l(a){var b={},e;for(e in a)if("declaredClass"!==e){var d=a[e];if(null!=d&&"function"!==typeof d)if(Array.isArray(d)){b[e]=[];for(var g=0;g<d.length;g++)b[e][g]=l(d[g])}else"object"===typeof d?d.toJSON&&(b[e]=JSON.stringify(d)):b[e]=
d}return b}Object.defineProperty(b,"__esModule",{value:!0});b.mapParameters=l})},"esri/tasks/operations/queryAttachments":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../core/urlUtils ../../layers/support/AttachmentInfo ./urlUtils".split(" "),function(a,b,l,e,k,h,d){function g(a){a=a.toJSON();a.attachmentTypes&&(a.attachmentTypes=a.attachmentTypes.join(","));a.globalIds&&(a.globalIds=a.globalIds.join(","));a.objectIds&&(a.objectIds=a.objectIds.join(","));a.size&&
(a.size=a.size.join(","));return a}Object.defineProperty(b,"__esModule",{value:!0});b.processAttachmentQueryResult=function(a,b){for(var c={},d=0;d<a.length;d++)for(var e=a[d],g=e.parentObjectId,l=0,e=e.attachmentInfos;l<e.length;l++){var n=e[l],v=k.addProxy(k.addTokenParameter(b+"/"+g+"/attachments/"+n.id)),n=h.fromJSON(n);n.set({url:v,parentObjectId:g});c[g]?c[g].push(n):c[g]=[n]}return c};b.executeAttachmentQuery=function(a,b,f){b={query:d.mapParameters(l({},a.query,{f:"json"},g(b)))};f&&(b=l({},
f,b));return e(a.path+"/queryAttachments",b)}})},"esri/tasks/operations/queryRelatedRecords":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../request","./urlUtils"],function(a,b,l,e,k){function h(a){a=a.toJSON();a.objectIds&&(a.objectIds=a.objectIds.join(","));a.outFields&&(a.outFields=a.outFields.join(","));a.outSpatialReference&&(a.outSR=a.outSR.wkid||JSON.stringify(a.outSR.toJSON()),delete a.outSpatialReference);a.source&&(a.layer=JSON.stringify({source:a.source}),
delete a.source);return a}Object.defineProperty(b,"__esModule",{value:!0});b.toQueryStringParameters=h;b.executeRelationshipQuery=function(a,b,n){b={query:k.mapParameters(l({},a.query,{f:"json"},h(b)))};n&&(b=l({},n,b));return e(a.path+"/queryRelatedRecords",b).then(function(a){for(var b=a.data,c=b.geometryType,d=b.spatialReference,e={},g=0,b=b.relatedRecordGroups;g<b.length;g++){var h=b[g],k={fields:void 0,objectIdFieldName:void 0,geometryType:c,spatialReference:d,features:h.relatedRecords};if(null!=
h.objectId)e[h.objectId]=k;else for(var l in h)h.hasOwnProperty(l)&&"relatedRecords"!==l&&(e[h[l]]=k)}a.data=e;return a})}})},"esri/views/View":function(){define("require exports ../core/tsSupport/decorateHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/assignHelper ../Map ../TimeExtent ../core/Accessor ../core/Collection ../core/CollectionFlattener ../core/Evented ../core/Handles ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/GraphicsCollection ./BasemapView ./LayerViewManager ./RefreshManager ./ToolViewManager ./input/Input ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v,x,u,w,z,A,y,B,D,C,E,F,G,H,O){var I=r.getLogger("esri.views.View");return function(a){function b(b){var d=a.call(this)||this;d._viewHandles=new p;d._isValid=!1;d._readyCycleForced=!1;d._userSpatialReference=null;d._currentSpatialReference=null;d._cursor=null;d.allLayerViews=new c({root:d,rootCollectionNames:["basemapView.baseLayerViews","groundView?.layerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:function(a){return a.layerViews}});
d.animation=null;d.basemapView=null;d.defaultsFromMap=new O({view:d});d.fatalError=null;d.extent=null;d.graphicsView=null;d.graphics=new B.default;d.interacting=!1;d.internallyReady=!1;d.layerViews=new n;d.padding={left:0,top:0,right:0,bottom:0};d.spatialReferenceWarningDelay=1E3;d.timeExtent=null;d.type=null;d.scale=null;d.updating=!1;d.initialExtentRequired=!0;d.renderContext=null;d.input=new G;d.navigation=new H;d.layerViewManager=null;d.refreshManager=null;d.isHeightModelInfoRequired=!1;d.width=
null;d.height=null;d.resizing=!1;d.suspended=!1;d._viewHandles.add(d.watch("ready",function(a,b){a?(d._currentSpatialReference=d.spatialReference,f.views.add(d)):(d._currentSpatialReference=null,f.views.remove(d));d.notifyChange("spatialReference");!a&&b?(d.layerViewManager.clear(),d.toolViewManager.detach()):a&&!b&&d.whenReady().then(function(){return d.toolViewManager.attach()})}));return d}e(b,a);f=b;b.prototype.initialize=function(){var a=this,b=this.validate().then(function(){a._isValid=!0;a.notifyChange("ready");
var b=function(){return x.whenOnce(a,"ready").then(function(){return t.after(0)}).then(function(){if(!a.ready)return b()})};return b()});this.addResolvingPromise(b);this.basemapView=new D({view:this});this.layerViewManager=new C.default({view:this});this.refreshManager=new E({view:this});this.toolViewManager=new F({view:this});this._resetInitialViewPropertiesFromContent();var c;x.init(this.defaultsFromMap,"isSpatialReferenceDone",function(b){var d=!!(a.map&&0<a.map.allLayers.length);if((!b||a.spatialReference||
!d)&&c)c=null;else if(b&&!a.spatialReference&&d&&!c){var e=c=t.after(a.spatialReferenceWarningDelay);c.then(function(){e===c&&I.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}).catch(function(){})}},!0)};b.prototype.destroy=function(){this.destroyed||(f.views.remove(this),this.destroyViewData(),this.defaultsFromMap.destroy(),this.defaultsFromMap=null,this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.map=null,this.graphics.destroy(),
this._emitter.clear())};b.prototype.destroyViewData=function(){null!=this.toolViewManager&&(this._viewHandles.destroy(),this.toolViewManager.destroy(),this.toolViewManager=null,this.refreshManager.destroy(),this.refreshManager=null,this.layerViewManager.destroy(),this.layerViewManager=null,this.basemapView.destroy(),this.basemapView=null,this.allLayerViews.destroy())};b.prototype.whenReady=function(){return t.resolve()};Object.defineProperty(b.prototype,"heightModelInfo",{get:function(){return this.getDefaultHeightModelInfo()},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"map",{set:function(a){var b=this._get("map");a!==b&&(a&&a.load&&a.load(),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set("map",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"ready",{get:function(){var a;if(a=!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&0!==this.width&&0!==this.height&&this.spatialReference)a=this.map,a=!(a&&a.load)||
this.map.loaded;return!!(a&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone&&this.isSpatialReferenceSupported(this.spatialReference))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"spatialReference",{get:function(){var a=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;a&&
this.isHeightModelInfoRequired&&this.defaultsFromMap&&(a=a.clone(),a.vcsWkid=this.defaultsFromMap.vcsWkid,a.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return a},set:function(a){this._userSpatialReference=a;this._set("spatialReference",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stationary",{get:function(){return!this.animation&&!this.interacting&&!this.resizing},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"initialExtent",{get:function(){return this.defaultsFromMap&&
this.defaultsFromMap.extent},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cursor",{get:function(){var a=this.toolViewManager?this.toolViewManager.cursor:null;return m.isSome(a)?a:this._cursor||"default"},set:function(a){this._cursor=a;this.notifyChange("cursor")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!0,configurable:!0});b.prototype.whenLayerView=function(a){return this.layerViewManager.whenLayerView(a)};
b.prototype.getDefaultSpatialReference=function(){return this.get("defaultsFromMap.spatialReference")};b.prototype.getDefaultHeightModelInfo=function(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null};b.prototype.validate=function(){return t.resolve()};b.prototype.isSpatialReferenceSupported=function(a,b,c){return!0};b.prototype.isTileInfoRequired=function(){return!1};b.prototype.when=function(a,b){this.isResolved()&&
!this.ready&&I.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.');return this.inherited(arguments)};b.prototype.forceReadyCycle=function(){var a=this;this.ready&&(this._readyCycleForced=!0,x.whenFalseOnce(this,"ready",function(){a._readyCycleForced=!1;a.notifyChange("ready")}),this.notifyChange("ready"))};b.prototype.createTool=function(a,b,c){return this.toolViewManager.createTool(a,
b,c)};b.prototype.removeTool=function(a){this.toolViewManager&&this.toolViewManager.removeTool(a)};b.prototype.tryFatalErrorRecovery=function(){this.fatalError=null};b.prototype._resetInitialViewPropertiesFromContent=function(){var a=this;if(this.defaultsFromMap){var b=function(){a.defaultsFromMap.start()};this.defaultsFromMap.reset();this._currentSpatialReference=null;this.notifyChange("spatialReference");this._viewHandles.remove("defaultsFromMap");this._viewHandles.add([x.watch(this,"spatialReference",
function(a,c){y.equals(a,c)||b()}),x.watch(this,"initialExtentRequired",b),v.schedule(b)],"defaultsFromMap")}};var f;b.views=new n;l([u.aliasOf("toolViewManager.activeTool")],b.prototype,"activeTool",void 0);l([u.property({readOnly:!0})],b.prototype,"allLayerViews",void 0);l([u.property()],b.prototype,"animation",void 0);l([u.property()],b.prototype,"basemapView",void 0);l([u.property()],b.prototype,"defaultsFromMap",void 0);l([u.property()],b.prototype,"fatalError",void 0);l([u.property({type:w})],
b.prototype,"extent",void 0);l([u.property({readOnly:!0})],b.prototype,"graphicsView",void 0);l([u.property(B.graphicsCollectionProperty)],b.prototype,"graphics",void 0);l([u.property({readOnly:!0,type:z,dependsOn:["map.heightModelInfo?","defaultsFromMap.heightModelInfo"]})],b.prototype,"heightModelInfo",null);l([u.property()],b.prototype,"interacting",void 0);l([u.property()],b.prototype,"internallyReady",void 0);l([u.property({type:n,readOnly:!0})],b.prototype,"layerViews",void 0);l([u.property({value:null,
type:h})],b.prototype,"map",null);l([u.property()],b.prototype,"padding",void 0);l([u.property({readOnly:!0,dependsOn:"fatalError map spatialReference width height initialExtentRequired initialExtent defaultsFromMap.isSpatialReferenceDone defaultsFromMap.isTileInfoDone map.loaded?".split(" ")})],b.prototype,"ready",null);l([u.property({type:A,dependsOn:["defaultsFromMap.spatialReference","defaultsFromMap.vcsWkid","defaultsFromMap.latestVcsWkid"]})],b.prototype,"spatialReference",null);l([u.property()],
b.prototype,"spatialReferenceWarningDelay",void 0);l([u.property({dependsOn:["animation","interacting","resizing"]})],b.prototype,"stationary",null);l([u.property({type:d})],b.prototype,"timeExtent",void 0);l([u.aliasOf("toolViewManager.tools")],b.prototype,"tools",void 0);l([u.property()],b.prototype,"toolViewManager",void 0);l([u.property({readOnly:!0})],b.prototype,"type",void 0);l([u.property({type:Number})],b.prototype,"scale",void 0);l([u.property({readOnly:!0})],b.prototype,"updating",void 0);
l([u.property({readOnly:!0})],b.prototype,"initialExtentRequired",void 0);l([u.property({readOnly:!0,type:w,dependsOn:["defaultsFromMap.extent"]})],b.prototype,"initialExtent",null);l([u.property({dependsOn:["toolViewManager.cursor"]})],b.prototype,"cursor",null);l([u.property()],b.prototype,"renderContext",void 0);l([u.property({readOnly:!0})],b.prototype,"input",void 0);l([u.property({readOnly:!0})],b.prototype,"navigation",void 0);l([u.property()],b.prototype,"layerViewManager",void 0);l([u.property()],
b.prototype,"width",void 0);l([u.property()],b.prototype,"height",void 0);l([u.property({readOnly:!0})],b.prototype,"resizing",void 0);l([u.property({value:null,dependsOn:["width","height"],readOnly:!0})],b.prototype,"size",null);l([u.property({readOnly:!0})],b.prototype,"suspended",void 0);return b=f=l([u.subclass("esri.views.View")],b)}(u.declared(g,q,f))})},"esri/core/watchUtils":function(){define(["require","exports","./events","./has","./promiseUtils"],function(a,b,l,e,k){function h(a,b,c,d,
e){e=a.watch(b,function(b,e,f,g){c&&!c(b)||d.call(a,b,e,f,g)},e);if(Array.isArray(b))for(var f=0;f<b.length;f++){var g=a.get(b[f]);c&&c(g)&&d.call(a,g,g,b,a)}else g=a.get(b),c&&c(g)&&d.call(a,g,g,b,a);return e}function d(a,b,c,d,f){function g(){p&&(p.remove(),p=null)}var m="function"===typeof d?d:null,l="object"===typeof d?d:null;"boolean"===typeof d&&(f=d);var n=!1,p,q=k.createDeferred(g);k.onAbort(l,function(){g();q.reject(k.createAbortError())});d=e("esri-native-promise")?{then:q.promise.then.bind(q.promise),
catch:q.promise.catch.bind(q.promise),remove:g}:{cancel:q.cancel,then:q.promise.then.bind(q.promise),catch:q.promise.catch.bind(q.promise),remove:g};Object.freeze(d);p=h(a,b,c,function(b,c,d,e){n=!0;g();m&&m.call(a,b,c,d,e);q.resolve({value:b,oldValue:c,propertyName:d,target:e})},f);n&&g();return d}function g(a){return!!a}function n(a){return!a}function c(a){return!0===a}function f(a){return!1===a}function p(a){return void 0!==a}function r(a){return void 0===a}function m(a,b,c,d){var e=Array.isArray(b)?
b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,c,d);for(d=0;d<e.length;d++){var f=e[d].trim().replace(q,"$1"),g=a.get(f);c.call(a,g,g,f,a)}return b}Object.defineProperty(b,"__esModule",{value:!0});b.whenValidOnce=d;var q=/\?(\.|$)/g;b.init=m;b.watch=function(a,b,c,d){return a.watch(b,c,d)};b.once=function(a,b,c,e){return d(a,b,null,c,e)};b.when=function(a,b,c,d){return h(a,b,g,c,d)};b.whenOnce=function(a,b,c,e){return d(a,b,g,c,e)};b.whenNot=function(a,b,c,d){return h(a,b,n,c,d)};b.whenNotOnce=
function(a,b,c,e){return d(a,b,n,c,e)};b.whenTrue=function(a,b,d,e){return h(a,b,c,d,e)};b.whenTrueOnce=function(a,b,e,f){return d(a,b,c,e,f)};b.whenFalse=function(a,b,c,d){return h(a,b,f,c,d)};b.whenFalseOnce=function(a,b,c,e){return d(a,b,f,c,e)};b.whenDefined=function(a,b,c,d){return h(a,b,p,c,d)};b.whenDefinedOnce=function(a,b,c,e){return d(a,b,p,c,e)};b.whenUndefined=function(a,b,c,d){return h(a,b,r,c,d)};b.whenUndefinedOnce=function(a,b,c,e){return d(a,b,r,c,e)};b.pausable=function(a,b,c,d){var e=
!1,f=a.watch(b,function(b,d,f,g){e||c.call(a,b,d,f,g)},d);return{remove:function(){f.remove()},pause:function(){e=!0},resume:function(){e=!1}}};b.on=function(a,b,c,d,e,f,g){function h(b){var d=k[b];d&&(f&&f(d.target,b,a,c),d.handle.remove(),delete k[b])}var k={},n=m(a,b,function(b,f,g){h(g);l.isEventTarget(b)&&(k[g]={handle:l.on(b,c,d),target:b},e&&e(b,g,a,c))},g);return{remove:function(){n.remove();for(var a in k)h(a)}}}})},"esri/support/GraphicsCollection":function(){define("require exports ../core/tsSupport/decorateHelper ../core/tsSupport/declareExtendsHelper ../Graphic ../core/Collection ../core/collectionUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../core/accessorSupport/typescript".split(" "),
function(a,b,l,e,k,h,d,g,n,c){Object.defineProperty(b,"__esModule",{value:!0});var f=h.ofType(k),p=function(a){function b(b){var c=a.call(this,b)||this;c.on("before-add",function(a){a.item||a.preventDefault()});c.on("after-add",function(a){return c._own(a.item)});c.on("after-remove",function(a){a.item.layer=null});return c}e(b,a);b.prototype.destroy=function(){this._unownAll()};Object.defineProperty(b.prototype,"owner",{get:function(){return this._get("owner")},set:function(a){a!==this._get("owner")&&
(this._unownAll(),this._set("owner",a),this._ownAll())},enumerable:!0,configurable:!0});b.prototype._createNewInstance=function(a){return new f(a)};b.prototype._ownAll=function(){var a=this;this.items.forEach(function(b){return a._own(b)})};b.prototype._own=function(a){a.layer&&"group"!==a.layer.type&&"remove"in a.layer&&a.layer!==this.owner&&a.layer.remove(a);a.layer=this.owner};b.prototype._unownAll=function(){var a=this;this.items.forEach(function(b){return a._unown(b)})};b.prototype._unown=function(a){a.layer===
this.owner&&(a.layer=null)};l([c.property()],b.prototype,"owner",null);return b=l([g.subclass("esri.support.GraphicsCollection")],b)}(g.declared(f));b.GraphicsCollection=p;b.castGraphicsCollection=function(a){if(a=n.default(p,a))a.owner=this;return a};b.graphicsCollectionProperty={type:p,cast:d.castForReferenceSetter,set:function(a){a=d.referenceSetter(a,this._get("graphics"),p);a.owner=this;this._set("graphics",a)}};b.default=p})},"esri/views/BasemapView":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/Collection ../core/watchUtils ../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g){return function(a){function b(b){b=a.call(this)||this;b.view=null;b.baseLayerViews=new h;b.referenceLayerViews=new h;b._loadingHdl=d.init(b,"view.map.basemap",function(a){a&&a.load()});return b}l(b,a);b.prototype.destroy=function(){this._set("view",null);this._loadingHdl&&(this._loadingHdl.remove(),this._loadingHdl=null)};Object.defineProperty(b.prototype,"suspented",{get:function(){return this.view?this.view.suspended:!0},enumerable:!0,configurable:!0});e([g.property({constructOnly:!0})],
b.prototype,"view",void 0);e([g.property({readOnly:!0})],b.prototype,"baseLayerViews",void 0);e([g.property({readOnly:!0})],b.prototype,"referenceLayerViews",void 0);e([g.property({dependsOn:["view.suspended"]})],b.prototype,"suspented",null);return b=e([g.subclass("esri.views.BasemapView")],b)}(g.declared(k))})},"esri/views/LayerViewManager":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/Error ../core/HandleOwner ../core/Logger ../core/promiseUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r){Object.defineProperty(b,"__esModule",{value:!0});var m=n.getLogger("esri.views.LayerViewManager"),q=new Map;q.set("view.map.basemap.baseLayers","view.basemapView.baseLayerViews");q.set("view.map.ground.layers","view.groundView.layerViews");q.set("view.map.layers","view.layerViews");q.set("view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews");var t=function(){function a(a,b){var e=this;this.layer=a;this.view=b;this._controller=c.createAbortController();
this._deferred=c.createDeferred();this.done=this._started=!1;c.onAbort(this._controller.signal,function(){var b=new d("cancelled:layerview-create","layerview creation cancelled",{layer:a});e._deferred.reject(b)})}Object.defineProperty(a.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!0,configurable:!0});a.prototype.destroy=function(){this._controller.abort();var a=this.layerView;if(a){var b=this.layer,c=this.view;b.destroyLayerView(a);b.emit("layerview-destroy",{view:c,
layerView:a});c.emit("layerview-destroy",{layer:b,layerView:a});this.done=!0;this.view=this.layerView=this.layer=null;a.layer=null;a.parent=null;a.view=null}};a.prototype.start=function(){return h(this,void 0,void 0,function(){var a,b,c,e,f,g,h;return k(this,function(k){switch(k.label){case 0:if(this._started)return[2];this._started=!0;a=this;b=a._controller.signal;c=a.layer;e=a.view;this._map=e.map;k.label=1;case 1:return k.trys.push([1,5,,6]),[4,c.load({signal:b})];case 2:return k.sent(),[4,c.createLayerView(e,
{signal:b})];case 3:return f=k.sent(),[4,f.when()];case 4:k.sent();g=this._map&&this._map.allLayers.includes(c);if(!g||b.aborted)return f.layer.destroyLayerView(f),f.layer=f.parent=f.view=null,this.done=!0,g?[2]:[2,this._deferred.reject(new d("view:no-layerview-for-layer","The layer has been removed from the map",{layer:c}))];this.layerView=f;c.emit("layerview-create",{view:e,layerView:f});e.emit("layerview-create",{layer:c,layerView:f});this.done=!0;this._deferred.resolve(f);return[3,6];case 5:return h=
k.sent(),c.emit("layerview-create-error",{view:e,error:h}),e.emit("layerview-create-error",{layer:c,error:h}),this.done=!0,this._deferred.reject(new d("layerview:create-error","layerview creation failed",{layer:c,error:h})),[3,6];case 6:return[2]}})})};return a}();a=function(a){function b(b){var c=a.call(this)||this;c._layerLayerViewInfoMap=new Map;c.view=null;c._importLayerViewModules=function(){var a=c.view,b=c.get("view.map.allLayers");a&&b&&b.forEach(function(b){b&&"importLayerViewModule"in b&&
b.importLayerViewModule(a)})};c._doWork=c._doWork.bind(c);c._reschedule=c._reschedule.bind(c);c.handles.add([p.on(c,"view.allLayerViews","change",c._importLayerViewModules,c._importLayerViewModules),c.watch(["view.map.basemap","view.map.ground","view.map.layers","view.internallyReady"],c._reschedule)]);return c}l(b,a);b.prototype.destroy=function(){this.clear();this._map=this.view=null};Object.defineProperty(b.prototype,"updating",{get:function(){if(this.handles.has("reschedule"))return!0;var a=!0;
this._layerLayerViewInfoMap.forEach(function(b){a=a&&b.done});return!a},enumerable:!0,configurable:!0});b.prototype.clear=function(){this.destroyed||(this._layerLayerViewInfoMap.forEach(function(a,b){a.destroy()}),this._layerLayerViewInfoMap.clear(),this._refreshCollections())};b.prototype.whenLayerView=function(a){this._reschedule();this._doWork();return this._layerLayerViewInfoMap.has(a)?this._layerLayerViewInfoMap.get(a).promise:c.reject(new d("view:no-layerview-for-layer","No layerview has been found for the layer",
{layer:a}))};b.prototype._reschedule=function(){this.handles.remove("reschedule");this.handles.add(f.schedule(this._doWork),"reschedule");this.notifyChange("updating")};b.prototype._doWork=function(){var a=this.get("view.map");this._map!==a&&(this.clear(),this._map=a);if(this.handles.has("reschedule")){this.handles.remove("reschedule");this.handles.remove("collection-change");var b=a&&a.allLayers;if(b){b.forEach(this._createLayerView,this);this._refreshCollections();var c=[];this._layerLayerViewInfoMap.forEach(function(a,
d){b.includes(d)||c.push(a)});for(a=0;a<c.length;a++){var d=c[a];this._layerLayerViewInfoMap.delete(d.layer);d.destroy()}this.handles.add(b.on("change",this._reschedule),"collection-change");this.notifyChange("updating")}}};b.prototype._refreshCollections=function(){var a=this;q.forEach(function(b,c){a._populateLayerViewsOwners(a.get(c),a.get(b),a.view)})};b.prototype._populateLayerViewsOwners=function(a,b,c){var d=this;if(a&&b){var e=0;a.forEach(function(a){var f=d._layerLayerViewInfoMap.get(a);
f&&f.layerView&&(f=f.layerView,f.layer=a,f.parent=c,b.getItemAt(e)!==f&&b.splice(e,0,f),a.layers&&d._populateLayerViewsOwners(a.layers,f.layerViews,f),e+=1)});e<b.length&&b.splice(e,b.length)}else b&&b.removeAll()};b.prototype._createLayerView=function(a){var b=this,d=this.view;this._layerLayerViewInfoMap.has(a)?this.get("view.internallyReady")&&this._layerLayerViewInfoMap.get(a).start():(a.load(),a&&"importLayerViewModule"in a&&a.importLayerViewModule(d),d=new t(a,this.view),d.promise.then(function(){b._refreshCollections();
b.notifyChange("updating")},function(d){d&&(c.isAbortError(d)||"cancelled:layerview-create"===d.name)||m.error("Failed to create view for layer '"+a.title+", id:"+a.id+"' of type '"+a.type+"'.",{error:d});b._refreshCollections();b.notifyChange("updating")}),this._layerLayerViewInfoMap.set(a,d),this.get("view.internallyReady")&&d.start());this.notifyChange("updating")};e([r.property({readOnly:!0})],b.prototype,"updating",null);e([r.property()],b.prototype,"view",void 0);return b=e([r.subclass("esri.views.LayerViewManager")],
b)}(r.declared(g));b.default=a})},"esri/core/HandleOwner":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Accessor ./Handles ./accessorSupport/decorators".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.handles=new h;return b}l(b,a);b.prototype.destroy=function(){this.destroyed||this.handles.destroy()};e([d.property({readOnly:!0})],b.prototype,"handles",void 0);
return b=e([d.subclass("esri.core.HandleOwner")],b)}(d.declared(k))})},"esri/views/RefreshManager":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/Handles ../core/accessorSupport/decorators".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._handles=new h;b._currentTick=0;return b}l(b,a);b.prototype.initialize=function(){var a=this;this._handles.add([this.view.allLayerViews.on("after-changes",
function(){a.notifyChange("tickInterval");a._handles.remove("layerViewsUpdating");a._handles.add(a._getLayerViewHandles(),"layerViewsUpdating")}),this.watch("tickInterval",function(){return a._restartTicking()}),this.watch("view.ready",function(){return a._restartTicking()})]);this._restartTicking()};b.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)};Object.defineProperty(b.prototype,"tickInterval",
{get:function(){var a=this.view.allLayerViews.filter(function(a){return"refresh"in a});return this._getCommonInterval(a)},enumerable:!0,configurable:!0});b.prototype._restartTicking=function(){var a=this;this._currentTick=0;this._intervalID&&clearInterval(this._intervalID);this.get("view.ready")&&this.tickInterval&&(this._intervalID=setInterval(function(){var b=Date.now();a._currentTick+=a.tickInterval;a.view.allLayerViews.forEach(function(c){if("refresh"in c){var d=Math.round(6E4*c.refreshInterval),
e=0===a._currentTick%d,f=6E3>b-c.refreshTimestamp;d&&e&&!f&&c.refresh(b)}})},this.tickInterval))};b.prototype._getLayerViewHandles=function(){var a=this,b=[],d=function(){return a.notifyChange("tickInterval")};this.view.allLayerViews.forEach(function(a){"refresh"in a&&a.layer&&b.push(a.watch("refreshInterval",d),a.layer.on("refresh",function(){a.refresh(Date.now())}))});return b};b.prototype._getCommonInterval=function(a){var b=function(a,c){return isNaN(a)||isNaN(c)?0:0>=c?a:b(c,a%c)};return a.toArray().reduce(function(a,
c){return b(Math.round(6E4*c.refreshInterval),a)},0)};e([d.property()],b.prototype,"view",void 0);e([d.property({readOnly:!0})],b.prototype,"tickInterval",null);return b=e([d.subclass("esri.views.RefreshManager")],b)}(d.declared(k))})},"esri/views/ToolViewManager":function(){define("require exports ../core/tsSupport/decorateHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../core/Accessor ../core/Collection ../core/Handles ../core/Logger ../core/maybe ../core/screenUtils ../core/watchUtils ../core/accessorSupport/decorators ./input/ViewEvents ./interactive/interactiveToolUtils".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q,t,v){function x(a){a=a.native;return!(!a.ctrlKey&&!a.metaKey)}function u(a){return!1!==a.visible&&!1!==a.editable&&(null==a.hasEditableFlag||a.hasEditableFlag(1))}var w=f.getLogger("esri.views.ToolViewManager");return function(a){function b(b){b=a.call(this)||this;b._handles=new c;b._ignorePopupEventId=null;b._ignoreClickEventId=null;b._stopDrag=!1;b._dragStartScreenPoints=new Map;b._dragPreviousScreenPoints=new Map;b._hoveredManipulators=new Map;b._grabbedManipulators=
new Map;b._revertToActiveTool=null;b.tools=v.newToolCollection();b.cursor=null;return b}e(b,a);b.prototype.initialize=function(){var a=this,b=this.view;this._handles.add(t.eventTypes.map(function(c){return b.on(c,function(b){a._handleInputEvent(b)})}).concat([this.tools.on("change",function(b){b.removed.forEach(function(b){a._clearManipulatorPointers(b)});a._refreshToolWatchers()})]))};b.prototype.destroy=function(){this.tools.forEach(function(a){a.destroy&&a.destroy()});this._handles.destroy();this._handles=
null};Object.defineProperty(b.prototype,"activeTool",{set:function(a){var b=this;p.isSome(a)&&!this.view.ready?w.error("#activeTool\x3d","cannot set active tool while view is not ready"):v.swap(this,a,function(a){b._set("activeTool",a);b.tools.forEach(function(a){var c=p.isNone(b.activeTool)||a===b.activeTool;a.setEditableFlag&&a.setEditableFlag(1,c);!p.isNone(b.activeTool)&&u(a)||b._clearManipulatorPointers(a)})})},enumerable:!0,configurable:!0});b.prototype.createTool=function(a,b,c){return h(this,
void 0,void 0,function(){var e;return k(this,function(f){switch(f.label){case 0:return[4,this.view.whenReady()];case 1:return f.sent(),c?[4,this.removeTool(c)]:[3,3];case 2:f.sent(),f.label=3;case 3:return e=new a(d({},b,{view:this.view})),this.tools.add(e),[2,e]}})})};b.prototype.removeTool=function(a){this.tools.remove(a)};b.prototype.attach=function(){var a=this;this.tools.forEach(function(a){a.attach&&a.attach()});"3d"===this.view.type&&this._handles.add([this.view.state.watch("camera",function(b){a.tools.forEach(function(a){a.manipulators.forEach(function(a){a=
a.manipulator;if(null!=a.onCameraChange)a.onCameraChange(b)})})}),this.view.elevationProvider.on("elevation-change",function(b){a.tools.forEach(function(a){a.manipulators.forEach(function(a){a=a.manipulator;if(null!=a.onElevationChange)a.onElevationChange(b)})})})],"manipulators")};b.prototype.detach=function(){this.tools.forEach(function(a){a.detach&&a.detach()});this._handles.remove("manipulators")};b.prototype.handlesClickEvent=function(a){return p.isSome(this.activeTool)||a.eventId===this._ignorePopupEventId||
p.isSome(this._intersectManipulator(r.createScreenPointFromEvent(a),a.pointerType))};b.prototype._handleInputEvent=function(a){var b=this.activeTool;"click"===a.type&&a.eventId===this._ignoreClickEventId||"double-click"===a.type&&a.eventId===this._ignoreClickEventId+2?a.stopPropagation():(p.isSome(this.activeTool)?(this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(a),"immediate-click"===a.type&&p.isNone(this.activeTool)&&(this._ignoreClickEventId=a.eventId)):this.tools.forEach(function(b){!1!==
b.visible&&b.handleInputEvent&&b.handleInputEvent(a)}),this._handleManipulatorEvent(a)&&(a.stopPropagation(),this._setToolCursor()),p.isSome(b)&&"pointer-up"===a.type&&(this._ignorePopupEventId=a.eventId))};b.prototype._handleManipulatorEvent=function(a){var b=!1;switch(a.type){case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(a.stopPropagation(),"end"===a.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===a.pointerType&&0!==a.button||x(a))break;var c=
r.createScreenPointFromEvent(a),d=this._intersectManipulator(c,a.pointerType);if(p.isNone(d))break;var e=this._findManipulatorByKey(d);p.isSome(e)&&e.interactive&&!e.grabbing&&(b=!0,this._grabbedManipulators.set(a.pointerId,d),this._dragStartScreenPoints.set(a.pointerId,c),this._dragPreviousScreenPoints.set(a.pointerId,c),1===this._grabbedManipulators.size&&(this._revertToActiveTool=this.activeTool,this.activeTool=d.tool),e.grabbing=!0,e.grab&&e.grab({screenPoint:c}));break;case "pointer-up":d=this._findManipulatorByKey(this._grabbedManipulators.get(a.pointerId));
p.isSome(d)&&(b=!0,d.grabbing=!1,1===this._grabbedManipulators.size&&(this.activeTool=this._revertToActiveTool,this._revertToActiveTool=null));this._grabbedManipulators.delete(a.pointerId);this._dragStartScreenPoints.delete(a.pointerId);this._dragPreviousScreenPoints.delete(a.pointerId);this._updateHover(a)&&(b=!0);break;case "pointer-drag":if("mouse"===a.pointerType&&0!==a.button)break;c=this._grabbedManipulators.get(a.pointerId);d=this._findManipulatorByKey(c);if(p.isNone(d))break;c=r.createScreenPointFromEvent(a);
c.x=Math.max(0,Math.min(this.view.width,c.x));c.y=Math.max(0,Math.min(this.view.height,c.y));b={start:this._dragStartScreenPoints.get(a.pointerId),previous:this._dragPreviousScreenPoints.get(a.pointerId)};switch(a.action){case "start":case "update":d.dragging=!0;d.attemptDragTo({screenPoint:c},b);break;case "end":d.dragging=!1}this._dragPreviousScreenPoints.set(a.pointerId,c);b=!0;break;case "immediate-click":case "pointer-move":b=this._updateHover(a);break;case "click":c=r.createScreenPointFromEvent(a),
d=this._intersectManipulator(c,a.pointerType),e=this._findManipulatorByKey(d),x(a)||this.tools.forEach(function(a){a.manipulators&&a.manipulators.forEach(function(a){a.manipulator.selected=!1})}),!p.isNone(e)&&e.interactive&&(e.selectable&&(e.selected=!0),e.click({screenPoint:c,button:a.button}),b=!0)}return b};b.prototype._updateHover=function(a){if("touch"===a.pointerType)return!1;var b=this._findManipulatorByKey(this._hoveredManipulators.get(a.pointerId)),c=this._intersectManipulator(r.createScreenPointFromEvent(a),
a.pointerType),d=this._findManipulatorByKey(c);if(b===d)return!1;p.isSome(b)&&(b.hovering=!1);p.isSome(c)&&p.isSome(d)&&d.interactive?(d.hovering=!0,this._hoveredManipulators.set(a.pointerId,c)):this._hoveredManipulators.delete(a.pointerId);return!0};b.prototype._refreshToolWatchers=function(){var a=this;this._handles.remove("tools");this._setToolCursor();this.tools.forEach(function(b){if(b instanceof g){var c=m.watch(b,["cursor","visible","editable"],function(){u(b)||a._clearManipulatorPointers(b);
a._setToolCursor()});a._handles.add(c,"tools")}b.manipulators&&a._handles.add(b.manipulators.on("change",function(c){c.removed.forEach(function(c){a._clearManipulatorPointers(b,c.id)})}),"tools")})};b.prototype._clearManipulatorPointers=function(a,b){var c=this;this._hoveredManipulators.forEach(function(d,e){d.tool!==a||!p.isNone(b)&&d.manipulatorId!==b||(c._hoveredManipulators.delete(e),d=c._findManipulatorByKey(d),p.isSome(d)&&(d.hovering=!1))});this._grabbedManipulators.forEach(function(d,e){d.tool!==
a||!p.isNone(b)&&d.manipulatorId!==b||(c._grabbedManipulators.delete(e),c._dragStartScreenPoints.delete(e),c._dragPreviousScreenPoints.delete(e),d=c._findManipulatorByKey(d),p.isSome(d)&&(d.grabbing=!1,d.dragging=!1))});this._setToolCursor()};b.prototype._setToolCursor=function(){for(var a=null,b=0;b<this.tools.length;b++){var c=this.tools.getItemAt(b);if(null!=c.cursor&&!1!==c.visible){a=c.cursor;break}}!a&&0<this._grabbedManipulators.size&&(a="grabbing");!a&&0<this._hoveredManipulators.size&&(a=
"pointer");this._set("cursor",a)};b.prototype._intersectManipulator=function(a,b){var c=null,d=this.tools.find(function(d){if(null==d.manipulators||!u(d))return!1;c=d.manipulators.intersect(a,b);return p.isSome(c)});return p.applySome(c,function(a){return{tool:d,manipulatorId:a}})};b.prototype._findManipulatorByKey=function(a){if(p.isNone(a))return null;var b=null;this.tools.some(function(c){if(c!==a.tool||null==c.manipulators||!u(c))return!1;b=c.manipulators.findById(a.manipulatorId);return p.isSome(b)});
return b};l([q.property({constructOnly:!0,nonNullable:!0})],b.prototype,"view",void 0);l([q.property({value:null})],b.prototype,"activeTool",null);l([q.property({readOnly:!0,type:n})],b.prototype,"tools",void 0);l([q.property({readOnly:!0})],b.prototype,"cursor",void 0);return b=l([q.subclass("esri.views.ToolViewManager")],b)}(q.declared(g))})},"esri/views/input/ViewEvents":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/compilerUtils ../../core/screenUtils ../3d/support/mathUtils ./InputHandler".split(" "),
function(a,b,l,e,k,h,d){function g(a){return!!c[a]}function n(a){for(var b=0;b<a.length;b++)if(!g(a[b]))return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0});b.eventTypes="click double-click immediate-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");var c={};b.eventTypes.forEach(function(a){c[a]=!0});a=function(){function a(a){this.handlers=new Map;this.counter=0;this.handlerCounts=
new Map;this.view=a;this.inputManager=null}a.prototype.connect=function(a){var b=this;a&&this.disconnect();this.inputManager=a;this.handlers.forEach(function(a,c){return b.inputManager.installHandlers(c,[a])})};a.prototype.disconnect=function(){var a=this;this.inputManager&&this.handlers.forEach(function(b,c){return a.inputManager.uninstallHandlers(c)});this.inputManager=null};a.prototype.destroy=function(){this.disconnect();this.handlers.clear();this.view=null};a.prototype.register=function(a,b,
c){var d=this,e=Array.isArray(a)?a:a.split(",");if(!n(e))return e.some(g)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;a=Array.isArray(b)?b:[];c=Array.isArray(b)?c:b;var h=this.createUniqueGroupName();b=new f(this.view,e,a,c);this.handlers.set(h,b);for(c=0;c<e.length;c++){a=e[c];var k=this.handlerCounts.get(a)||0;this.handlerCounts.set(a,k+1)}this.inputManager&&this.inputManager.installHandlers(h,[b]);return{remove:function(){return d.removeHandler(h,
e)}}};a.prototype.hasHandler=function(a){return!!this.handlerCounts.get(a)};a.prototype.removeHandler=function(a,b){if(this.handlers.has(a)){this.handlers.delete(a);for(var c=0;c<b.length;c++){var d=b[c],e=this.handlerCounts.get(d);void 0===e?console.error("Trying to remove handler for event that has no handlers registered: ",d):1===e?this.handlerCounts.delete(d):this.handlerCounts.set(d,e-1)}}this.inputManager&&this.inputManager.uninstallHandlers(a)};a.prototype.createUniqueGroupName=function(){this.counter+=
1;return"viewEvents_"+this.counter};return a}();b.ViewEvents=a;var f=function(a){function b(b,c,d,f){var g=a.call(this,!0)||this;g.view=b;for(b=0;b<c.length;b++){var h=c[b];switch(h){case "click":g.registerIncoming("click",d,function(a){return f(g.wrapClick(a))});break;case "double-click":g.registerIncoming("double-click",d,function(a){return f(g.wrapDoubleClick(a))});break;case "immediate-click":g.registerIncoming("immediate-click",d,function(a){return f(g.wrapImmediateClick(a))});break;case "hold":g.registerIncoming("hold",
d,function(a){return f(g.wrapHold(a))});break;case "drag":g.registerIncoming("drag",d,function(a){(a=g.wrapDrag(a))&&f(a)});break;case "key-down":g.registerIncoming("key-down",d,function(a){return f(g.wrapKeyDown(a))});break;case "key-up":g.registerIncoming("key-up",d,function(a){return f(g.wrapKeyUp(a))});break;case "pointer-down":g.registerIncoming("pointer-down",d,function(a){return f(g.wrapPointer(a,"pointer-down"))});break;case "pointer-move":g.registerIncoming("pointer-move",d,function(a){return f(g.wrapPointer(a,
"pointer-move"))});break;case "pointer-up":g.registerIncoming("pointer-up",d,function(a){return f(g.wrapPointer(a,"pointer-up"))});break;case "pointer-drag":g.registerIncoming("pointer-drag",d,function(a){return f(g.wrapPointerDrag(a))});break;case "mouse-wheel":g.registerIncoming("mouse-wheel",d,function(a){return f(g.wrapMouseWheel(a))});break;case "pointer-enter":g.registerIncoming("pointer-enter",d,function(a){return f(g.wrapPointer(a,"pointer-enter"))});break;case "pointer-leave":g.registerIncoming("pointer-leave",
d,function(a){return f(g.wrapPointer(a,"pointer-leave"))});break;case "gamepad":g.registerIncoming("gamepad",d,function(a){f(g.wrapGamepad(a))});break;case "focus":g.registerIncoming("focus",d,function(a){f(g.wrapFocus(a))});break;case "blur":g.registerIncoming("blur",d,function(a){f(g.wrapBlur(a))});break;default:e.neverReached(h)}}return g}l(b,a);b.prototype.wrapFocus=function(a){return{type:"focus",timestamp:a.timestamp,native:a.data.native,stopPropagation:function(){return a.stopPropagation()}}};
b.prototype.wrapBlur=function(a){return{type:"blur",timestamp:a.timestamp,native:a.data.native,stopPropagation:function(){return a.stopPropagation()}}};b.prototype.wrapClick=function(a){var b=a.data,c=b.pointerType,d=b.button,e=b.buttons,f=b.x,g=b.y,h=b.native,b=b.eventId,m=a.timestamp,l=k.createScreenPoint(f,g),n=this.view.toMap(l);return{type:"click",pointerType:c,button:d,buttons:e,x:f,y:g,native:h,timestamp:m,screenPoint:l,mapPoint:n,eventId:b,stopPropagation:function(){return a.stopPropagation()}}};
b.prototype.wrapDoubleClick=function(a){var b=a.data,c=b.x,d=b.y,e=b.eventId;return{type:"double-click",pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:c,y:d,native:b.native,timestamp:a.timestamp,mapPoint:this.view.toMap(k.createScreenPoint(c,d)),eventId:e,stopPropagation:function(){return a.stopPropagation()}}};b.prototype.wrapImmediateClick=function(a){var b=a.data,c=b.x,d=b.y,e=b.native,f=b.eventId;return{type:"immediate-click",pointerId:e.pointerId,pointerType:b.pointerType,button:b.button,
buttons:b.buttons,x:c,y:d,native:e,timestamp:a.timestamp,mapPoint:this.view.toMap(k.createScreenPoint(c,d)),eventId:f,stopPropagation:function(){return a.stopPropagation()}}};b.prototype.wrapHold=function(a){var b=a.data,c=b.x,d=b.y;return{type:"hold",pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:c,y:d,native:b.native,timestamp:a.timestamp,mapPoint:this.view.toMap(k.createScreenPoint(c,d)),stopPropagation:function(){return a.stopPropagation()}}};b.prototype.wrapDrag=function(a){var b=
a.data,c=b.center,d=c.x,c=c.y,e=b.action,f=b.pointerType,g=b.button;"start"===e&&(this.latestDragStart=b);if(this.latestDragStart){var k=b.pointer.native,m=b.buttons,l=a.timestamp,n={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};"end"===e&&(this.latestDragStart=void 0);return{type:"drag",action:e,x:d,y:c,origin:n,pointerType:f,button:g,buttons:m,radius:b.radius,angle:h.rad2deg(b.angle),native:k,timestamp:l,stopPropagation:function(){return a.stopPropagation()}}}};b.prototype.wrapKeyDown=
function(a){var b=a.data;return{type:"key-down",key:b.key,repeat:b.repeat,native:b.native,timestamp:a.timestamp,stopPropagation:function(){return a.stopPropagation()}}};b.prototype.wrapKeyUp=function(a){var b=a.data;return{type:"key-up",key:b.key,native:b.native,timestamp:a.timestamp,stopPropagation:function(){return a.stopPropagation()}}};b.prototype.wrapPointer=function(a,b){var c=a.data,d=c.native;return{type:b,x:c.x,y:c.y,pointerId:d.pointerId,pointerType:d.pointerType,button:c.button,buttons:c.buttons,
native:d,timestamp:a.timestamp,eventId:c.eventId,stopPropagation:function(){return a.stopPropagation()}}};b.prototype.wrapPointerDrag=function(a){var b=a.data.currentEvent;return{type:"pointer-drag",x:b.x,y:b.y,pointerId:a.data.startEvent.native.pointerId,pointerType:a.data.startEvent.native.pointerType,button:a.data.startEvent.button,buttons:b.buttons,action:a.data.action,origin:{x:a.data.startEvent.x,y:a.data.startEvent.y},native:b.native,timestamp:a.timestamp,eventId:b.eventId,stopPropagation:function(){return a.stopPropagation()}}};
b.prototype.wrapMouseWheel=function(a){var b=a.data;return{type:"mouse-wheel",x:b.x,y:b.y,deltaY:b.deltaY,native:b.native,timestamp:a.timestamp,stopPropagation:function(){return a.stopPropagation()}}};b.prototype.wrapGamepad=function(a){var b=a.data,c=b.state;return{type:"gamepad",device:b.device,timestamp:a.timestamp,action:b.action,buttons:c.buttons,axes:c.axes,stopPropagation:function(){return a.stopPropagation()}}};return b}(d.InputHandler)})},"esri/views/input/InputHandler":function(){define(["require",
"exports","../../core/Logger","./EventMatch"],function(a,b,l,e){Object.defineProperty(b,"__esModule",{value:!0});var k=l.getLogger("esri.views.input.InputHandler");a=function(){function a(a){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=a}Object.defineProperty(a.prototype,"incomingEventMatches",{get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(var a in this._incoming)for(var b=
0,d=this._incoming[a];b<d.length;b++)this._incomingEventMatches.push(d[b].match)}return this._incomingEventMatches},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"incomingEventTypes",{get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(function(a){return a.eventType}));return this._incomingEventTypes},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"outgoingEventTypes",{get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=
Object.keys(this._outgoing));return this._outgoingEventTypes},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasSideEffects",{get:function(){return this._hasSideEffects},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasPendingInputs",{get:function(){return!1},enumerable:!0,configurable:!0});a.prototype.onInstall=function(a){var b=this;this._manager?k.error("This InputHandler has already been registered with an InputManager"):(a.setEventCallback(function(a){return b._handleEvent(a)}),
a.setUninstallCallback(function(){return b._onUninstall()}),this._manager=a)};a.prototype.onUninstall=function(){};a.prototype.registerIncoming=function(a,b,d){var c=this;"function"===typeof b?(d=b,b=[]):b=b||[];a="string"===typeof a?new e.EventMatch(a,b):a;var f=function(){c._incomingEventTypes=null;c._incomingEventMatches=null};b=function(a){var b=c._incoming[a.match.eventType];b&&(a=b.indexOf(a),b.splice(a,1),f(),c._manager&&c._manager.updateDependencies())};d=new h(a,d,{onPause:b,onRemove:b,onResume:function(a){var b=
c._incoming[a.match.eventType];b&&-1===b.indexOf(a)&&(b.push(a),f(),c._manager&&c._manager.updateDependencies())}});b=this._incoming[a.eventType];b||(b=[],this._incoming[a.eventType]=b);b.push(d);f();this._manager&&this._manager.updateDependencies();return d};a.prototype.registerOutgoing=function(a){var b=this;if(this._outgoing[a])throw Error("There is already a callback registered for this outgoing InputEvent: "+a);var e=new d(a,{onEmit:function(a,c,d,e){b._manager.emit(a.eventType,c,d,e)},onRemove:function(a){delete b._outgoing[a.eventType];
b._manager.updateDependencies()}});this._outgoing[a]=e;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return e};a.prototype.startCapturingPointer=function(a){this._manager.setPointerCapture(a,!0)};a.prototype.stopCapturingPointer=function(a){this._manager.setPointerCapture(a,!1)};a.prototype.refreshHasPendingInputs=function(){this._manager.refreshHasPendingInputs()};a.prototype._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):k.error("This InputHandler is not registered with an InputManager")};
a.prototype._handleEvent=function(a){var b=this._incoming[a.type];if(b)for(var d=0;d<b.length;d++){var e=b[d];if(e.match.matches(a)&&(e.callback(a),a.shouldStopPropagation()))break}};return a}();b.InputHandler=a;var h=function(){function a(a,b,d){this.match=a;this._callback=b;this._handler=d}a.prototype.pause=function(){this._handler.onPause(this)};a.prototype.resume=function(){this._handler.onResume(this)};a.prototype.remove=function(){this._handler.onRemove(this)};Object.defineProperty(a.prototype,
"callback",{get:function(){return this._callback},enumerable:!0,configurable:!0});return a}(),d=function(){function a(a,b){this.eventType=a;this._removed=!1;this._handler=b}a.prototype.emit=function(a,b,d){if(!this._removed)this._handler.onEmit(this,a,b,d)};a.prototype.remove=function(){this._removed=!0;this._handler.onRemove(this)};return a}()})},"esri/views/input/EventMatch":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,
b){void 0===b&&(b=[]);this.eventType=a;this.keyModifiers=b}a.prototype.matches=function(a){if(a.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;a=a.modifiers;for(var b=0,e=this.keyModifiers;b<e.length;b++)if(!a.has(e[b]))return!1;return!0};return a}();b.EventMatch=a})},"esri/views/interactive/interactiveToolUtils":function(){define(["require","exports","../../core/Collection","../../core/maybe"],function(a,b,l,e){function k(a,b){var d=a.view;b&&d.ready&&d.activeTool!==a?(d.activeTool=
a,d&&d.focus&&d.focus()):b||d.activeTool!==a||(d.activeTool=null)}Object.defineProperty(b,"__esModule",{value:!0});b.setActive=k;b.swap=function(a,b,g){a=a.activeTool;b!==a&&(e.isSome(a)&&a.deactivate&&a.deactivate(),g(b),e.isSome(b)&&b.activate&&b.activate())};b.newToolCollection=function(){var a=new l;a.on("after-add",function(a){a=a.item;a.view&&a.view.ready&&a.attach&&a.attach()});a.on("after-remove",function(a){a=a.item;k(a,!1);a.detach&&a.detach()});return a}})},"esri/views/input/Input":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./gamepad/GamepadSettings".split(" "),
function(a,b,l,e,k,h,d){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.gamepad=new d;return b}l(b,a);e([h.property({readOnly:!0})],b.prototype,"gamepad",void 0);return b=e([h.subclass("esri.views.input.Input")],b)}(h.declared(k))})},"esri/views/input/gamepad/GamepadSettings":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators ./GamepadInputDevice".split(" "),
function(a,b,l,e,k,h,d,g){return function(a){function b(){var b=a.call(this)||this;b.devices=new h;b.enabledFocusMode="document";return b}l(b,a);e([d.property({type:h.ofType(g),readOnly:!0})],b.prototype,"devices",void 0);e([d.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=e([d.subclass("esri.views.input.gamepad.GamepadSettings")],b)}(d.declared(k))})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h){var d=/^(3dconnexion|space(mouse|navigator|pilot|explorer))/i,g={standard:.15,spacemouse:.025,unknown:0};return function(a){function b(b){var c=a.call(this)||this;c.nativeIndex=null;c._detectedDeviceType="unknown";"standard"===b.mapping?c._detectedDeviceType="standard":d.test(b.id)?c._detectedDeviceType="spacemouse":c._detectedDeviceType="unknown";c.nativeIndex=b.index;return c}l(b,a);Object.defineProperty(b.prototype,"native",{get:function(){return(navigator.getGamepads?navigator.getGamepads():
[])[this.nativeIndex]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"deviceType",{get:function(){return this._detectedDeviceType},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"axisThreshold",{get:function(){return g[this.deviceType]},enumerable:!0,configurable:!0});e([h.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);e([h.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);e([h.property({type:Number,readOnly:!0})],
b.prototype,"axisThreshold",null);return b=e([h.subclass("esri.views.input.gamepad.GamepadInputDevice")],b)}(h.declared(k))})},"esri/views/navigation/Navigation":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./gamepad/GamepadSettings".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(b){b=a.call(this,b)||this;b.gamepad=new d;return b}l(b,a);e([h.property({readOnly:!0})],
b.prototype,"gamepad",void 0);return b=e([h.subclass("esri.views.navigation.Navigation")],b)}(h.declared(k))})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators ../../input/gamepad/GamepadInputDevice".split(" "),function(a,b,l,e,k,h,d){return function(a){function b(){var b=a.call(this)||this;b.enabled=!0;b.device=null;
b.mode="pan";b.tiltDirection="forward-down";b.velocityFactor=1;return b}l(b,a);e([h.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);e([h.property({type:d})],b.prototype,"device",void 0);e([h.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);e([h.property({type:["forward-down","forward-up"],nonNullable:!0})],b.prototype,"tiltDirection",void 0);e([h.property({type:Number,nonNullable:!0})],b.prototype,"velocityFactor",void 0);return b=e([h.subclass("esri.views.navigation.gamepad.GamepadSettings")],
b)}(h.declared(k))})},"esri/views/support/DefaultsFromMap":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/arrayUtils ../../core/Handles ../../core/Logger ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/heightModelInfoUtils ../../geometry/support/webMercatorUtils @dojo/framework/shim/Promise".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q){function t(a){return a?JSON.stringify(a.toJSON()):"undefined"}function v(a){switch(a){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}return"Unknown: "+a}var x=c.getLogger("esri.views.support.DefaultsFromMap");return function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a._handles=new n;a._waitTask=null;a._extentProjectController=null;a._isStarted=!1;a._spatialReferenceCandidates=null;a._extentCandidates=null;a.logDebugInformation=
!1;a.isSpatialReferenceDone=!1;a.isTileInfoDone=!1;a.isHeightModelInfoSearching=!1;a.spatialReference=null;a.extent=null;a.heightModelInfo=null;a.vcsWkid=null;a.latestVcsWkid=null;a.mapCollectionPaths=d.DefaultMapCollectionPaths.slice();a.tileInfo=null;return a}l(c,b);d=c;c.prototype.initialize=function(){var a=this;this.watch("mapCollectionPaths",function(){a._isStarted&&(a.reset(),a.start())})};c.prototype.destroy=function(){this._set("view",null);this._handles&&(this._handles.destroy(),this._handles=
null,this._isStarted=!1);this._cancelLoading()};c.prototype.reset=function(){this._handles.removeAll();this._isStarted=!1;this._set("isSpatialReferenceDone",!1);this._set("isTileInfoDone",!1);this._set("isHeightModelInfoSearching",!1);this._set("spatialReference",null);this._set("extent",null);this._set("heightModelInfo",null);this._set("vcsWkid",null);this._set("latestVcsWkid",null);this._set("tileInfo",null);this._extentCandidates=this._spatialReferenceCandidates=null};c.prototype.start=function(){this._handles.removeAll();
this._isStarted=!0;for(var a=this._updateLayerChange.bind(this),b=0,c=this.mapCollectionPaths;b<c.length;b++)this._handles.add(p.on(this.view,"map."+c[b],"change",a,a,a,!0))};c.prototype._ownerNameFromCollectionName=function(a){var b=a.lastIndexOf(".");return-1===b?"view":"view."+a.slice(0,b)};c.prototype._ensureLoadedOwnersFromCollectionName=function(a){for(var b=this._ownerNameFromCollectionName(a).split("."),c,d=0;d<b.length;d++){c=this.get(b.slice(0,d+1).join("."));if(!c)break;if(c.load&&!c.isFulfilled())return{collectionName:a,
owner:null,loading:c.load()}}return{collectionName:a,owner:c}};c.prototype._cancelLoading=function(){this._waitTask=null;this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)};c.prototype._updateWhen=function(a){var b=this,c=!0,d=!1,e=a.catch(function(a){}).then(function(){c?d=!0:e===b._waitTask&&b._update()}),c=!1;d||(this._waitTask=e);return d};c.prototype._updateLayerChange=function(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",
!1);this._update()};c.prototype._update=function(){var a=this;this._cancelLoading();if(this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");var b=this._processMapCollections(function(b){return a._processSpatialReferenceSource(b)});this._debugLog("Search ended with status '"+v(b)+"'");if(0!==b){var c=null,b=this._spatialReferenceCandidates;!b||1>b.length?(c=this.defaultSpatialReference,this._debugLog("No spatial reference found, locking to default ("+
t(c)+")")):(this.defaultSpatialReference&&1<b.length&&-1<g.findIndex(b,function(b){return b.equals(a.defaultSpatialReference)})&&(b=[this.defaultSpatialReference]),c=b[0],this._debugLog("Locking to "+t(c)));this._set("spatialReference",c);this._set("isSpatialReferenceDone",!0);c&&(b=this.logDebugInformation,this.logDebugInformation=!1,this._processMapCollections(function(b){return a._findExtent(b,c)}),this.extent||this._projectExtentCandidate(),this.logDebugInformation=b)}}null==this.heightModelInfo&&
this.view.isHeightModelInfoRequired&&(this._debugLog("Starting search for height model info..."),b=this._processMapCollections(function(b){return a._processHeightModelInfoSource(b)},function(a){return m.mayHaveHeightModelInfo(a)}),this._debugLog("Search ended with status "+v(b)),this._set("isHeightModelInfoSearching",0===b));null==this.tileInfo&&(b=!1,this.view.isTileInfoRequired()&&(b=this._deriveTileInfo()),b||this._set("isTileInfoDone",!0))}};c.prototype._processMapCollections=function(a,b){var c=
this;this._preloadMapCollections(b);var d=2;this._forAllMapCollectionSources(function(a){if(2!==d)return!1;c._debugLog("Processing collection "+a.collectionName+"...");if(a.loading&&!c._updateWhen(a.loading))return c._debugLog("Collection "+a.collectionName+" owner is loading -\x3e wait"),d=0,!1},function(e){if(2!==d)return!1;if(null!=b&&!b(e))return c._debugLog("Source "+e.id+" is skipped due to predicate"),!1;if(e.load&&!e.isFulfilled()&&!c._updateWhen(e.load()))return c._debugLog("Source "+e.id+
" is loading -\x3e wait"),d=0,!1;if((!e.load||e.isResolved())&&a(e))return d=1,!1});return d};c.prototype._preloadMapCollections=function(a){var b=this,c=10,d=this.logDebugInformation;this.logDebugInformation=!1;this._forAllMapCollectionSources(function(a){return!0},function(e){if(0===c||null!=a&&!a(e))return!1;e.load&&!e.isFulfilled()&&(b.logDebugInformation=d,b._debugLog("Pre-loading source "+e.id),b.logDebugInformation=!1,e.load(),c--)});this.logDebugInformation=d};c.prototype._forAllMapCollectionSources=
function(a,b){for(var c=0,d=this.mapCollectionPaths;c<d.length;c++){var e="map."+d[c],f=this._ensureLoadedOwnersFromCollectionName(e);!1!==a(f)&&(f=f.owner,!f||f.isRejected&&f.isRejected()?this._debugLog("Collection "+e+" owner is invalid or rejected -\x3e skip"):(f=this.view.get(e))?this._forEachSource(f,b):this._debugLog("Collection "+e+" does not exist -\x3e skip"))}};c.prototype._forEachSource=function(a,b){var c=0;for(a=a.items;c<a.length;c++){var d=a[c];!1!==b(d)&&"layers"in d&&this._forEachSource(d.layers,
b)}};c.prototype._processSpatialReferenceSource=function(a){var b=this._getSupportedSpatialReferences(a);if(0===b.length)return!1;this._spatialReferenceCandidates?(b=g.intersect(b,this._spatialReferenceCandidates,function(a,b){return a.equals(b)}),0<b.length?this._spatialReferenceCandidates=b:this._debugLog("Layer "+a.id+" is ignored because its supported spatial\n          references are not compatible with the previous candidates")):this._spatialReferenceCandidates=b;return 1===this._spatialReferenceCandidates.length};
c.prototype._findExtent=function(a,b){var c="fullExtents"in a&&a.fullExtents||(a.fullExtent?[a.fullExtent]:[]),d=g.find(c,function(a){return a.spatialReference.equals(b)});if(d)return this._set("extent",d),!0;0<this._getSupportedSpatialReferences(a).length&&(c=c.map(function(b){return{extent:b,layer:a}}),this._extentCandidates=(this._extentCandidates||[]).concat(c));return!1};c.prototype._projectExtentCandidate=function(){return h(this,void 0,void 0,function(){var b,c,d,e,h;return k(this,function(k){switch(k.label){case 0:if(!this._extentCandidates||
!this._extentCandidates.length)return[2];b=this.spatialReference;c=g.find(this._extentCandidates,function(a){return q.canProject(a.extent.spatialReference,b)});if(!c)return[3,1];this._set("extent",q.project(c.extent,b));return[3,7];case 1:return d=this._extentCandidates[0],this._extentProjectController=f.createAbortController(),[4,new Promise(function(b,c){a(["../../portal/support/geometryServiceUtils"],b,c)})];case 2:e=k.sent(),k.label=3;case 3:return k.trys.push([3,5,,6]),[4,e.projectGeometry(d.extent,
b,d.layer.portalItem,this._extentProjectController.signal)];case 4:return h=k.sent(),this._set("extent",h),[3,6];case 5:return k.sent(),[3,6];case 6:this._extentProjectController=null,k.label=7;case 7:return[2]}})})};c.prototype._getSupportedSpatialReferences=function(a){var b=this,c="supportedSpatialReferences"in a&&a.supportedSpatialReferences||(a.spatialReference?[a.spatialReference]:[]);if(0===c.length)return this._debugLog("Layer "+a.id+" is ignored because it does not have any spatial references"),
[];c=c.filter(function(c){return b.view.isSpatialReferenceSupported(c,a,function(a){return b._debugLog(a)})});0===c.length?this._debugLog("Layer "+a.id+" has spatial references but none of them are supported (or layer doesn't require locking)"):this._debugLog("Layer "+a.id+" has spatial references. Resulting candidate set: "+c.map(t).join(", "));return c};c.prototype._processHeightModelInfoSource=function(a){var b=m.deriveHeightModelInfoFromLayer(a);return b?(this._set("heightModelInfo",b),this._set("isHeightModelInfoSearching",
!1),a.spatialReference&&(this._set("vcsWkid",a.spatialReference.vcsWkid),this._set("latestVcsWkid",a.spatialReference.latestVcsWkid)),!0):!1};c.prototype._deriveTileInfo=function(){if(!this.isSpatialReferenceDone)return!0;var a=this.get("view.map");if(!a)return!0;var b=a.basemap,c=b&&b.get("baseLayers.0"),a=a.get("layers.0"),d=!1,e=null;b&&"failed"!==b.loadStatus?b.loaded?c&&"failed"!==c.loadStatus?c.loaded?e="tileInfo"in c&&c.tileInfo:(this._updateWhen(c.load()),d=!0):a&&"failed"!==a.loadStatus?
a.loaded?e="tileInfo"in a&&a.tileInfo:(this._updateWhen(a.load()),d=!0):d=!0:(this._updateWhen(b.load()),d=!0):a&&"failed"!==a.loadStatus&&(a.loaded?e="tileInfo"in a&&a.tileInfo:(this._updateWhen(a.load()),d=!0));e&&!e.spatialReference.equals(this.spatialReference)&&(e=null);d||this._set("tileInfo",e);return d};c.prototype._debugLog=function(a){this.logDebugInformation&&x.info(a)};var d;c.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"];e([r.property()],
c.prototype,"logDebugInformation",void 0);e([r.property({readOnly:!0})],c.prototype,"isSpatialReferenceDone",void 0);e([r.property({readOnly:!0})],c.prototype,"isTileInfoDone",void 0);e([r.property({readOnly:!0})],c.prototype,"isHeightModelInfoSearching",void 0);e([r.property({constructOnly:!0})],c.prototype,"view",void 0);e([r.property({readOnly:!0})],c.prototype,"spatialReference",void 0);e([r.property({readOnly:!0})],c.prototype,"extent",void 0);e([r.property({readOnly:!0})],c.prototype,"heightModelInfo",
void 0);e([r.property({readOnly:!0})],c.prototype,"vcsWkid",void 0);e([r.property({readOnly:!0})],c.prototype,"latestVcsWkid",void 0);e([r.property()],c.prototype,"mapCollectionPaths",void 0);e([r.property()],c.prototype,"defaultSpatialReference",void 0);e([r.property({readOnly:!0})],c.prototype,"tileInfo",void 0);return c=d=e([r.subclass("esri.views.support.DefaultsFromMap")],c)}(r.declared(d))})},"esri/geometry/support/heightModelInfoUtils":function(){define("require exports ../../core/compilerUtils ../../core/Error ../HeightModelInfo ../../layers/support/arcgisLayerUrl".split(" "),
function(a,b,l,e,k,h){function d(a,b,c){if(!g(a)||!g(b))return 4;if(null==a||null==b)return 0;if(!c&&a.heightUnit!==b.heightUnit)return 1;if(a.heightModel!==b.heightModel)return 2;switch(a.heightModel){case "gravity-related-height":return 0;case "ellipsoidal":return a.vertCRS===b.vertCRS?0:3;default:return 4}}function g(a){return null==a||null!=a.heightModel&&null!=a.heightUnit}function n(a){var b=a.url&&h.parse(a.url);return(null!=(a.spatialReference&&a.spatialReference.vcsWkid)||!b||"ImageServer"!==
b.serverType)&&"heightModelInfo"in a&&a.heightModelInfo?a.heightModelInfo:f(a)?k.deriveUnitFromSR(r,a.spatialReference):null}function c(a){if(!("capabilities"in a))return!1;switch(a.type){case "feature":case "csv":case "stream":case "geojson":return!0;case "map-image":case "imagery":case "tile":case "vector-tile":case null:return!1;default:return l.neverReached(a),!1}}function f(a){return c(a)?!!(a.capabilities&&a.capabilities.data&&a.capabilities.data.supportsZ):p(a)}function p(a){switch(a.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":return!0;
case "base-dynamic":case "base-elevation":case "base-tile":case "bing-maps":case "csv":case "geojson":case "feature":case "geo-rss":case "graphics":case "group":case "imagery":case "kml":case "map-image":case "map-notes":case "open-street-map":case "stream":case "tile":case "unknown":case "unsupported":case "vector-tile":case "web-tile":case "wms":case "wmts":case null:break;default:l.neverReached(a)}return!1}Object.defineProperty(b,"__esModule",{value:!0});b.validateWebSceneError=function(a,b){if(!a)return null;
if(!g(a))return new e("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:a});var c=a.heightUnit;a=k.deriveUnitFromSR(a,b).heightUnit;return c!==a?new e("webscene:incompatible-height-unit","The vertical units of the scene ("+c+") must match the horizontal units of the scene ("+a+")",{verticalUnit:c,horizontalUnit:a}):null};b.rejectLayerError=function(a,b,c){var g=n(a),h=d(g,b,c),l=null;if(g){var m=k.deriveUnitFromSR(g,a.spatialReference).heightUnit;
c||m===g.heightUnit||(l=new e("layerview:unmatched-height-unit","The vertical units of the layer must match the horizontal units ("+m+")",{horizontalUnit:m}))}if(!("heightModelInfo"in a&&null!=a.heightModelInfo||null!=a.spatialReference)&&f(a)||4===h||l)return new e("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:g,error:l});l=null;switch(h){case 1:a=g.heightUnit||"unknown";c=b.heightUnit||"unknown";l=new e("layerview:incompatible-height-unit",
"The vertical units of the layer ("+a+") must match the vertical units of the scene ("+c+")",{layerUnit:a,sceneUnit:c});break;case 2:a=g.heightModel||"unknown";c=b.heightModel||"unknown";l=new e("layerview:incompatible-height-model","The height model of the layer ("+a+") must match the height model of the scene ("+c+")",{layerHeightModel:a,sceneHeightModel:c});break;case 3:a=g.vertCRS||"unknown",c=b.vertCRS||"unknown",l=new e("layerview:incompatible-vertical-datum","The vertical datum of the layer ("+
a+") must match the vertical datum of the scene ("+c+")",{layerDatum:a,sceneDatum:c})}return l?new e("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:g,sceneHeightModelInfo:b,error:l}):null};b.deriveHeightModelInfoFromLayer=n;b.mayHaveHeightModelInfo=function(a){return null!=a.layers||p(a)||c(a)||"heightModelInfo"in a};var r=new k({heightModel:"gravity-related-height"})})},"esri/views/ViewAnimation":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/Promise ../core/promiseUtils ../core/promiseUtils ../core/scheduling ../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g,n,c){a=function(a){function b(b){b=a.call(this)||this;b.state="running";b.target=null;return b}l(b,a);b.prototype.initialize=function(){var a=this;this.addResolvingPromise(d.create(function(b,c){a._dfd={resolve:b,reject:c}}))};Object.defineProperty(b.prototype,"done",{get:function(){return"finished"===this.state||"stopped"===this.state},enumerable:!0,configurable:!0});b.prototype.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),
n.schedule(this._dfd.reject.bind(this._dfd,d.createAbortError("ViewAnimation stopped"))))};b.prototype.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),n.schedule(this._dfd.resolve))};b.prototype.update=function(a,b){b||(b=g.isThenable(a)?"waiting-for-target":"running");this._set("target",a);this._set("state",b)};e([c.property({readOnly:!0,dependsOn:["state"]})],b.prototype,"done",null);e([c.property({readOnly:!0,type:String})],b.prototype,"state",
void 0);e([c.property()],b.prototype,"target",void 0);return b=e([c.subclass("esri.views.ViewAnimation")],b)}(c.declared(k,h));(a||(a={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return a})},"esri/views/layers/LayerView":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/Promise ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),
function(a,b,l,e,k,h,d,g,n,c,f){return function(a){function b(b){b=a.call(this)||this;b.layer=null;b.parent=null;b.view=null;return b}l(b,a);b.prototype.initialize=function(){var a=this;this.addResolvingPromise(this.layer);this.when().catch(function(b){if("layerview:create-error"!==b.name){var d=a.layer&&a.layer.id||"no id",e=a.layer&&a.layer.title||"no title";g.getLogger(a.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '"+e+"', id: '"+d+"')",b);return c.reject(b)}})};
b.prototype.destroy=function(){this.layer=this.view=this.parent=null};Object.defineProperty(b.prototype,"suspended",{get:function(){return!this.canResume()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"updating",{get:function(){return!this.suspended&&this.isUpdating()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{get:function(){return!0===this.get("layer.visible")},set:function(a){void 0===a?this._clearOverride("visible"):this._override("visible",
a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fullOpacity",{get:function(){var a=this.get("layer.opacity"),a=null==a?1:a,b=this.get("parent.fullOpacity");return a*(null==b?1:b)},enumerable:!0,configurable:!0});b.prototype.canResume=function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1};b.prototype.isUpdating=function(){return!1};e([f.property()],b.prototype,"layer",void 0);e([f.property()],b.prototype,"parent",void 0);
e([f.property({readOnly:!0,dependsOn:["view","visible","layer.loaded","parent.suspended"]})],b.prototype,"suspended",null);e([f.property({type:Boolean,dependsOn:["suspended"],readOnly:!0})],b.prototype,"updating",null);e([f.property()],b.prototype,"view",void 0);e([f.property({dependsOn:["layer.visible"]})],b.prototype,"visible",null);e([f.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],b.prototype,"fullOpacity",null);return b=e([f.subclass("esri.views.layers.LayerView")],b)}(f.declared(h,
k,d.Identifiable,n))})},"esri/widgets/Widget":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/Collection ../core/domUtils ../core/Evented ../core/Handles ../core/Logger ../core/watchUtils ../core/accessorSupport/decorators ./support/widget maquette".split(" "),function(a,b,l,e,k,h,d,g,n,c,f,p,r,m,q){var t=f.getLogger("esri.widgets.Widget"),v=0;return function(a){function b(b,d){b=a.call(this)||
this;b._attached=!1;b.destroyed=!1;b.domNode=null;b.iconClass="esri-icon-checkbox-unchecked";b.label=b.declaredClass.split(".").pop();b.visible=!0;b._internalHandles=new c;b.render=b.render.bind(b);return b}e(b,a);b.prototype.normalizeCtorArgs=function(a,b){a=l({},a);b&&(a.container=b);return a};b.prototype.initialize=function(){var a=this;this._internalHandles.add(this._renderableProps.map(function(b){return p.init(a,b,function(a,c){var e=this;d.isCollection(c)&&this._internalHandles.remove(this.declaredClass+
":"+b+"-collection-change-event-listener");d.isCollection(a)&&(a=a.on("change",function(){return e.scheduleRender()}),this._internalHandles.add(a,this.declaredClass+":"+b+"-collection-change-event-listener"));this.scheduleRender()})}));this._delegatedEventNames.length&&this._internalHandles.add(p.init(this,"viewModel",function(){a._get("viewModel")&&a._internalHandles.remove("delegated-events");a._delegatedEventNames.map(function(b){return a.viewModel.on(b,function(c){a.emit(b,c)})})}),"delegated-events");
this.postInitialize();this._internalHandles.add(p.whenOnce(this,"container",function(b){return a._attach(b)}))};b.prototype.postInitialize=function(){};b.prototype.destroy=function(){this.destroyed||(this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._internalHandles.destroy(),this._emitter.clear(),this._set("destroyed",!0))};b.prototype.startup=function(){t.warn("Widget.startup() is deprecated and no longer needed")};Object.defineProperty(b.prototype,
"container",{set:function(a){this._get("container")||this._set("container",a)},enumerable:!0,configurable:!0});b.prototype.castContainer=function(a){return g.byId(a)};Object.defineProperty(b.prototype,"id",{get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+v++},set:function(a){a&&this._set("id",a)},enumerable:!0,configurable:!0});b.prototype.scheduleRender=function(){this._projector.scheduleRender()};b.prototype.classes=function(){for(var a=[],b=0;b<
arguments.length;b++)a[b]=arguments[b];return m.classes.apply(this,a)};b.prototype.own=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments));this._internalHandles.add(a)};b.prototype.renderNow=function(){this._projector.renderNow()};b.prototype._attach=function(a){a&&(this._projector.merge(a,this.render),this._attached=!0)};b.prototype._detach=function(a){a&&this._attached&&(this._projector.detach(this.render),a.parentNode&&a.parentNode.removeChild(a),this._attached=!1)};k([r.shared(q.createProjector())],
b.prototype,"_projector",void 0);k([r.shared([])],b.prototype,"_renderableProps",void 0);k([r.shared([])],b.prototype,"_delegatedEventNames",void 0);k([r.property({value:null})],b.prototype,"container",null);k([r.cast("container")],b.prototype,"castContainer",null);k([r.property({readOnly:!0})],b.prototype,"destroyed",void 0);k([r.property({aliasOf:"container"})],b.prototype,"domNode",void 0);k([r.property()],b.prototype,"iconClass",void 0);k([r.property({dependsOn:["container"]})],b.prototype,"id",
null);k([r.property()],b.prototype,"label",void 0);k([r.property()],b.prototype,"viewModel",void 0);k([r.property()],b.prototype,"visible",void 0);return b=k([r.subclass("esri.widgets.Widget")],b)}(r.declared(h,n))})},"esri/core/domUtils":function(){define(["require","exports","../widgets/support/widget"],function(a,b,l){function e(a){return l.isWidgetBase(a)?a.domNode:a}Object.defineProperty(b,"__esModule",{value:!0});b.show=function(a){if(a=e(a))a.style.display="block"};b.getNode=e;b.hide=function(a){if(a=
e(a))a.style.display="none"};b.toggle=function(a){if(a=e(a))a.style.display="none"===a.style.display?"block":"none"};b.byId=function(a){return"string"===typeof a?document.getElementById(a):a};b.empty=function(a){for(;a.hasChildNodes();)a.removeChild(a.firstChild)};b.insertAfter=function(a,b){var d=b.parentNode;d&&(d.lastChild===b?d.appendChild(a):d.insertBefore(a,b.nextSibling))};b.insertBefore=function(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)};b.reparent=function(a,b){for(;a.hasChildNodes();)b.appendChild(a.firstChild)};
b.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)}})},"esri/widgets/support/widget":function(){define("require exports ./decorators ./jsxFactory ./widgetUtils ./shim/SVGElement".split(" "),function(a,b,l,e,k){function h(a){for(var d in a)b.hasOwnProperty(d)||(b[d]=a[d])}Object.defineProperty(b,"__esModule",{value:!0});h(l);h(e);h(k);b.isWidget=function(a){return a&&"function"===typeof a.render};b.isWidgetBase=function(a){return a&&"function"===typeof a.postMixInProperties&&"function"===
typeof a.buildRendering&&"function"===typeof a.postCreate&&"function"===typeof a.startup}})},"esri/widgets/support/decorators":function(){define(["require","exports","./decorators/accessibleHandler","./decorators/renderable","./decorators/vmEvent"],function(a,b,l,e,k){function h(a){for(var d in a)b.hasOwnProperty(d)||(b[d]=a[d])}Object.defineProperty(b,"__esModule",{value:!0});h(l);h(e);h(k)})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["require","exports"],function(a,
b){function l(a){return function(b){for(var e=[],d=1;d<arguments.length;d++)e[d-1]=arguments[d];d=b.type;if(b instanceof KeyboardEvent||"keyup"===d||"keydown"===d||"keypress"===d){if("Enter"===b.key||" "===b.key)b.preventDefault(),b.target.click()}else a.call.apply(a,[this,b].concat(e))}}Object.defineProperty(b,"__esModule",{value:!0});b.accessibleHandler=function(){return function(a,b){return{value:l(a[b])}}}})},"esri/widgets/support/decorators/renderable":function(){define(["require","exports",
"./propUtils"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.renderable=function(a){var b="string"===typeof a?l.splitProps(a):a;return function(a,d){a._renderableProps||(a._renderableProps=[]);a=a._renderableProps;b?a.push.apply(a,l.normalizePropNames(b,d)):a.push(d)}}})},"esri/widgets/support/decorators/propUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.splitProps=function(a){return a.split(",").map(function(a){return a.trim()})};
b.normalizePropNames=function(a,b){return a.map(function(a){a=0===a.indexOf(b)?a:b+"."+a;return a})}})},"esri/widgets/support/decorators/vmEvent":function(){define(["require","exports","./propUtils"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.vmEvent=function(a){return function(b){b._delegatedEventNames||(b._delegatedEventNames=[]);var e=Array.isArray(a)?a:l.splitProps(a);b._delegatedEventNames=b._delegatedEventNames.concat(e)}}})},"esri/widgets/support/jsxFactory":function(){define(["require",
"exports","maquette-jsx"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.tsx=l.jsx})},"maquette-jsx/dist/maquette-jsx.umd":function(){(function(a,b){"object"===typeof exports&&"undefined"!==typeof module?b(exports):"function"===typeof define&&define.amd?define(["exports"],b):b(a.maquetteCssTransitions={})})(this,function(a){var b=function(a,k){for(var e=0,d=a.length;e<d;e++){var g=a[e];Array.isArray(g)?b(g,k):null!==g&&void 0!==g&&!1!==g&&(g.hasOwnProperty("vnodeSelector")||(g=
{vnodeSelector:"",properties:void 0,children:void 0,text:g.toString(),domNode:null}),k.push(g))}},l=function(a,k){for(var e=[],d=2;d<arguments.length;d++)e[d-2]=arguments[d];if(1===e.length&&"string"===typeof e[0])return{vnodeSelector:a,properties:k||void 0,children:void 0,text:e[0],domNode:null};d=[];b(e,d);return{vnodeSelector:a,properties:k||void 0,children:d,text:void 0,domNode:null}};a.jsx=l;a.enableGlobalJsx=function(){window.jsx=l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widgetUtils":function(){define("require exports ../../core/ArrayPool ../../core/has ../../core/Logger maquette-css-transitions".split(" "),
function(a,b,l,e,k,h){Object.defineProperty(b,"__esModule",{value:!0});k.getLogger("esri.widgets.support.widgetUtils");b.join=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.join(" ")};b.classes=function(a){for(var b=l.acquire(),d=0;d<arguments.length;d++){var c=arguments[d],e=typeof c;if("string"===e)b.push(c);else if(Array.isArray(c))b.push.apply(b,c);else if("object"===e)for(var h in c)c[h]&&b.push(h)}d=b.join(" ");l.release(b);return d};b.isRTL=function(){return"rtl"===
document.dir};b.storeNode=function(a){this[a.getAttribute("data-node-ref")]=a};b.cssTransition=function(a,b){return("enter"===a?h.createEnterCssTransition:h.createExitCssTransition)(b)}})},"maquette-css-transitions/dist/maquette-css-transitions.umd":function(){(function(a,b){"object"===typeof exports&&"undefined"!==typeof module?b(exports):"function"===typeof define&&define.amd?define(["exports"],b):b(a.maquetteCssTransitions={})})(this,function(a){var b,l,e=function(a){if("WebkitTransition"in a.style)b=
"webkitTransitionEnd",l="webkitAnimationEnd";else if("transition"in a.style)b="transitionend",l="animationend";else throw Error("Your browser is not supported!");};a.createEnterCssTransition=function(a,h){void 0===h&&(h=a+"-active");return function(d){b||e(d);var g=!1,k=function(c){g||(g=!0,d.removeEventListener(b,k),d.removeEventListener(l,k),d.classList.remove(a),d.classList.remove(h))};d.classList.add(a);d.addEventListener(b,k);d.addEventListener(l,k);requestAnimationFrame(function(){d.classList.add(h)})}};
a.createExitCssTransition=function(a,h){void 0===h&&(h=a+"-active");return function(d,g){b||e(d);var k=!1,c=function(a){k||(k=!0,d.removeEventListener(b,c),d.removeEventListener(l,c),g())};d.classList.add(a);d.addEventListener(b,c);d.addEventListener(l,c);requestAnimationFrame(function(){d.classList.add(h)})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/shim/SVGElement":function(){define(["require","exports","../../../core/has"],function(a,b,l){Object.defineProperty(b,
"__esModule",{value:!0});l.add("esri-svg-classlist","classList"in SVGElement.prototype);var e=function(){function a(a){this._node=a}a.prototype.add=function(a){var b=this._node;b.className.baseVal=(b.className.baseVal+" "+a).trim()};a.prototype.contains=function(a){return-1<this._node.className.baseVal.split(" ").indexOf(a)};a.prototype.remove=function(a){for(var b=this._node,e="",h=0,c=b.className.baseVal.split(" ");h<c.length;h++){var f=c[h];f!==a&&(e+=f+" ")}b.className.baseVal=e.trim()};a.prototype.toggle=
function(a,b){var d=this.contains(a),e;if(e=d?!0!==b&&"remove":!1!==b&&"add")this[e](a);return void 0!==b?b:!d};return a}();b.DOMTokenListSubset=e;l("esri-svg-classlist")||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){return new e(this)}})})},"maquette/dist/maquette.umd":function(){(function(a,b){"object"===typeof exports&&"undefined"!==typeof module?b(exports):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.maquette={}))})(this,function(a){var b=
[],l=function(a,b){var c={};Object.keys(a).forEach(function(b){c[b]=a[b]});b&&Object.keys(b).forEach(function(a){c[a]=b[a]});return c},e=function(a,b){return a.vnodeSelector!==b.vnodeSelector?!1:a.properties&&b.properties?a.properties.key!==b.properties.key?!1:a.properties.bind===b.properties.bind:!a.properties&&!b.properties},k=function(a){if("string"!==typeof a)throw Error("Style values must be strings");},h=function(a,b,c,d){var f=a[b];if(""!==f.vnodeSelector){var g=f.properties;if(!(g&&(void 0===
g.key?g.bind:g.key)))for(g=0;g<a.length;g++)if(g!==b&&e(a[g],f))throw Error(c.vnodeSelector+" had a "+f.vnodeSelector+" child "+("added"===d?d:"removed")+", but there is now more than one. You must add unique key properties to make them distinguishable.");}},d=[],g=!1,n=function(a){(a.children||[]).forEach(n);a.properties&&a.properties.afterRemoved&&a.properties.afterRemoved.apply(a.properties.bind||a.properties,[a.domNode])},c=function(){g=!1;d.forEach(n);d.length=0},f=function(a){d.push(a);g||(g=
!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(c,{timeout:16}):setTimeout(c,16))},p=function(a){var b=a.domNode;if(a.properties){var c=a.properties.exitAnimation;if(c){b.style.pointerEvents="none";c(b,function(){b.parentNode&&(b.parentNode.removeChild(b),f(a))},a.properties);return}}b.parentNode&&(b.parentNode.removeChild(b),f(a))},r=function(a,b,c){if(b)for(var d=c.eventHandlerInterceptor,e=Object.keys(b),f=e.length,g=function(f){f=e[f];var g=b[f];if("className"===
f)throw Error('Property "className" is not supported, use "class".');if("class"===f)v(a,g,!0);else if("classes"===f){var h=Object.keys(g),l=h.length;for(f=0;f<l;f++){var m=h[f];g[m]&&a.classList.add(m)}}else if("styles"===f)for(h=Object.keys(g),l=h.length,f=0;f<l;f++){var m=h[f],n=g[m];n&&(k(n),c.styleApplyer(a,m,n))}else"key"!==f&&null!==g&&void 0!==g&&(h=typeof g,"function"===h?0===f.lastIndexOf("on",0)&&(d&&(g=d(f,g,a,b)),"oninput"===f&&function(){var a=g;g=function(b){a.apply(this,[b]);b.target["oninput-value"]=
b.target.value}}(),a[f]=g):"http://www.w3.org/2000/svg"===c.namespace?"href"===f?a.setAttributeNS("http://www.w3.org/1999/xlink",f,g):a.setAttribute(f,g):"string"===h&&"value"!==f&&"innerHTML"!==f?a.setAttribute(f,g):a[f]=g)},h=0;h<f;h++)g(h)},m=function(a,b,c){var d=b.children;if(d)for(var e=0;e<d.length;e++)q(d[e],a,void 0,c);b.text&&(a.textContent=b.text);r(a,b.properties,c);b.properties&&b.properties.afterCreate&&b.properties.afterCreate.apply(b.properties.bind||b.properties,[a,c,b.vnodeSelector,
b.properties,b.children])},q=function(a,b,c,d){var e,f=0,g=a.vnodeSelector,h=b.ownerDocument;if(""===g)e=a.domNode=h.createTextNode(a.text),void 0!==c?b.insertBefore(e,c):b.appendChild(e);else{for(var k=0;k<=g.length;++k){var n=g.charAt(k);if(k===g.length||"."===n||"#"===n)n=g.charAt(f-1),f=g.slice(f,k),"."===n?e.classList.add(f):"#"===n?e.id=f:("svg"===f&&(d=l(d,{namespace:"http://www.w3.org/2000/svg"})),void 0!==d.namespace?e=a.domNode=h.createElementNS(d.namespace,f):(e=a.domNode=a.domNode||h.createElement(f),
"input"===f&&a.properties&&void 0!==a.properties.type&&e.setAttribute("type",a.properties.type)),void 0!==c?b.insertBefore(e,c):e.parentNode!==b&&b.appendChild(e)),f=k+1}m(e,a,d)}},t,v=function(a,b,c){b&&b.split(" ").forEach(function(b){b&&a.classList.toggle(b,c)})};t=function(a,c,d){var f=a.domNode;if(a===c)return!1;var g=!1;if(""===c.vnodeSelector){if(c.text!==a.text)return a=f.ownerDocument.createTextNode(c.text),f.parentNode.replaceChild(a,f),c.domNode=a,!0;c.domNode=f}else{0===c.vnodeSelector.lastIndexOf("svg",
0)&&(d=l(d,{namespace:"http://www.w3.org/2000/svg"}));a.text!==c.text&&(g=!0,void 0===c.text?f.removeChild(f.firstChild):f.textContent=c.text);c.domNode=f;var m;m=a.children;var n=c.children,r=d;if(m===n)m=!1;else{m=m||b;for(var n=n||b,u=m.length,x=n.length,w=0,y=0,z=!1;y<x;){var C=w<u?m[w]:void 0,D=n[y];if(void 0!==C&&e(C,D))z=t(C,D,r)||z,w++;else{b:{var C=m,A=D;if(""!==A.vnodeSelector)for(var B=w+1;B<C.length;B++)if(e(C[B],A)){C=B;break b}C=-1}if(0<=C){for(;w<C;w++)p(m[w]),h(m,w,c,"removed");z=
t(m[C],D,r)||z;w=C+1}else q(D,f,w<u?m[w].domNode:void 0,r),D.properties&&(C=D.properties.enterAnimation)&&C(D.domNode,D.properties),h(n,y,c,"added")}y++}if(u>w)for(;w<u;w++)p(m[w]),h(m,w,c,"removed");m=z}g=m||g;m=a.properties;n=c.properties;r=d;if(n){u=!1;x=Object.keys(n);y=x.length;for(z=0;z<y;z++)if(C=x[z],D=n[C],w=m[C],"class"===C)w!==D&&(v(f,w,!1),v(f,D,!0));else if("classes"===C)for(var A=f.classList,B=Object.keys(D),E=B.length,C=0;C<E;C++){var S=B[C],fa=!!D[S];fa!==!!w[S]&&(u=!0,fa?A.add(S):
A.remove(S))}else if("styles"===C)for(A=Object.keys(D),B=A.length,C=0;C<B;C++)E=A[C],S=D[E],S!==w[E]&&(u=!0,S?(k(S),r.styleApplyer(f,E,S)):r.styleApplyer(f,E,""));else D||"string"!==typeof w||(D=""),"value"===C?(A=f[C],A!==D&&(f["oninput-value"]?A===f["oninput-value"]:D!==w)&&(f[C]=D,f["oninput-value"]=void 0),D!==w&&(u=!0)):D!==w&&(w=typeof D,"function"===w&&r.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===r.namespace?"href"===C?f.setAttributeNS("http://www.w3.org/1999/xlink",C,D):f.setAttribute(C,
D):"string"===w&&"innerHTML"!==C?"role"===C&&""===D?f.removeAttribute(C):f.setAttribute(C,D):f[C]!==D&&(f[C]=D),u=!0));m=u}else m=void 0;g=m||g;c.properties&&c.properties.afterUpdate&&c.properties.afterUpdate.apply(c.properties.bind||c.properties,[f,d,c.vnodeSelector,c.properties,c.children])}g&&c.properties&&c.properties.updateAnimation&&c.properties.updateAnimation(f,c.properties,a.properties);return!1};var x=function(a,b){return{getLastRender:function(){return a},update:function(c){if(a.vnodeSelector!==
c.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var d=a;a=c;t(d,c,b)},domNode:a.domNode}},u={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(a,b,c){a.style[b]=c}},w={create:function(a,b){b=l(u,b);q(a,document.createElement("div"),void 0,b);return x(a,b)},append:function(a,b,c){c=l(u,c);q(b,a,void 0,c);return x(b,c)},insertBefore:function(a,b,
c){c=l(u,c);q(b,a.parentNode,a,c);return x(b,c)},merge:function(a,b,c){c=l(u,c);b.domNode=a;m(a,b,c);return x(b,c)},replace:function(a,b,c){c=l(u,c);q(b,a.parentNode,a,c);a.parentNode.removeChild(a);return x(b,c)}},z=function(a,b,c){for(var d=0,e=b.length;d<e;d++){var f=b[d];Array.isArray(f)?z(a,f,c):null!==f&&void 0!==f&&!1!==f&&("string"===typeof f&&(f={vnodeSelector:"",properties:void 0,children:void 0,text:f.toString(),domNode:null}),c.push(f))}},A;A=Array.prototype.find?function(a,b){return a.find(b)}:
function(a,b){return a.filter(b)[0]};var y=function(a,b){var c=a;b.forEach(function(a){c=c&&c.children?A(c.children,function(b){return b.domNode===a}):void 0});return c},B=function(a,b,c){var d=function(d){c("domEvent",d);var e=b(),f;f=d.currentTarget;for(var g=e.domNode,h=[];f!==g;)h.push(f),f=f.parentNode;f=h;f.reverse();e=y(e.getLastRender(),f);a.scheduleRender();var k;e&&(k=e.properties["on"+d.type].apply(e.properties.bind||this,arguments));c("domEventProcessed",d);return k};return function(a,
b,c,e){return d}};a.createCache=function(){var a,b;return{invalidate:function(){a=b=void 0},result:function(c,d){if(a)for(var e=0;e<c.length;e++)a[e]!==c[e]&&(b=void 0);b||(b=d(),a=c);return b}}};a.createMapping=function(a,b,c){var d=[],e=[];return{results:e,map:function(f){for(var g=f.map(a),h=e.slice(),k=0,l=0;l<f.length;l++){var m=f[l],n=g[l];if(n===d[k])e[l]=h[k],c(m,h[k],l),k++;else{for(var p=!1,q=1;q<d.length+1;q++){var r=(k+q)%d.length;if(d[r]===n){e[l]=h[r];c(f[l],h[r],l);k=r+1;p=!0;break}}p||
(e[l]=b(m,l))}}e.length=f.length;d=g}}};a.createProjector=function(a){var b,c=l(u,a),d=c.performanceLogger,e=!0,f,g=!1,h=[],k=[],m=function(a,e,f){var g;c.eventHandlerInterceptor=B(b,function(){return g},d);g=a(e,f(),c);h.push(g);k.push(f)},n=function(){f=void 0;if(e){e=!1;d("renderStart",void 0);for(var a=0;a<h.length;a++){var b=k[a]();d("rendered",void 0);h[a].update(b);d("patched",void 0)}d("renderDone",void 0);e=!0}};return b={renderNow:n,scheduleRender:function(){f||g||(f=requestAnimationFrame(n))},
stop:function(){f&&(cancelAnimationFrame(f),f=void 0);g=!0},resume:function(){g=!1;e=!0;b.scheduleRender()},append:function(a,b){m(w.append,a,b)},insertBefore:function(a,b){m(w.insertBefore,a,b)},merge:function(a,b){m(w.merge,a,b)},replace:function(a,b){m(w.replace,a,b)},detach:function(a){for(var b=0;b<k.length;b++)if(k[b]===a)return k.splice(b,1),h.splice(b,1)[0];throw Error("renderFunction was not found");}}};a.dom=w;a.h=function(a,b,c){if(Array.isArray(b))c=b,b=void 0;else if(b&&("string"===typeof b||
b.hasOwnProperty("vnodeSelector"))||c&&("string"===typeof c||c.hasOwnProperty("vnodeSelector")))throw Error("h called with invalid arguments");var d,e;c&&1===c.length&&"string"===typeof c[0]?d=c[0]:c&&(e=[],z(a,c,e),0===e.length&&(e=void 0));return{vnodeSelector:a,properties:b,children:e,text:""===d?void 0:d,domNode:null}};Object.defineProperty(a,"__esModule",{value:!0})})},"*now":function(a){a(['dojo/i18n!*preload*dojo/nls/dojo*["ar","bs","ca","cs","da","de","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});require.boot&&require.apply(null,require.boot);